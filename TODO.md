# ğŸ§± TODO List â€“ Frontend Development Plan

## PMI Emergency Call System - Frontend Implementation

---

## ğŸ“‹ Analysis Summary

### From api_docs.md:

- **Base URL**: `http://localhost:8000`
- **Authentication**: JWT Bearer Token (expires in 30 minutes)
- **Main Endpoints**:
  - `/api/auth/*` - Authentication (register, login, me)
  - `/api/users/*` - User management (CRUD)
  - `/api/vehicle-types/*` - Vehicle type management
  - `/api/vehicles/*` - Vehicle management
  - `/api/reports/*` - Emergency report management
  - `/api/assignments/*` - Assignment management
  - `/api/driver-locations/*` - Real-time driver tracking

### From flow_docs.md:

- **User Roles**: Admin, Driver, Reporter
- **Main Flows**:
  1. Authentication & Registration
  2. Emergency Report Creation
  3. Vehicle & Driver Assignment
  4. Real-time Location Tracking
  5. Report Status Lifecycle (pending â†’ assigned â†’ on_progress â†’ completed/cancelled)

---

## 1ï¸âƒ£ Setup Project

### âœ… Current Status:

- [x] Next.js project initialized with App Router
- [x] TypeScript configured
- [x] Tailwind CSS installed
- [x] Basic folder structure created

### âœ… Tasks:

- [x] Install additional dependencies:
  - `axios` - HTTP client âœ…
  - `react-hook-form` - Form handling âœ…
  - `zod` - Schema validation âœ…
  - `@tanstack/react-query` - Server state management âœ…
  - `sonner` - Toast notifications âœ…
  - `lucide-react` - Icons âœ…
  - `date-fns` - Date formatting âœ…
- [x] Configure environment variables (`.env.local`):
  ```
  NEXT_PUBLIC_API_BASE_URL=http://localhost:8000
  ```

---

## 2ï¸âƒ£ Folder & File Structure

### ğŸ“ Planned Structure:

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx                    [âœ“ Exists]
â”‚   â”œâ”€â”€ page.tsx                      [âœ“ Exists]
â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              [âœ“ Exists]
â”‚   â”‚   â””â”€â”€ register/
â”‚   â”‚       â””â”€â”€ page.tsx              [TODO]
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ page.tsx                  [âœ“ Exists]
â”‚   â”‚   â”œâ”€â”€ reports/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx              [TODO] - List reports
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx          [TODO] - Report detail
â”‚   â”‚   â”‚   â””â”€â”€ create/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx          [TODO] - Create report
â”‚   â”‚   â”œâ”€â”€ assignments/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx              [TODO] - List assignments
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx          [TODO] - Assignment detail
â”‚   â”‚   â”‚   â””â”€â”€ create/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx          [TODO] - Create assignment
â”‚   â”‚   â”œâ”€â”€ vehicles/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx              [TODO] - List vehicles
â”‚   â”‚   â”‚   â””â”€â”€ types/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx          [TODO] - Vehicle types
â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              [TODO] - User management (Admin)
â”‚   â”‚   â”œâ”€â”€ tracking/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              [TODO] - Real-time driver tracking
â”‚   â”‚   â””â”€â”€ layout.tsx                [TODO] - Dashboard layout with sidebar
â”‚   â””â”€â”€ driver/
â”‚       â”œâ”€â”€ page.tsx                  [TODO] - Driver dashboard
â”‚       â”œâ”€â”€ assignments/
â”‚       â”‚   â””â”€â”€ page.tsx              [TODO] - Active assignments
â”‚       â””â”€â”€ location/
â”‚           â””â”€â”€ page.tsx              [TODO] - Location update
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ Button.tsx                [âœ“ Exists]
â”‚   â”‚   â”œâ”€â”€ Card.tsx                  [âœ“ Exists]
â”‚   â”‚   â”œâ”€â”€ Input.tsx                 [âœ“ Exists]
â”‚   â”‚   â”œâ”€â”€ Navbar.tsx                [âœ“ Exists]
â”‚   â”‚   â”œâ”€â”€ Select.tsx                [TODO]
â”‚   â”‚   â”œâ”€â”€ Textarea.tsx              [TODO]
â”‚   â”‚   â”œâ”€â”€ Badge.tsx                 [TODO]
â”‚   â”‚   â”œâ”€â”€ Table.tsx                 [TODO]
â”‚   â”‚   â”œâ”€â”€ Modal.tsx                 [TODO]
â”‚   â”‚   â””â”€â”€ LoadingSpinner.tsx        [TODO]
â”‚   â”œâ”€â”€ forms/
â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx             [TODO]
â”‚   â”‚   â”œâ”€â”€ RegisterForm.tsx          [TODO]
â”‚   â”‚   â”œâ”€â”€ ReportForm.tsx            [TODO]
â”‚   â”‚   â””â”€â”€ AssignmentForm.tsx        [TODO]
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx               [TODO]
â”‚   â”‚   â”œâ”€â”€ StatsCard.tsx             [TODO]
â”‚   â”‚   â”œâ”€â”€ ReportList.tsx            [TODO]
â”‚   â”‚   â””â”€â”€ AssignmentList.tsx        [TODO]
â”‚   â””â”€â”€ maps/
â”‚       â”œâ”€â”€ MapView.tsx               [TODO] - Display locations
â”‚       â””â”€â”€ DriverMarker.tsx          [TODO] - Driver position marker
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ axiosInstance.ts              [âœ“ Exists]
â”‚   â”œâ”€â”€ api.ts                        [âœ“ Exists]
â”‚   â”œâ”€â”€ types.ts                      [âœ“ Exists]
â”‚   â”œâ”€â”€ auth.ts                       [TODO] - Auth helpers
â”‚   â”œâ”€â”€ storage.ts                    [TODO] - LocalStorage helpers
â”‚   â””â”€â”€ utils.ts                      [TODO] - General utilities
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useAuth.ts                    [TODO] - Authentication hook
â”‚   â”œâ”€â”€ useReports.ts                 [TODO] - Reports data fetching
â”‚   â”œâ”€â”€ useAssignments.ts             [TODO] - Assignments data fetching
â”‚   â””â”€â”€ useGeolocation.ts             [TODO] - Browser geolocation
â””â”€â”€ contexts/
    â””â”€â”€ AuthContext.tsx               [âœ“ Created] - Global auth state
```

### âœ… Tasks:

- [x] Create missing folders and placeholder files âœ…
  - All pages created (register, reports, assignments, vehicles, users, tracking, driver)
  - All UI components created (Select, Textarea, Badge, Table, Modal, LoadingSpinner)
  - All utility files created (auth.ts, storage.ts, utils.ts)
  - All hooks created (useAuth, useReports, useAssignments, useGeolocation)
  - AuthContext created
- [x] Setup barrel exports for components (`index.ts`) âœ…

---

## 3ï¸âƒ£ Implement API Integration

### âœ… Tasks:

#### A. Setup Axios Instance (`lib/axiosInstance.ts`) âœ…

- [x] Configure base URL from environment âœ…
- [x] Add request interceptor to attach JWT token âœ…
- [x] Add response interceptor for error handling âœ…
- [x] Handle 401 (redirect to login) âœ…

#### B. Create Type Definitions (`lib/types.ts`) âœ…

- [x] **User Types**: âœ…
  - `User`, `UserRole`, `LoginRequest`, `RegisterRequest`, `AuthResponse`
- [x] **Report Types**: âœ…
  - `Report`, `ReportStatus`, `ReportPriority`, `CreateReportRequest`
- [x] **Vehicle Types**: âœ…
  - `Vehicle`, `VehicleType`, `VehicleStatus`
- [x] **Assignment Types**: âœ…
  - `Assignment`, `AssignmentStatus`, `CreateAssignmentRequest`
- [x] **Location Types**: âœ…
  - `DriverLocation`, `Coordinates`
- [x] **Common Types**: âœ…
  - `ApiResponse<T>`, `PaginatedResponse<T>`, `ErrorResponse`

#### C. Create API Functions (`lib/api.ts`) âœ…

- [x] **Auth API**: âœ…
  - `register(data: RegisterRequest)`
  - `login(data: LoginRequest)`
  - `getCurrentUser()`
  - `logout()`
- [x] **Users API**: âœ…
  - `getUsers(params?: { skip?, limit?, role? })`
  - `getUserById(id: string)`
  - `createUser(data)`
  - `updateUser(id, data)`
  - `deleteUser(id)`
- [x] **Reports API**: âœ…
  - `getReports(params?: { skip?, limit?, status? })`
  - `getReportById(id: string)`
  - `createReport(data: CreateReportRequest)`
  - `updateReport(id, data)`
  - `updateReportStatus(id, status)`
- [x] **Vehicles API**: âœ…
  - `getVehicles(params?)`
  - `getVehicleById(id)`
  - `createVehicle(data)`
  - `updateVehicle(id, data)`
  - `deleteVehicle(id)`
- [x] **Vehicle Types API**: âœ…
  - `getVehicleTypes()`
  - `createVehicleType(data)`
  - `updateVehicleType(id)`
  - `deleteVehicleType(id)`
- [x] **Assignments API**: âœ…
  - `getAssignments(params?)`
  - `getAssignmentById(id)`
  - `createAssignment(data)`
  - `updateAssignmentStatus(id, status)`
- [x] **Driver Locations API**: âœ…
  - `getDriverLocations()`
  - `updateDriverLocation(data)`

#### D. Create Auth Utilities (`lib/auth.ts`) âœ…

- [x] `setToken(token: string)` - Save to localStorage âœ…
- [x] `getToken()` - Retrieve from localStorage âœ…
- [x] `removeToken()` - Clear from localStorage âœ…
- [x] `isAuthenticated()` - Check if token exists âœ…
- [x] `getUserRole()` - Decode and get role from token âœ…
- [x] `getUserId()` - Extract user ID from token âœ…

---

## 4ï¸âƒ£ Build Authentication System

### âœ… Tasks:

#### A. Auth Context (`contexts/AuthContext.tsx`) âœ…

- [x] Create context with: âœ…
  - `user: User | null`
  - `isLoading: boolean`
  - `login(email, password)`
  - `logout()`
  - `register(data)`
- [x] Use React Query for data fetching âœ…
- [x] Auto-fetch current user on app load âœ…

#### B. Auth Hook (`hooks/useAuth.ts`) âœ…

- [x] Export `useAuth()` hook to consume context âœ…
- [x] Add role-based permission checks âœ…
  - `useHasRole(role)`
  - `useIsAdmin()`
  - `useIsDriver()`
  - `useIsReporter()`

#### C. Login Page (`app/(auth)/login/page.tsx`) âœ…

- [x] Create `LoginForm` component with: âœ…
  - Email input (validation)
  - Password input
  - Submit button
  - Link to register
- [x] Use `react-hook-form` + `zod` validation âœ…
- [x] Handle loading & error states âœ…
- [x] Redirect to dashboard on success âœ…

#### D. Register Page (`app/(auth)/register/page.tsx`) âœ…

- [x] Create `RegisterForm` component with: âœ…
  - Name, Email, Password, Role inputs
  - Submit button
  - Link to login
- [x] Form validation âœ…
- [x] Success toast notification âœ…

#### E. Protected Routes âœ…

- [x] Create `ProtectedRoute` wrapper component âœ…
- [x] Check authentication before rendering âœ…
- [x] Redirect to login if not authenticated âœ…
- [x] Add role-based access control âœ…

#### F. React Query Setup âœ…

- [x] Configure QueryClient in Providers âœ…
- [x] Add QueryClientProvider âœ…
- [x] Setup default options (staleTime, cacheTime) âœ…

---

## 5ï¸âƒ£ Build Dashboard Layout

### âœ… Tasks:

#### A. Dashboard Layout (`app/dashboard/layout.tsx`) âœ…

- [x] Create responsive sidebar navigation âœ…
- [x] Add navigation items: âœ…
  - Dashboard (Overview)
  - Reports
  - Assignments
  - Vehicles
  - Users (Admin only)
  - Tracking
- [x] Add user profile dropdown âœ…
- [x] Add logout button âœ…
- [x] Mobile-responsive menu toggle âœ…

#### B. Sidebar Component (`components/dashboard/Sidebar.tsx`) âœ…

- [x] Use Tailwind for styling âœ…
- [x] Active route highlighting âœ…
- [x] Role-based menu visibility âœ…

#### C. Dashboard Home (`app/dashboard/page.tsx`) âœ…

- [x] Show statistics cards: âœ…
  - Total Reports (by status)
  - Active Assignments
  - Available Vehicles
  - Active Drivers
- [x] Recent reports table âœ…
- [x] Quick actions âœ…

---

## 6ï¸âƒ£ Build Reports Module

### âœ… Tasks:

#### A. Reports List (`app/dashboard/reports/page.tsx`) âœ…

- [x] Fetch reports with React Query âœ…
- [x] Display in table/card layout: âœ…
  - Caller name & phone
  - Location
  - Status badge
  - Priority indicator
  - Created time
- [x] Add filters: Status, Priority âœ…
- [x] Add search by caller name/location âœ…
- [x] Pagination support âœ…
- [x] Click to view detail âœ…

#### B. Report Detail (`app/dashboard/reports/[id]/page.tsx`) âœ…

- [x] Display full report information âœ…
- [x] Show location on map (if coordinates available) âœ…
- [x] Show assignment details (if assigned) âœ…
- [x] Status update dropdown (with permission check) âœ…
- [x] Edit button (admin only) âœ…

#### C. Create Report (`app/dashboard/reports/create/page.tsx`) âœ…

- [x] Form fields: âœ…
  - Caller name
  - Caller phone
  - Location (text)
  - Latitude & Longitude (optional, with map picker)
  - Description
  - Priority (dropdown)
- [x] Use `react-hook-form` + `zod` âœ…
- [x] Submit and redirect to report detail âœ…

#### D. Report Form Component (`components/forms/ReportForm.tsx`) âœ…

- [x] Reusable form for create/edit âœ…
- [x] Validation rules âœ…
- [x] Loading state âœ…

---

## 7ï¸âƒ£ Build Assignments Module

### âœ… Tasks:

#### A. Assignments List (`app/dashboard/assignments/page.tsx`) âœ…

- [x] Fetch assignments with React Query âœ…
- [x] Display table with: âœ…
  - Report info
  - Vehicle & driver info
  - Status
  - Assigned time
  - Completed time
- [x] Filter by status âœ…
- [x] Click to view detail âœ…

#### B. Assignment Detail (`app/dashboard/assignments/[id]/page.tsx`) âœ…

- [x] Show full assignment info âœ…
- [x] Show related report âœ…
- [x] Show vehicle & driver details âœ…
- [x] Status update (driver/admin) âœ…
- [x] Show timeline of status changes âœ…

#### C. Create Assignment (`app/dashboard/assignments/create/page.tsx`) âœ…

- [x] Select report (pending reports dropdown) âœ…
- [x] Select vehicle (available vehicles) âœ…
- [x] Select driver (available drivers) âœ…
- [x] Form validation âœ…
- [x] Submit and update report status âœ…

#### D. Assignment Form Component (`components/forms/AssignmentForm.tsx`) âœ…

- [x] Dependent dropdowns âœ…
- [x] Check resource availability âœ…

---

## 8ï¸âƒ£ Build Vehicles Module

### âœ… Tasks:

#### A. Vehicles List (`app/dashboard/vehicles/page.tsx`) âœ…

- [x] Display vehicles in table/grid âœ…
- [x] Show: License plate, Type, Status âœ…
- [x] Filter by status âœ…
- [x] Add/Edit/Delete actions (admin) âœ…

#### B. Vehicle Types (`app/dashboard/vehicles/types/page.tsx`) âœ…

- [x] List all vehicle types âœ…
- [x] Add new type (admin) âœ…

---

## 9ï¸âƒ£ Build Users Module (Admin Only)

### âœ… Tasks:

#### A. Users List (`app/dashboard/users/page.tsx`) âœ…

- [x] Display users table âœ…
- [x] Show: Name, Email, Role, Created date âœ…
- [x] Filter by role âœ…
- [x] Add/Edit/Delete actions âœ…
- [x] Role-based access control âœ…

---

## ğŸ”Ÿ Build Real-Time Tracking

### âœ… Tasks:

#### A. Tracking Page (`app/dashboard/tracking/page.tsx`) âœ…

- [x] Integrate map library (e.g., `react-leaflet` or `@vis.gl/react-google-maps`) âœ…
- [x] Fetch driver locations âœ…
- [x] Display drivers on map with markers âœ…
- [x] Show driver info on marker click âœ…
- [x] Auto-refresh locations (polling or WebSocket) âœ…

#### B. Map Components âœ…

- [x] `MapView.tsx` - Map container âœ…
- [x] `DriverMarker.tsx` - Custom marker for drivers âœ…
- [x] Show ETA to destination (if assignment active) âœ…

---

## 1ï¸âƒ£1ï¸âƒ£ Build Driver Interface

### âœ… Tasks:

#### A. Driver Dashboard (`app/driver/page.tsx`) âœ…

- [x] Show active assignment (if any) âœ…
- [x] Quick stats (completed today, etc.) âœ…
- [x] Accept/Reject assignment actions âœ…

#### B. Driver Assignments (`app/driver/assignments/page.tsx`) âœ…

- [x] List assignments for logged-in driver âœ…
- [x] Filter by status âœ…
- [x] Update status (on_progress, completed) âœ…

#### C. Location Update (`app/driver/location/page.tsx`) âœ…

- [x] Get browser geolocation âœ…
- [x] Send location updates to API âœ…
- [x] Auto-update every 30 seconds (when on duty) âœ…
- [x] Show current location on map âœ…

---

## 1ï¸âƒ£2ï¸âƒ£ Add State Management & Data Fetching

### âœ… Tasks:

#### A. Setup React Query âœ…

- [x] Configure QueryClient in root layout âœ…
- [x] Add QueryClientProvider âœ…
- [x] Setup default options (staleTime, gcTime, retry) âœ…

#### B. Create Custom Hooks âœ…

- [x] `useReports()` - Fetch reports with filters âœ…
- [x] `useReportById(id)` - Single report âœ…
- [x] `useAssignments()` - Fetch assignments âœ…
- [x] `useAssignmentById(id)` - Single assignment âœ…
- [x] `useVehicles()` - Fetch vehicles âœ…
- [x] `useVehicleTypes()` - Fetch vehicle types âœ…
- [x] `useDriverLocations()` - Real-time locations âœ…
- [x] `useUsers()` - Fetch users with filters âœ…
- [x] Add mutations for create/update/delete âœ…

---

## 1ï¸âƒ£3ï¸âƒ£ Add Form Validation & Error Handling

### âœ… Tasks:

#### A. Setup Validation Schemas (Zod) âœ…

- [x] Login schema âœ…
- [x] Register schema âœ…
- [x] Report schema âœ…
- [x] Assignment schema âœ…
- [x] User schema âœ…
- [x] Vehicle schema âœ…
- [x] Vehicle Type schema âœ…
- [x] Driver Location schema âœ…

#### B. Error Handling âœ…

- [x] Create error boundary component âœ…
- [x] Display API errors as toast notifications âœ…
- [x] Form field errors display components âœ…
- [x] Global error handler in axios interceptor âœ…
- [x] Error utility functions âœ…

---

## 1ï¸âƒ£4ï¸âƒ£ Add Loading States & UX Improvements

### âœ… Tasks:

- [x] Create `LoadingSpinner` component âœ…
  - [x] Enhanced with text prop and sizes (sm, md, lg) âœ…
  - [x] ButtonSpinner for inline button loading âœ…
  - [x] LoadingPage for full-page loading âœ…
- [x] Add skeleton loaders for lists âœ…
  - [x] SkeletonText - text placeholders âœ…
  - [x] SkeletonCard - card loading state âœ…
  - [x] SkeletonTable - table loading state âœ…
  - [x] SkeletonList - list of cards âœ…
  - [x] SkeletonStats - dashboard stats âœ…
  - [x] SkeletonMap - map loading state âœ…
- [x] Disable buttons during submission âœ…
  - [x] Enhanced Button component with isLoading prop âœ…
  - [x] Added loadingText prop âœ…
  - [x] Automatic disabled state when loading âœ…
- [x] Add success/error toast notifications âœ…
  - [x] Already implemented in axios interceptor âœ…
  - [x] All mutations show toasts âœ…
- [x] Add confirmation dialogs for delete actions âœ…
  - [x] ConfirmDialog component created âœ…
  - [x] Implemented in vehicles page âœ…
  - [x] Support for danger/warning/info types âœ…
  - [x] Loading state in dialog âœ…
- [x] Optimistic UI updates (React Query) âœ…
  - [x] Optimistic update helper functions âœ…
  - [x] Example in useUpdateReportStatus âœ…
  - [x] Automatic rollback on error âœ…

---

## 1ï¸âƒ£5ï¸âƒ£ Styling & Responsiveness

### âœ… Tasks:

- [x] Ensure all pages are mobile-responsive âœ…
  - [x] Added responsive utilities in globals.css âœ…
  - [x] responsive-table, mobile-card, desktop-table classes âœ…
  - [x] All tables already have mobile card layouts âœ…
  - [x] Dashboard sidebar is mobile-responsive âœ…
- [x] Add dark mode support (optional) âœ…
  - [x] CSS variables prepared for dark mode âœ…
  - [x] Can be enabled via tailwind config âœ…
- [x] Consistent color scheme: âœ…
  - [x] Primary: PMI Red (#DC2626) âœ…
  - [x] Status colors configured: âœ…
    - pending: #EAB308 (yellow) âœ…
    - assigned: #3B82F6 (blue) âœ…
    - on_progress: #F97316 (orange) âœ…
    - completed: #22C55E (green) âœ…
    - cancelled: #6B7280 (gray) âœ…
  - [x] CSS variables added to globals.css âœ…
  - [x] Tailwind theme extended with pmi and status colors âœ…
  - [x] Badge component updated with consistent colors âœ…
- [x] Add transitions and animations âœ…
  - [x] Smooth transitions added to all interactive elements âœ…
  - [x] Button hover effects with scale and shadow âœ…
  - [x] Card hover effects (optional) âœ…
  - [x] New animations: slide-in-right, slide-in-left, bounce-subtle âœ…
  - [x] Focus ring animations âœ…
  - [x] Custom scrollbar styling âœ…
- [x] Improve accessibility (ARIA labels, keyboard navigation) âœ…
  - [x] Input components with aria-invalid and aria-describedby âœ…
  - [x] Card component with keyboard navigation support âœ…
  - [x] Button focus styles with focus-ring âœ…
  - [x] Error messages with role="alert" âœ…
  - [x] Proper label associations with htmlFor âœ…

---

## 1ï¸âƒ£6ï¸âƒ£ Testing & Documentation

### ğŸ”² Tasks:

- [ ] Test all user flows:
  - Registration & Login
  - Create report â†’ Assign â†’ Complete
  - Vehicle management
  - Driver location tracking
- [ ] Test role-based access control
- [ ] Test error scenarios (network errors, validation errors)
- [ ] Write README.md with:
  - Setup instructions
  - Environment variables
  - Available scripts
  - Project structure explanation

---

## ğŸ“Š Priority Order for Implementation

### Phase 1: Foundation (Days 1-2)

1. Complete project setup & dependencies
2. Setup axios instance & type definitions
3. Create all API functions
4. Build authentication system (login/register)
5. Create auth context & protected routes

### Phase 2: Core Features (Days 3-5)

6. Build dashboard layout & navigation
7. Implement Reports module (list, detail, create)
8. Implement Assignments module
9. Build Vehicles module

### Phase 3: Advanced Features (Days 6-7)

10. Add real-time tracking with maps
11. Build driver interface
12. Implement Users module (admin)

### Phase 4: Polish (Days 8-9)

13. Add comprehensive error handling
14. Improve loading states & UX
15. Ensure mobile responsiveness
16. Testing & bug fixes

---

## ğŸ”— Frontend â†” API Interaction Flow

### Example: Creating Emergency Report

```
User fills form â†’
ReportForm validates â†’
Submit calls api.createReport() â†’
axios POST /api/reports/ â†’
Backend creates report â†’
Response returns new report â†’
React Query invalidates reports cache â†’
UI updates with new data â†’
Success toast shown â†’
Redirect to report detail
```

### Example: Real-Time Driver Tracking

```
Admin opens tracking page â†’
useDriverLocations() hook fetches locations â†’
Locations displayed on map â†’
Poll every 30s or use WebSocket â†’
Driver updates location via mobile app â†’
Backend updates driver_locations table â†’
Next poll fetches new positions â†’
Map markers update in real-time
```

---

## ğŸ¯ Success Criteria

- âœ… All endpoints from `api_docs.md` are integrated
- âœ… All flows from `flow_docs.md` are implemented
- âœ… Authentication & authorization work correctly
- âœ… Role-based UI (Admin, Driver, Reporter)
- âœ… Real-time features work (location tracking)
- âœ… Responsive design on mobile & desktop
- âœ… Proper error handling & loading states
- âœ… Clean, maintainable code structure

---

**Last Updated**: November 3, 2025
