(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let r=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>r],63209)},44713,e=>{"use strict";var r=e.i(43476);let s=e.i(71645).default.forwardRef(function({label:e,error:s=null,className:a="",id:t,...i},d){let l=t||`input-${e?.toLowerCase().replace(/\s+/g,"-")}`,n=s?`${l}-error`:void 0;return(0,r.jsxs)("div",{className:"mb-4",children:[e&&(0,r.jsx)("label",{htmlFor:l,className:"block text-sm font-medium mb-1 text-gray-700",children:e}),(0,r.jsx)("input",{ref:d,id:l,"aria-invalid":s?"true":"false","aria-describedby":n,className:`w-full rounded-md border px-3 py-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-pmi-red focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed ${s?"border-red-400 focus:ring-red-500":"border-gray-300 hover:border-gray-400"} ${a}`,...i}),s&&(0,r.jsx)("p",{id:n,className:"text-sm text-red-600 mt-1",role:"alert",children:s})]})});e.s(["default",0,s])},61170,e=>{"use strict";var r=e.i(43476);function s(){return(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})}function a({rows:e=5}){return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"})]})}),Array.from({length:e}).map((e,s)=>(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 last:border-b-0",children:(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"})]})},s))]})}e.s(["ButtonSpinner",()=>s,"SkeletonTable",()=>a])},386,e=>{"use strict";var r=e.i(43476),s=e.i(61170);function a({variant:e="primary",className:a="",isLoading:t=!1,loadingText:i,children:d,disabled:l,...n}){return(0,r.jsxs)("button",{className:`px-4 py-2 rounded-md font-medium disabled:opacity-60 disabled:cursor-not-allowed transition-all duration-200 ease-in-out flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 active:scale-95 ${({primary:"bg-pmi-red text-white hover:bg-pmi-red-dark focus:ring-pmi-red shadow-sm hover:shadow-md",secondary:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-500 shadow-sm hover:shadow",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm hover:shadow-md",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500 shadow-sm hover:shadow-md"})[e]} ${a}`.trim(),disabled:l||t,...n,children:[t&&(0,r.jsx)(s.ButtonSpinner,{}),t?i||"Loading...":d]})}e.s(["default",()=>a])},388,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(53145),t=e.i(94814),i=e.i(65638),d=e.i(54338),l=e.i(22016),n=e.i(18566),o=e.i(386),m=e.i(44713),c=e.i(384),u=e.i(63209);let g=i.object({email:i.string().email({message:"Email tidak valid"}),password:i.string().min(6,{message:"Password minimal 6 karakter"})});function x(){let{login:e,isLoading:i}=(0,d.useAuth)(),x=(0,n.useSearchParams)(),[h,b]=(0,s.useState)(!1),{register:f,handleSubmit:p,formState:{errors:j}}=(0,a.useForm)({resolver:(0,t.zodResolver)(g)});async function y(r){await e(r.email,r.password),sessionStorage.getItem("redirect_after_login")&&sessionStorage.removeItem("redirect_after_login")}return(0,s.useEffect)(()=>{"true"===x.get("session_expired")&&(b(!0),window.history.replaceState({},"","/login"))},[x]),(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,r.jsx)(c.Ambulance,{className:"w-8 h-8 text-red-600"}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"PMI Call"})]}),(0,r.jsx)("p",{className:"text-gray-600",children:"Sistem Manajemen Panggilan Darurat"})]}),h&&(0,r.jsxs)("div",{className:"mb-4 bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[(0,r.jsx)(u.AlertCircle,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-amber-800",children:"Session Berakhir"}),(0,r.jsx)("p",{className:"text-sm text-amber-700",children:"Sesi Anda telah berakhir. Silakan login kembali untuk melanjutkan."})]})]}),(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-2 text-gray-800",children:"Login"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Masuk ke akun Anda untuk melanjutkan"}),(0,r.jsxs)("form",{onSubmit:p(y),children:[(0,r.jsx)(m.default,{label:"Email",type:"email",placeholder:"nama@example.com",...f("email"),error:j.email?.message}),(0,r.jsx)(m.default,{label:"Password",type:"password",placeholder:"••••••••",...f("password"),error:j.password?.message}),(0,r.jsx)(o.default,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white",disabled:i,children:i?(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Loading..."]}):"Masuk"})]}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Belum punya akun?"," ",(0,r.jsx)(l.default,{href:"/register",className:"text-red-600 hover:text-red-700 font-semibold",children:"Daftar di sini"})]})})]})]})})}function h(){return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-red-600 border-t-transparent rounded-full animate-spin"})}),children:(0,r.jsx)(x,{})})}e.s(["default",()=>h])}]);