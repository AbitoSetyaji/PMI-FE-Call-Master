module.exports=[88015,a=>{"use strict";var b=a.i(87924),c=a.i(95245),d=a.i(59501),e=a.i(88780),f=a.i(89791),g=a.i(33217),h=a.i(70025),i=a.i(37927),j=a.i(19032),k=a.i(23292);let l=e.z.object({requester_name:e.z.string().min(1,"Requester name is required").max(255),requester_phone:e.z.string().min(1,"Phone number is required").max(20),transport_type:e.z.string().min(1,"Transport type is required"),use_stretcher:e.z.boolean().default(!1),patient_name:e.z.string().min(1,"Patient name is required").max(255),patient_gender:e.z.enum(["male","female"],{errorMap:()=>({message:"Please select a gender"})}),patient_age:e.z.number().int().min(0,"Age must be at least 0").max(150,"Age must be less than 150"),patient_history:e.z.string().optional().nullable(),pickup_address:e.z.string().min(1,"Pickup address is required"),destination_address:e.z.string().min(1,"Destination address is required"),schedule_date:e.z.string().min(1,"Schedule date is required"),schedule_time:e.z.string().min(1,"Schedule time is required"),contact_person_name:e.z.string().min(1,"Contact person name is required").max(255),contact_person_phone:e.z.string().min(1,"Contact person phone is required").max(20),note:e.z.string().optional().nullable(),attachment_ktp:e.z.string().optional().nullable(),attachment_house_photo:e.z.string().optional().nullable(),attachment_sharelok:e.z.string().optional().nullable()});function m({initialData:a,onSubmit:e,isSubmitting:m=!1,submitButtonText:n="Submit Request"}){let{types:o,isLoading:p}=function(){let a=(0,i.useQueryClient)(),{data:b,isLoading:c,error:d,refetch:e}=(0,g.useQuery)({queryKey:["vehicle-types"],queryFn:async()=>await j.vehicleTypes.getVehicleTypes()}),f=b?.data||[],l=(0,h.useMutation)({mutationFn:a=>j.vehicleTypesApi.createVehicleType(a),onSuccess:()=>{a.invalidateQueries({queryKey:["vehicle-types"]}),a.invalidateQueries({queryKey:["vehicles"]}),k.toast.success("Tipe kendaraan berhasil dibuat")},onError:a=>{k.toast.error(a.message||"Gagal membuat tipe kendaraan")}}),m=(0,h.useMutation)({mutationFn:({id:a,data:b})=>j.vehicleTypesApi.updateVehicleType(a,b),onSuccess:(b,c)=>{a.invalidateQueries({queryKey:["vehicle-types"]}),a.invalidateQueries({queryKey:["vehicleType",c.id]}),a.invalidateQueries({queryKey:["vehicles"]}),k.toast.success("Tipe kendaraan berhasil diupdate")},onError:a=>{k.toast.error(a.message||"Gagal mengupdate tipe kendaraan")}}),n=(0,h.useMutation)({mutationFn:a=>j.vehicleTypesApi.deleteVehicleType(a),onSuccess:()=>{a.invalidateQueries({queryKey:["vehicle-types"]}),a.invalidateQueries({queryKey:["vehicles"]}),k.toast.success("Tipe kendaraan berhasil dihapus")},onError:a=>{k.toast.error(a.message||"Gagal menghapus tipe kendaraan")}});return{types:f,isLoading:c,error:d,refetch:e,createVehicleType:l.mutate,updateVehicleType:m.mutate,deleteVehicleType:n.mutate,isCreating:l.isPending,isUpdating:m.isPending,isDeleting:n.isPending}}(),{register:q,handleSubmit:r,watch:s,setValue:t,formState:{errors:u}}=(0,c.useForm)({resolver:(0,d.zodResolver)(l),defaultValues:{requester_name:a?.requester_name||"",requester_phone:a?.requester_phone||"",transport_type:a?.transport_type||"",use_stretcher:a?.use_stretcher||!1,patient_name:a?.patient_name||"",patient_gender:a?.patient_gender||"male",patient_age:a?.patient_age||0,patient_history:a?.patient_history||"",pickup_address:a?.pickup_address||"",destination_address:a?.destination_address||"",schedule_date:a?.schedule_date||"",schedule_time:a?.schedule_time||"",contact_person_name:a?.contact_person_name||"",contact_person_phone:a?.contact_person_phone||"",note:a?.note||"",attachment_ktp:a?.attachment_ktp||"",attachment_house_photo:a?.attachment_house_photo||"",attachment_sharelok:a?.attachment_sharelok||""}}),v=s("transport_type"),w=o.find(a=>a.id===v),x=w?.name==="mortuary_transport";return(0,b.jsxs)("form",{onSubmit:r(a=>{e({requester_name:a.requester_name,requester_phone:a.requester_phone,transport_type:a.transport_type,use_stretcher:a.use_stretcher,patient_name:a.patient_name,patient_gender:a.patient_gender,patient_age:a.patient_age,patient_history:a.patient_history||void 0,pickup_address:a.pickup_address,destination_address:a.destination_address,schedule_date:a.schedule_date,schedule_time:a.schedule_time,contact_person_name:a.contact_person_name,contact_person_phone:a.contact_person_phone,note:a.note||void 0,attachment_ktp:a.attachment_ktp||void 0,attachment_house_photo:a.attachment_house_photo||void 0,attachment_sharelok:a.attachment_sharelok||void 0})}),className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Requester Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Requester Name ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(f.default,{...q("requester_name"),placeholder:"Enter requester name",error:u.requester_name?.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(f.default,{...q("requester_phone"),type:"tel",placeholder:"+62xxxxxxxxxx",error:u.requester_phone?.message})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Transport Information"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Transport Type ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsxs)("select",{...q("transport_type",{onChange:a=>{let b=a.target.value,c=o.find(a=>a.id===b);c?.name!=="mortuary_transport"&&t("use_stretcher",!1)}}),disabled:p,className:`w-full px-4 py-2 border ${u.transport_type?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed`,children:[(0,b.jsx)("option",{value:"",children:p?"Loading...":"Select transport type"}),o.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase())},a.id))]}),u.transport_type&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.transport_type.message})]}),x&&(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("input",{...q("use_stretcher"),type:"checkbox",id:"use_stretcher",className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),(0,b.jsx)("label",{htmlFor:"use_stretcher",className:"ml-2 block text-sm text-gray-700",children:"Requires Coffin/Keranda"})]}),(0,b.jsx)("div",{className:"text-yellow-700 bg-yellow-100 border border-yellow-300 rounded px-3 py-2 text-sm",children:"âš ï¸ Perhatian: Centang opsi ini jika membutuhkan layanan dengan keranda/peti jenazah. Pastikan informasi yang diberikan sudah benar."})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Patient Information"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Patient Name ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(f.default,{...q("patient_name"),placeholder:"Enter patient name",error:u.patient_name?.message})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gender ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsxs)("select",{...q("patient_gender"),className:`w-full px-4 py-2 border ${u.patient_gender?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent`,children:[(0,b.jsx)("option",{value:"male",children:"Male"}),(0,b.jsx)("option",{value:"female",children:"Female"})]}),u.patient_gender&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.patient_gender.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Age ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(f.default,{...q("patient_age",{valueAsNumber:!0}),type:"number",min:"0",max:"150",placeholder:"Enter patient age",error:u.patient_age?.message})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medical History (Optional)"}),(0,b.jsx)("textarea",{...q("patient_history"),rows:3,placeholder:"Enter relevant medical history...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pickup & Destination"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Pickup Address ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("textarea",{...q("pickup_address"),rows:2,placeholder:"Enter pickup address",className:`w-full px-4 py-2 border ${u.pickup_address?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent`}),u.pickup_address&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.pickup_address.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Destination Address ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("textarea",{...q("destination_address"),rows:2,placeholder:"Enter destination address",className:`w-full px-4 py-2 border ${u.destination_address?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent`}),u.destination_address&&(0,b.jsx)("p",{className:"text-red-500 text-sm mt-1",children:u.destination_address.message})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Schedule Date ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(f.default,{...q("schedule_date"),type:"date",error:u.schedule_date?.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Schedule Time ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(f.default,{...q("schedule_time"),type:"time",error:u.schedule_time?.message})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Person"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Contact Person Name ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(f.default,{...q("contact_person_name"),placeholder:"Enter contact person name",error:u.contact_person_name?.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Contact Person Phone ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)(f.default,{...q("contact_person_phone"),type:"tel",placeholder:"+62xxxxxxxxxx",error:u.contact_person_phone?.message})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Note (Optional)"}),(0,b.jsx)("textarea",{...q("note"),rows:3,placeholder:"Enter any additional notes...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"KTP Attachment (Optional)"}),(0,b.jsx)(f.default,{...q("attachment_ktp"),type:"text",placeholder:"KTP URL or file path",error:u.attachment_ktp?.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"House Photo (Optional)"}),(0,b.jsx)(f.default,{...q("attachment_house_photo"),type:"text",placeholder:"Photo URL or file path",error:u.attachment_house_photo?.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Share Location (Optional)"}),(0,b.jsx)(f.default,{...q("attachment_sharelok"),type:"text",placeholder:"Location link",error:u.attachment_sharelok?.message})]})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"ðŸ’¡ Tip: Attachments help us verify and process your request faster"})]})]}),(0,b.jsx)("div",{className:"flex gap-4",children:(0,b.jsx)("button",{type:"submit",disabled:m,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:m?"Saving...":n})})]})}a.s(["default",()=>m],88015)}];

//# sourceMappingURL=src_components_forms_ReportForm_tsx_ae910afc._.js.map