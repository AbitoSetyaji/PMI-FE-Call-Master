{"version":3,"sources":["../../../../src/app/%28dashboard%29/admin/reports/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, use } from \"react\";\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { reportsApi, assignmentsApi } from \"@/lib/api\";\r\nimport { Badge } from \"@/components/ui/Badge\";\r\nimport {\r\n  ArrowLeft,\r\n  MapPin,\r\n  Phone,\r\n  User,\r\n  Calendar,\r\n  FileText,\r\n  Edit,\r\n} from \"lucide-react\";\r\nimport { formatDateTime } from \"@/lib/utils\";\r\nimport { useAuth } from \"@/hooks/useAuth\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { toast } from \"sonner\";\r\nimport type { ReportStatus } from \"@/lib/types\";\r\n\r\nexport default function ReportDetailPage({\r\n  params,\r\n}: {\r\n  params: Promise<{ id: string }>;\r\n}) {\r\n  // Unwrap params using React.use()\r\n  const { id } = use(params);\r\n\r\n  const router = useRouter();\r\n  const queryClient = useQueryClient();\r\n  const { user } = useAuth();\r\n  const isAdmin = user?.role === \"admin\";\r\n  const [isUpdatingStatus, setIsUpdatingStatus] = useState(false);\r\n\r\n  // Fetch report details\r\n  const {\r\n    data: reportResponse,\r\n    isLoading,\r\n    error,\r\n  } = useQuery({\r\n    queryKey: [\"report\", id],\r\n    queryFn: () => reportsApi.getById(id),\r\n  });\r\n\r\n  const report = reportResponse;\r\n\r\n  // Fetch assignment for this report (if any)\r\n  const { data: assignmentsData } = useQuery({\r\n    queryKey: [\"assignments\", { report_id: id }],\r\n    queryFn: () => assignmentsApi.getAll(),\r\n    enabled: !!report,\r\n  });\r\n\r\n  // Find assignment for this report\r\n  const assignment = (assignmentsData || []).find((a) => a.report_id === id);\r\n\r\n  // Update status mutation\r\n  const updateStatusMutation = useMutation({\r\n    mutationFn: (status: ReportStatus) =>\r\n      reportsApi.updateReportStatus(id, { status }),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"report\", id] });\r\n      queryClient.invalidateQueries({ queryKey: [\"reports\"] });\r\n      toast.success(\"Report status updated successfully\");\r\n      setIsUpdatingStatus(false);\r\n    },\r\n    onError: (error: Error) => {\r\n      const axiosError = error as { response?: { data?: { detail?: string } } };\r\n      toast.error(\r\n        axiosError?.response?.data?.detail || \"Failed to update status\"\r\n      );\r\n      setIsUpdatingStatus(false);\r\n    },\r\n  });\r\n\r\n  const handleStatusChange = (status: ReportStatus) => {\r\n    if (confirm(`Are you sure you want to change status to \"${status}\"?`)) {\r\n      setIsUpdatingStatus(true);\r\n      updateStatusMutation.mutate(status);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[400px]\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading report details...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !report) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <p className=\"text-red-600 mb-4\">\r\n          {error\r\n            ? `Error: ${error instanceof Error\r\n              ? error.message\r\n              : \"Failed to load report details\"\r\n            }`\r\n            : \"Report not found\"}\r\n        </p>\r\n        <Link\r\n          href=\"/dashboard/reports\"\r\n          className=\"text-red-600 hover:text-red-700 font-medium\"\r\n        >\r\n          ‚Üê Back to Reports\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <button\r\n            onClick={() => router.back()}\r\n            className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n          >\r\n            <ArrowLeft className=\"w-5 h-5 text-gray-600\" />\r\n          </button>\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900\">Report Details</h1>\r\n            <p className=\"text-gray-600 mt-1\">Report ID: {report.id}</p>\r\n          </div>\r\n        </div>\r\n        {isAdmin && (\r\n          <Link\r\n            href={`/dashboard/reports/${id}/edit`}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\r\n          >\r\n            <Edit className=\"w-5 h-5\" />\r\n            Edit\r\n          </Link>\r\n        )}\r\n      </div>\r\n\r\n      {/* Status */}\r\n      <div className=\"flex gap-3\">\r\n        <Badge variant={report.status}>{report.status}</Badge>\r\n        {report.use_stretcher && <Badge variant=\"info\">Coffin Required</Badge>}\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Main Information */}\r\n        <div className=\"lg:col-span-2 space-y-6\">\r\n          {/* Requester Information */}\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n              <User className=\"w-5 h-5 text-red-600\" />\r\n              Requester Information\r\n            </h2>\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <User className=\"w-5 h-5 text-gray-400 mt-0.5\" />\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Name</p>\r\n                  <p className=\"font-medium text-gray-900\">\r\n                    {report.requester_name}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-start gap-3\">\r\n                <Phone className=\"w-5 h-5 text-gray-400 mt-0.5\" />\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Phone Number</p>\r\n                  <a\r\n                    href={`tel:${report.requester_phone}`}\r\n                    className=\"font-medium text-red-600 hover:text-red-700\"\r\n                  >\r\n                    {report.requester_phone}\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Transport Information */}\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n              <MapPin className=\"w-5 h-5 text-red-600\" />\r\n              Transport Information\r\n            </h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Transport Type</p>\r\n                <p className=\"font-medium text-gray-900\">\r\n                  {report.transport_type_name\r\n                    ? report.transport_type_name\r\n                      .replace(/_/g, \" \")\r\n                      .replace(/\\b\\w/g, (l) => l.toUpperCase())\r\n                    : \"N/A\"}\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Coffin Required</p>\r\n                <p className=\"font-medium text-gray-900\">\r\n                  {report.use_stretcher ? \"‚úì Yes\" : \"‚úó No\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Patient Information */}\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n              <User className=\"w-5 h-5 text-red-600\" />\r\n              Patient Information\r\n            </h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Patient Name</p>\r\n                <p className=\"font-medium text-gray-900\">\r\n                  {report.patient_name}\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Gender</p>\r\n                <p className=\"font-medium text-gray-900\">\r\n                  {report.patient_gender === \"male\" ? \"‚ôÇ Male\" : \"‚ôÄ Female\"}\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Age</p>\r\n                <p className=\"font-medium text-gray-900\">\r\n                  {report.patient_age} years\r\n                </p>\r\n              </div>\r\n              {report.patient_history && (\r\n                <div className=\"md:col-span-2\">\r\n                  <p className=\"text-sm text-gray-600 mb-1\">Medical History</p>\r\n                  <p className=\"text-gray-700 whitespace-pre-wrap\">\r\n                    {report.patient_history}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Pickup & Destination */}\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n              <MapPin className=\"w-5 h-5 text-red-600\" />\r\n              Pickup & Destination\r\n            </h2>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600 mb-1\">üìç Pickup Address</p>\r\n                <p className=\"font-medium text-gray-900\">\r\n                  {report.pickup_address}\r\n                </p>\r\n              </div>\r\n              <div className=\"border-t pt-4\">\r\n                <p className=\"text-sm text-gray-600 mb-1\">\r\n                  üè• Destination Address\r\n                </p>\r\n                <p className=\"font-medium text-gray-900\">\r\n                  {report.destination_address}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Schedule */}\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n              <Calendar className=\"w-5 h-5 text-red-600\" />\r\n              Schedule\r\n            </h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Date</p>\r\n                <p className=\"font-medium text-gray-900\">\r\n                  {report.schedule_date}\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Time</p>\r\n                <p className=\"font-medium text-gray-900\">\r\n                  {report.schedule_time}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Contact Person */}\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n              <Phone className=\"w-5 h-5 text-red-600\" />\r\n              Contact Person\r\n            </h2>\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <User className=\"w-5 h-5 text-gray-400 mt-0.5\" />\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Name</p>\r\n                  <p className=\"font-medium text-gray-900\">\r\n                    {report.contact_person_name}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-start gap-3\">\r\n                <Phone className=\"w-5 h-5 text-gray-400 mt-0.5\" />\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Phone Number</p>\r\n                  <a\r\n                    href={`tel:${report.contact_person_phone}`}\r\n                    className=\"font-medium text-red-600 hover:text-red-700\"\r\n                  >\r\n                    {report.contact_person_phone}\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Additional Information */}\r\n          {(report.note ||\r\n            report.attachment_ktp ||\r\n            report.attachment_house_photo ||\r\n            report.attachment_sharelok) && (\r\n              <div className=\"bg-white rounded-lg shadow p-6\">\r\n                <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n                  <FileText className=\"w-5 h-5 text-red-600\" />\r\n                  Additional Information\r\n                </h2>\r\n                <div className=\"space-y-4\">\r\n                  {report.note && (\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-600 mb-1\">Note</p>\r\n                      <p className=\"text-gray-700 whitespace-pre-wrap\">\r\n                        {report.note}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  {(report.attachment_ktp ||\r\n                    report.attachment_house_photo ||\r\n                    report.attachment_sharelok) && (\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-600 mb-2\">Attachments</p>\r\n                        <div className=\"space-y-2\">\r\n                          {report.attachment_ktp && (\r\n                            <a\r\n                              href={report.attachment_ktp}\r\n                              target=\"_blank\"\r\n                              rel=\"noopener noreferrer\"\r\n                              className=\"block px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm\"\r\n                            >\r\n                              üìÑ KTP Attachment\r\n                            </a>\r\n                          )}\r\n                          {report.attachment_house_photo && (\r\n                            <a\r\n                              href={report.attachment_house_photo}\r\n                              target=\"_blank\"\r\n                              rel=\"noopener noreferrer\"\r\n                              className=\"block px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm\"\r\n                            >\r\n                              üè† House Photo\r\n                            </a>\r\n                          )}\r\n                          {report.attachment_sharelok && (\r\n                            <a\r\n                              href={report.attachment_sharelok}\r\n                              target=\"_blank\"\r\n                              rel=\"noopener noreferrer\"\r\n                              className=\"block px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm\"\r\n                            >\r\n                              üìç Share Location\r\n                            </a>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n          {/* Assignment Details */}\r\n          {assignment && (\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n                Assignment Details\r\n              </h2>\r\n              <div className=\"space-y-3\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Vehicle</p>\r\n                  <p className=\"font-medium text-gray-900\">\r\n                    {assignment.vehicle?.plate_number || \"N/A\"}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Driver</p>\r\n                  <p className=\"font-medium text-gray-900\">\r\n                    {assignment.driver?.name || \"N/A\"}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Assignment Status</p>\r\n                  <Badge variant={assignment.status}>{assignment.status}</Badge>\r\n                </div>\r\n                <Link\r\n                  href={`/dashboard/assignments/${assignment.id}`}\r\n                  className=\"inline-block mt-2 text-red-600 hover:text-red-700 font-medium text-sm\"\r\n                >\r\n                  View Full Assignment ‚Üí\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Sidebar */}\r\n        <div className=\"space-y-6\">\r\n          {/* Timeline */}\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n              <Calendar className=\"w-5 h-5 text-red-600\" />\r\n              Timeline\r\n            </h2>\r\n            <div className=\"space-y-3 text-sm\">\r\n              <div>\r\n                <p className=\"text-gray-600\">Created</p>\r\n                <p className=\"font-medium text-gray-900\">\r\n                  {formatDateTime(report.created_at)}\r\n                </p>\r\n              </div>\r\n              {report.updated_at && (\r\n                <div>\r\n                  <p className=\"text-gray-600\">Last Updated</p>\r\n                  <p className=\"font-medium text-gray-900\">\r\n                    {formatDateTime(report.updated_at)}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Status Update (Admin Only) */}\r\n          {isAdmin && (\r\n            <div className=\"bg-white rounded-lg shadow p-6\">\r\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n                Update Status\r\n              </h2>\r\n              <div className=\"space-y-2\">\r\n                {(\r\n                  [\r\n                    \"pending\",\r\n                    \"assigned\",\r\n                    \"on_progress\",\r\n                    \"completed\",\r\n                    \"cancelled\",\r\n                  ] as ReportStatus[]\r\n                ).map((status) => (\r\n                  <button\r\n                    key={status}\r\n                    onClick={() => handleStatusChange(status)}\r\n                    disabled={report.status === status || isUpdatingStatus}\r\n                    className={`w-full px-4 py-2 rounded-lg text-sm font-medium transition-colors ${report.status === status\r\n                        ? \"bg-gray-100 text-gray-400 cursor-not-allowed\"\r\n                        : \"bg-red-50 text-red-600 hover:bg-red-100\"\r\n                      }`}\r\n                  >\r\n                    {report.status === status ? \"Current: \" : \"Change to: \"}\r\n                    {status}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Quick Actions */}\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n              Quick Actions\r\n            </h2>\r\n            <div className=\"space-y-2\">\r\n              {!assignment && report.status === \"pending\" && (\r\n                <Link\r\n                  href={`/dashboard/assignments/create?report_id=${id}`}\r\n                  className=\"block w-full px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-center text-sm font-medium\"\r\n                >\r\n                  Create Assignment\r\n                </Link>\r\n              )}\r\n              <a\r\n                href={`tel:${report.requester_phone}`}\r\n                className=\"block w-full px-4 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors text-center text-sm font-medium\"\r\n              >\r\n                Call Requester\r\n              </a>\r\n              <a\r\n                href={`tel:${report.contact_person_phone}`}\r\n                className=\"block w-full px-4 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors text-center text-sm font-medium\"\r\n              >\r\n                Call Contact Person\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}