module.exports=[70025,a=>{"use strict";var b=a.i(72131),c=a.i(12794),d=a.i(18544),e=a.i(33791),f=a.i(42871),g=class extends e.Subscribable{#a;#b=void 0;#c;#d;constructor(a,b){super(),this.#a=a,this.setOptions(b),this.bindMethods(),this.#e()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){let b=this.options;this.options=this.#a.defaultMutationOptions(a),(0,f.shallowEqualObjects)(this.options,b)||this.#a.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#c,observer:this}),b?.mutationKey&&this.options.mutationKey&&(0,f.hashKey)(b.mutationKey)!==(0,f.hashKey)(this.options.mutationKey)?this.reset():this.#c?.state.status==="pending"&&this.#c.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#c?.removeObserver(this)}onMutationUpdate(a){this.#e(),this.#f(a)}getCurrentResult(){return this.#b}reset(){this.#c?.removeObserver(this),this.#c=void 0,this.#e(),this.#f()}mutate(a,b){return this.#d=b,this.#c?.removeObserver(this),this.#c=this.#a.getMutationCache().build(this.#a,this.options),this.#c.addObserver(this),this.#c.execute(a)}#e(){let a=this.#c?.state??(0,c.getDefaultState)();this.#b={...a,isPending:"pending"===a.status,isSuccess:"success"===a.status,isError:"error"===a.status,isIdle:"idle"===a.status,mutate:this.mutate,reset:this.reset}}#f(a){d.notifyManager.batch(()=>{if(this.#d&&this.hasListeners()){let b=this.#b.variables,c=this.#b.context,d={client:this.#a,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#d.onSuccess?.(a.data,b,c,d),this.#d.onSettled?.(a.data,null,b,c,d)):a?.type==="error"&&(this.#d.onError?.(a.error,b,c,d),this.#d.onSettled?.(void 0,a.error,b,c,d))}this.listeners.forEach(a=>{a(this.#b)})})}},h=a.i(37927);function i(a,c){let e=(0,h.useQueryClient)(c),[i]=b.useState(()=>new g(e,a));b.useEffect(()=>{i.setOptions(a)},[i,a]);let j=b.useSyncExternalStore(b.useCallback(a=>i.subscribe(d.notifyManager.batchCalls(a)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),k=b.useCallback((a,b)=>{i.mutate(a,b).catch(f.noop)},[i]);if(j.error&&(0,f.shouldThrowError)(i.options.throwOnError,[j.error]))throw j.error;return{...j,mutate:k,mutateAsync:j.mutate}}a.s(["useMutation",()=>i],70025)},210,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},49483,a=>{"use strict";var b=a.i(87924);function c(){return(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})}function d({rows:a=5}){return(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"})]})}),Array.from({length:a}).map((a,c)=>(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 last:border-b-0",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"})]})},c))]})}a.s(["ButtonSpinner",()=>c,"SkeletonTable",()=>d])},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},68114,a=>{"use strict";function b(...a){return function(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}(a)}function c(a){return("string"==typeof a?new Date(a):a).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}a.s(["cn",()=>b,"formatDateTime",()=>c],68114)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},24569,a=>{"use strict";let b=(0,a.i(70106).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],24569)},12171,73570,a=>{"use strict";var b=a.i(87924);a.i(72131);let c=(0,a.i(70106).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>c],73570);var d=a.i(33508);function e({isOpen:a,onClose:e,onConfirm:f,title:g,message:h,confirmText:i="Confirm",cancelText:j="Cancel",type:k="danger",isLoading:l=!1,icon:m}){if(!a)return null;let n={danger:{iconBg:"bg-red-100",iconColor:"text-red-600",button:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},warning:{iconBg:"bg-yellow-100",iconColor:"text-yellow-600",button:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"},info:{iconBg:"bg-blue-100",iconColor:"text-blue-600",button:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}}[k];return(0,b.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),(0,b.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6 animate-scale-in",children:[(0,b.jsx)("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",disabled:l,children:(0,b.jsx)(d.X,{className:"w-5 h-5"})}),(0,b.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,b.jsx)("div",{className:`${n.iconBg} rounded-full p-3`,children:m||(0,b.jsx)(c,{className:`w-6 h-6 ${n.iconColor}`})})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:g}),(0,b.jsx)("p",{className:"text-sm text-gray-600 text-center mb-6",children:h}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:l,children:j}),(0,b.jsx)("button",{onClick:f,className:`flex-1 px-4 py-2 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 ${n.button}`,disabled:l,children:l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,b.jsx)("span",{children:"Processing..."})]}):i})]})]})})]})}a.s(["ConfirmDialog",()=>e],12171)},513,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(33217),e=a.i(70025),f=a.i(37927),g=a.i(19032),h=a.i(210),i=a.i(15618),j=a.i(24569),k=a.i(81560),l=a.i(68114),m=a.i(32636),n=a.i(50944),o=a.i(23292),p=a.i(12171),q=a.i(49483);function r(){let a=(0,n.useRouter)(),{user:r}=(0,m.useAuth)(),t=r?.role==="admin",u=(0,f.useQueryClient)(),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)({isOpen:!1,typeId:"",typeName:""}),{data:D,isLoading:E,error:F}=(0,d.useQuery)({queryKey:["vehicle-types"],queryFn:()=>g.vehicleTypes.getVehicleTypes()}),G=(0,e.useMutation)({mutationFn:a=>g.vehicleTypes.deleteVehicleType(a),onSuccess:()=>{u.invalidateQueries({queryKey:["vehicle-types"]}),u.invalidateQueries({queryKey:["vehicles"]}),o.toast.success("Vehicle type deleted successfully")},onError:a=>{o.toast.error(a?.response?.data?.detail||"Failed to delete vehicle type")}}),H=(a,b)=>{C({isOpen:!0,typeId:a,typeName:b})},I=a=>{A(a),y(!0)},J=D?.data||[];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>a.back(),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(h.ArrowLeft,{className:"w-5 h-5 text-gray-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Vehicle Types"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage vehicle categories"})]})]}),t&&(0,b.jsxs)("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[(0,b.jsx)(i.Plus,{className:"w-5 h-5"}),"Add Type"]})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:E?(0,b.jsx)(q.SkeletonTable,{rows:5}):F?(0,b.jsx)("div",{className:"p-8 text-center text-red-600",children:"Error loading vehicle types"}):0===J.length?(0,b.jsxs)("div",{className:"p-8 text-center text-gray-500",children:["No vehicle types found."," ",t&&"Click 'Add Type' to create one."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),t&&(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:J.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.name})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("div",{className:"text-sm text-gray-600",children:a.description||"-"})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.created_at?(0,l.formatDateTime)(a.created_at):"-"}),t&&(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:[(0,b.jsx)("button",{onClick:()=>I(a),className:"text-blue-600 hover:text-blue-900 mr-4",children:(0,b.jsx)(j.Edit,{className:"w-4 h-4 inline"})}),(0,b.jsx)("button",{onClick:()=>H(a.id,a.name),className:"text-red-600 hover:text-red-900",children:(0,b.jsx)(k.Trash2,{className:"w-4 h-4 inline"})})]})]},a.id))})]})}),(0,b.jsx)("div",{className:"md:hidden divide-y divide-gray-200",children:J.map(a=>(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:a.description||"No description"})]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mb-3",children:["Created: ",a.created_at?(0,l.formatDateTime)(a.created_at):"-"]}),t&&(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>I(a),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:[(0,b.jsx)(j.Edit,{className:"w-4 h-4 inline mr-1"}),"Edit"]}),(0,b.jsxs)("button",{onClick:()=>H(a.id,a.name),className:"flex-1 px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium",children:[(0,b.jsx)(k.Trash2,{className:"w-4 h-4 inline mr-1"}),"Delete"]})]})]},a.id))})]})}),(v||x)&&(0,b.jsx)(s,{isOpen:v||x,onClose:()=>{w(!1),y(!1),A(null)},vehicleType:z}),(0,b.jsx)(p.ConfirmDialog,{isOpen:B.isOpen,onClose:()=>C({isOpen:!1,typeId:"",typeName:""}),onConfirm:()=>{G.mutate(B.typeId,{onSettled:()=>{C({isOpen:!1,typeId:"",typeName:""})}})},title:"Delete Vehicle Type",message:`Are you sure you want to delete vehicle type "${B.typeName}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",type:"danger",isLoading:G.isPending})]})}function s({isOpen:a,onClose:d,vehicleType:h}){let i=(0,f.useQueryClient)(),[j,k]=(0,c.useState)({name:h?.name||"",description:h?.description||""}),l=(0,e.useMutation)({mutationFn:a=>h?g.vehicleTypes.updateVehicleType(h.id,a):g.vehicleTypes.createVehicleType(a),onSuccess:()=>{i.invalidateQueries({queryKey:["vehicle-types"]}),i.invalidateQueries({queryKey:["vehicles"]}),o.toast.success(h?"Vehicle type updated successfully":"Vehicle type created successfully"),d()},onError:a=>{o.toast.error(a?.response?.data?.detail||"Failed to save vehicle type")}});return a?(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:h?"Edit Vehicle Type":"Add New Vehicle Type"}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),l.mutate(j)},className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Name ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:j.name,onChange:a=>k({...j,name:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"e.g., Ambulance, Fire Truck",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),(0,b.jsx)("textarea",{value:j.description,onChange:a=>k({...j,description:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Brief description of this vehicle type"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:l.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:l.isPending?"Saving...":h?"Update":"Create"})]})]})]})}):null}a.s(["default",()=>r])}];

//# sourceMappingURL=_d887a4f8._.js.map