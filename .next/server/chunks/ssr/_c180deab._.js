module.exports=[70025,a=>{"use strict";var b=a.i(72131),c=a.i(12794),d=a.i(18544),e=a.i(33791),f=a.i(42871),g=class extends e.Subscribable{#a;#b=void 0;#c;#d;constructor(a,b){super(),this.#a=a,this.setOptions(b),this.bindMethods(),this.#e()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){let b=this.options;this.options=this.#a.defaultMutationOptions(a),(0,f.shallowEqualObjects)(this.options,b)||this.#a.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#c,observer:this}),b?.mutationKey&&this.options.mutationKey&&(0,f.hashKey)(b.mutationKey)!==(0,f.hashKey)(this.options.mutationKey)?this.reset():this.#c?.state.status==="pending"&&this.#c.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#c?.removeObserver(this)}onMutationUpdate(a){this.#e(),this.#f(a)}getCurrentResult(){return this.#b}reset(){this.#c?.removeObserver(this),this.#c=void 0,this.#e(),this.#f()}mutate(a,b){return this.#d=b,this.#c?.removeObserver(this),this.#c=this.#a.getMutationCache().build(this.#a,this.options),this.#c.addObserver(this),this.#c.execute(a)}#e(){let a=this.#c?.state??(0,c.getDefaultState)();this.#b={...a,isPending:"pending"===a.status,isSuccess:"success"===a.status,isError:"error"===a.status,isIdle:"idle"===a.status,mutate:this.mutate,reset:this.reset}}#f(a){d.notifyManager.batch(()=>{if(this.#d&&this.hasListeners()){let b=this.#b.variables,c=this.#b.context,d={client:this.#a,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#d.onSuccess?.(a.data,b,c,d),this.#d.onSettled?.(a.data,null,b,c,d)):a?.type==="error"&&(this.#d.onError?.(a.error,b,c,d),this.#d.onSettled?.(void 0,a.error,b,c,d))}this.listeners.forEach(a=>{a(this.#b)})})}},h=a.i(37927);function i(a,c){let e=(0,h.useQueryClient)(c),[i]=b.useState(()=>new g(e,a));b.useEffect(()=>{i.setOptions(a)},[i,a]);let j=b.useSyncExternalStore(b.useCallback(a=>i.subscribe(d.notifyManager.batchCalls(a)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),k=b.useCallback((a,b)=>{i.mutate(a,b).catch(f.noop)},[i]);if(j.error&&(0,f.shouldThrowError)(i.options.throwOnError,[j.error]))throw j.error;return{...j,mutate:k,mutateAsync:j.mutate}}a.s(["useMutation",()=>i],70025)},68114,a=>{"use strict";function b(...a){return function(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}(a)}function c(a){return("string"==typeof a?new Date(a):a).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}a.s(["cn",()=>b,"formatDateTime",()=>c],68114)},55486,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({children:a,variant:d="default",className:e}){let f={default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800",pending:"bg-status-pending-bg text-yellow-800 border border-status-pending",active:"bg-blue-100 text-blue-800 border border-blue-300",assigned:"bg-status-assigned-bg text-blue-800 border border-status-assigned",on_progress:"bg-status-on-progress-bg text-orange-800 border border-status-on-progress",completed:"bg-status-completed-bg text-green-800 border border-status-completed",cancelled:"bg-status-cancelled-bg text-gray-800 border border-status-cancelled",low:"bg-gray-100 text-gray-700 border border-gray-300",medium:"bg-yellow-100 text-yellow-800 border border-yellow-400",high:"bg-orange-100 text-orange-800 border border-orange-400",urgent:"bg-red-100 text-red-800 border border-red-400",critical:"bg-red-100 text-red-800 border border-red-600 font-semibold",available:"bg-green-100 text-green-800 border border-green-400",on_duty:"bg-blue-100 text-blue-800 border border-blue-400",maintenance:"bg-gray-100 text-gray-700 border border-gray-400",admin:"bg-purple-100 text-purple-800 border border-purple-400",driver:"bg-blue-100 text-blue-800 border border-blue-400",reporter:"bg-green-100 text-green-800 border border-green-400"};return(0,b.jsx)("span",{className:(0,c.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors-smooth",f[d]||f.default,e),children:a})}a.s(["Badge",()=>d])},10227,a=>{"use strict";let b=(0,a.i(70106).default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);a.s(["Truck",()=>b],10227)},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},24987,a=>{"use strict";let b=(0,a.i(70106).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],24987)},63519,a=>{"use strict";let b=(0,a.i(70106).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);a.s(["Phone",()=>b],63519)},41675,a=>{"use strict";let b=(0,a.i(70106).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},12171,73570,a=>{"use strict";var b=a.i(87924);a.i(72131);let c=(0,a.i(70106).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>c],73570);var d=a.i(33508);function e({isOpen:a,onClose:e,onConfirm:f,title:g,message:h,confirmText:i="Confirm",cancelText:j="Cancel",type:k="danger",isLoading:l=!1,icon:m}){if(!a)return null;let n={danger:{iconBg:"bg-red-100",iconColor:"text-red-600",button:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},warning:{iconBg:"bg-yellow-100",iconColor:"text-yellow-600",button:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"},info:{iconBg:"bg-blue-100",iconColor:"text-blue-600",button:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}}[k];return(0,b.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),(0,b.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6 animate-scale-in",children:[(0,b.jsx)("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",disabled:l,children:(0,b.jsx)(d.X,{className:"w-5 h-5"})}),(0,b.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,b.jsx)("div",{className:`${n.iconBg} rounded-full p-3`,children:m||(0,b.jsx)(c,{className:`w-6 h-6 ${n.iconColor}`})})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:g}),(0,b.jsx)("p",{className:"text-sm text-gray-600 text-center mb-6",children:h}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:l,children:j}),(0,b.jsx)("button",{onClick:f,className:`flex-1 px-4 py-2 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 ${n.button}`,disabled:l,children:l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,b.jsx)("span",{children:"Processing..."})]}):i})]})]})})]})}a.s(["ConfirmDialog",()=>e],12171)},74566,a=>{"use strict";let b=(0,a.i(70106).default)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);a.s(["Navigation",()=>b],74566)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},48313,a=>{"use strict";var b=a.i(87924),c=a.i(33508);function d({isOpen:a,onClose:d,title:e,children:f,size:g="md"}){return a?(0,b.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,b.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[(0,b.jsx)("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:d}),(0,b.jsxs)("div",{className:`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[g]}`,children:[e&&(0,b.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e}),(0,b.jsx)("button",{onClick:d,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:(0,b.jsx)(c.X,{className:"w-5 h-5"})})]}),(0,b.jsx)("div",{className:"px-6 py-4",children:f})]})]})}):null}a.s(["Modal",()=>d])},19456,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(33217),e=a.i(48313),f=a.i(10227),g=a.i(87532),h=a.i(16201),i=a.i(55486);function j({isOpen:a,onClose:j,onSelectVehicle:k,transportTypeId:l}){let[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(null),{data:q,isLoading:r}=(0,d.useQuery)({queryKey:["vehicles"],queryFn:async()=>{let a=localStorage.getItem("pmi_auth_token"),b=await fetch(`${process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api"}/vehicles`,{headers:{Authorization:`Bearer ${a}`}});if(!b.ok)throw Error("Failed to fetch vehicles");return b.json()},enabled:a}),s=(q?.data||[]).filter(a=>"available"===a.status&&(!l||(a.vehicle_type_id||a.type)===l)).filter(a=>a.name.toLowerCase().includes(m.toLowerCase())||a.plate_number.toLowerCase().includes(m.toLowerCase())),t=()=>{p(null),n(""),j()};return(0,b.jsx)(e.Modal,{isOpen:a,onClose:t,title:"Select Vehicle",size:"lg",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(g.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search by name or plate number...",value:m,onChange:a=>n(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),(0,b.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:r?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Loading vehicles..."}):0===s.length?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:m?"No vehicles found matching your search":"No available vehicles at the moment"}):s.map(a=>(0,b.jsx)("div",{onClick:()=>p(a.id),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${o===a.id?"border-red-600 bg-red-50":"border-gray-200 hover:border-red-300 hover:bg-gray-50"}`,children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,b.jsx)("div",{className:"bg-red-100 p-2 rounded-lg",children:(0,b.jsx)(f.Truck,{className:"w-6 h-6 text-red-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Plate: ",a.plate_number]}),a.vehicle_type&&(0,b.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Type: ","object"==typeof a.vehicle_type?a.vehicle_type.name:a.vehicle_type]}),(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)(i.Badge,{variant:a.status,children:a.status})})]})]}),o===a.id&&(0,b.jsx)(h.CheckCircle,{className:"w-6 h-6 text-red-600 flex-shrink-0"})]})},a.id))}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,b.jsx)("button",{onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{o&&(k(o),p(null),n(""))},disabled:!o,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Select Vehicle"})]})]})})}a.s(["default",()=>j])},41710,a=>{"use strict";let b=(0,a.i(70106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],41710)}];

//# sourceMappingURL=_c180deab._.js.map