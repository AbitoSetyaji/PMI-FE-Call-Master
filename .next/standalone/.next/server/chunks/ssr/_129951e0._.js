module.exports=[55486,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({children:a,variant:d="default",className:e}){let f={default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800",pending:"bg-status-pending-bg text-yellow-800 border border-status-pending",active:"bg-blue-100 text-blue-800 border border-blue-300",assigned:"bg-status-assigned-bg text-blue-800 border border-status-assigned",on_progress:"bg-status-on-progress-bg text-orange-800 border border-status-on-progress",completed:"bg-status-completed-bg text-green-800 border border-status-completed",cancelled:"bg-status-cancelled-bg text-gray-800 border border-status-cancelled",low:"bg-gray-100 text-gray-700 border border-gray-300",medium:"bg-yellow-100 text-yellow-800 border border-yellow-400",high:"bg-orange-100 text-orange-800 border border-orange-400",urgent:"bg-red-100 text-red-800 border border-red-400",critical:"bg-red-100 text-red-800 border border-red-600 font-semibold",available:"bg-green-100 text-green-800 border border-green-400",on_duty:"bg-blue-100 text-blue-800 border border-blue-400",maintenance:"bg-gray-100 text-gray-700 border border-gray-400",admin:"bg-purple-100 text-purple-800 border border-purple-400",driver:"bg-blue-100 text-blue-800 border border-blue-400",reporter:"bg-green-100 text-green-800 border border-green-400"};return(0,b.jsx)("span",{className:(0,c.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors-smooth",f[d]||f.default,e),children:a})}a.s(["Badge",()=>d])},10227,a=>{"use strict";let b=(0,a.i(70106).default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);a.s(["Truck",()=>b],10227)},89791,a=>{"use strict";var b=a.i(87924);let c=a.i(72131).default.forwardRef(function({label:a,error:c=null,className:d="",id:e,...f},g){let h=e||`input-${a?.toLowerCase().replace(/\s+/g,"-")}`,i=c?`${h}-error`:void 0;return(0,b.jsxs)("div",{className:"mb-4",children:[a&&(0,b.jsx)("label",{htmlFor:h,className:"block text-sm font-medium mb-1 text-gray-700",children:a}),(0,b.jsx)("input",{ref:g,id:h,"aria-invalid":c?"true":"false","aria-describedby":i,className:`w-full rounded-md border px-3 py-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-pmi-red focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed ${c?"border-red-400 focus:ring-red-500":"border-gray-300 hover:border-gray-400"} ${d}`,...f}),c&&(0,b.jsx)("p",{id:i,className:"text-sm text-red-600 mt-1",role:"alert",children:c})]})});a.s(["default",0,c])},49483,a=>{"use strict";var b=a.i(87924);function c(){return(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})}function d({rows:a=5}){return(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"})]})}),Array.from({length:a}).map((a,c)=>(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 last:border-b-0",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 animate-pulse"})]})},c))]})}a.s(["ButtonSpinner",()=>c,"SkeletonTable",()=>d])},7078,a=>{"use strict";var b=a.i(87924),c=a.i(49483);function d({variant:a="primary",className:d="",isLoading:e=!1,loadingText:f,children:g,disabled:h,...i}){return(0,b.jsxs)("button",{className:`px-4 py-2 rounded-md font-medium disabled:opacity-60 disabled:cursor-not-allowed transition-all duration-200 ease-in-out flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 active:scale-95 ${({primary:"bg-pmi-red text-white hover:bg-pmi-red-dark focus:ring-pmi-red shadow-sm hover:shadow-md",secondary:"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-500 shadow-sm hover:shadow",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm hover:shadow-md",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500 shadow-sm hover:shadow-md"})[a]} ${d}`.trim(),disabled:h||e,...i,children:[e&&(0,b.jsx)(c.ButtonSpinner,{}),e?f||"Loading...":g]})}a.s(["default",()=>d])},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},48313,a=>{"use strict";var b=a.i(87924),c=a.i(33508);function d({isOpen:a,onClose:d,title:e,children:f,size:g="md"}){return a?(0,b.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,b.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[(0,b.jsx)("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:d}),(0,b.jsxs)("div",{className:`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[g]}`,children:[e&&(0,b.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e}),(0,b.jsx)("button",{onClick:d,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:(0,b.jsx)(c.X,{className:"w-5 h-5"})})]}),(0,b.jsx)("div",{className:"px-6 py-4",children:f})]})]})}):null}a.s(["Modal",()=>d])},16201,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},19456,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(33217),e=a.i(48313),f=a.i(10227),g=a.i(87532),h=a.i(16201),i=a.i(55486);function j({isOpen:a,onClose:j,onSelectVehicle:k,transportTypeId:l}){let[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(null),{data:q,isLoading:r}=(0,d.useQuery)({queryKey:["vehicles"],queryFn:async()=>{let a=localStorage.getItem("pmi_auth_token"),b=await fetch("http://148.230.100.61:8000/vehicles",{headers:{Authorization:`Bearer ${a}`}});if(!b.ok)throw Error("Failed to fetch vehicles");return b.json()},enabled:a}),s=(q?.data||[]).filter(a=>"available"===a.status&&(!l||(a.vehicle_type_id||a.type)===l)).filter(a=>a.name.toLowerCase().includes(m.toLowerCase())||a.plate_number.toLowerCase().includes(m.toLowerCase())),t=()=>{p(null),n(""),j()};return(0,b.jsx)(e.Modal,{isOpen:a,onClose:t,title:"Select Vehicle",size:"lg",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(g.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search by name or plate number...",value:m,onChange:a=>n(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),(0,b.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:r?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Loading vehicles..."}):0===s.length?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:m?"No vehicles found matching your search":"No available vehicles at the moment"}):s.map(a=>(0,b.jsx)("div",{onClick:()=>p(a.id),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${o===a.id?"border-red-600 bg-red-50":"border-gray-200 hover:border-red-300 hover:bg-gray-50"}`,children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,b.jsx)("div",{className:"bg-red-100 p-2 rounded-lg",children:(0,b.jsx)(f.Truck,{className:"w-6 h-6 text-red-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Plate: ",a.plate_number]}),a.vehicle_type&&(0,b.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Type: ","object"==typeof a.vehicle_type?a.vehicle_type.name:a.vehicle_type]}),(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)(i.Badge,{variant:a.status,children:a.status})})]})]}),o===a.id&&(0,b.jsx)(h.CheckCircle,{className:"w-6 h-6 text-red-600 flex-shrink-0"})]})},a.id))}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,b.jsx)("button",{onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{o&&(k(o),p(null),n(""))},disabled:!o,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Select Vehicle"})]})]})})}a.s(["default",()=>j])},63336,a=>{"use strict";var b=a.i(87924);function c({children:a,className:c="",hover:d=!1,onClick:e}){return(0,b.jsx)("div",{className:`bg-white shadow-sm rounded-lg p-4 transition-all duration-200 ease-in-out ${d?"hover:-translate-y-1 hover:shadow-lg cursor-pointer":""} ${c}`.trim(),onClick:e,role:e?"button":void 0,tabIndex:e?0:void 0,onKeyPress:e?a=>{("Enter"===a.key||" "===a.key)&&e()}:void 0,children:a})}a.s(["default",()=>c])},8520,a=>{"use strict";var b=a.i(87924),c=a.i(95245),d=a.i(59501),e=a.i(99614),f=a.i(32636),g=a.i(38246),h=a.i(7078),i=a.i(89791);a.i(63336),a.i(73885);var j=a.i(72131);let k=j.default.forwardRef(({label:a,error:c,options:d,className:e="",...f},g)=>(0,b.jsxs)("div",{className:"mb-4",children:[a&&(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a}),(0,b.jsxs)("select",{ref:g,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 ${c?"border-red-500":""} ${e}`,...f,children:[(0,b.jsx)("option",{value:"",children:"Select an option..."}),d.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]}),c&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c})]}));k.displayName="Select",j.default.forwardRef(({label:a,error:c,className:d="",...e},f)=>(0,b.jsxs)("div",{className:"w-full",children:[a&&(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,b.jsx)("textarea",{ref:f,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-vertical ${c?"border-red-500":""} ${d}`,...e}),c&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c})]})).displayName="Textarea",a.i(55486),a.i(48313),a.i(49483),a.i(19456);let l=e.object({name:e.string().min(3,{message:"Nama minimal 3 karakter"}),email:e.string().email({message:"Email tidak valid"}),password:e.string().min(6,{message:"Password minimal 6 karakter"}),confirmPassword:e.string(),role:e.enum(["admin","driver","reporter"],{errorMap:()=>({message:"Pilih role yang valid"})})}).refine(a=>a.password===a.confirmPassword,{message:"Password tidak cocok",path:["confirmPassword"]}),m=[{value:"reporter",label:"Reporter (Pelapor)"},{value:"driver",label:"Driver (Pengemudi)"},{value:"admin",label:"Admin"}];function n(){let{register:a,isLoading:e}=(0,f.useAuth)(),{register:j,handleSubmit:n,formState:{errors:o}}=(0,c.useForm)({resolver:(0,d.zodResolver)(l)});async function p(b){let{confirmPassword:c,...d}=b;await a({...d,role:d.role})}return(0,b.jsxs)("div",{className:"max-w-md mx-auto bg-white p-6 rounded-md shadow",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Registrasi"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"Daftar akun baru untuk sistem PMI Emergency Call"}),(0,b.jsxs)("form",{onSubmit:n(p),children:[(0,b.jsx)(i.default,{label:"Nama Lengkap",type:"text",placeholder:"Masukkan nama lengkap",...j("name"),error:o.name?.message}),(0,b.jsx)(i.default,{label:"Email",type:"email",placeholder:"nama@example.com",...j("email"),error:o.email?.message}),(0,b.jsx)(i.default,{label:"Password",type:"password",placeholder:"Minimal 6 karakter",...j("password"),error:o.password?.message}),(0,b.jsx)(i.default,{label:"Konfirmasi Password",type:"password",placeholder:"Masukkan password lagi",...j("confirmPassword"),error:o.confirmPassword?.message}),(0,b.jsx)(k,{label:"Role / Peran",options:m,...j("role"),error:o.role?.message}),(0,b.jsx)(h.default,{type:"submit",className:"w-full",disabled:e,children:e?"Mendaftar...":"Daftar"})]}),(0,b.jsx)("div",{className:"mt-4 text-center",children:(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["Sudah punya akun?"," ",(0,b.jsx)(g.default,{href:"/login",className:"text-red-600 hover:text-red-700 font-medium",children:"Login di sini"})]})})]})}a.s(["default",()=>n],8520)}];

//# sourceMappingURL=_129951e0._.js.map