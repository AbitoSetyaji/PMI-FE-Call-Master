{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LaboranD2K/Downloads/server/PMI-FE-Call/src/lib/api.ts"],"sourcesContent":["import type {\r\n  User,\r\n  Vehicle,\r\n  VehicleType,\r\n  Report,\r\n  Assignment,\r\n  DriverLocation,\r\n  CreateVehicleTypeRequest,\r\n  CreateVehicleRequest,\r\n  UpdateVehicleRequest,\r\n  CreateReportRequest,\r\n  UpdateReportRequest,\r\n  CreateAssignmentRequest,\r\n  UpdateAssignmentRequest,\r\n  CreateDriverLocationRequest,\r\n  ApiResponse,\r\n  PaginatedResponse,\r\n} from \"./types\";\r\n\r\nconst API_BASE_URL =\r\n  process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000/api\";\r\n\r\n// Helper function for API calls\r\nasync function apiCall<T>(\r\n  endpoint: string,\r\n  options: RequestInit = {}\r\n): Promise<T> {\r\n  const token = typeof window !== \"undefined\" ? localStorage.getItem(\"pmi_auth_token\") : null;\r\n\r\n  const headers = new Headers(options.headers);\r\n  headers.set(\"Content-Type\", \"application/json\");\r\n\r\n  if (token) {\r\n    headers.set(\"Authorization\", `Bearer ${token}`);\r\n  }\r\n\r\n  const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n    ...options,\r\n    headers,\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const error = await response.json();\r\n    throw new Error(error.message || `API Error: ${response.status}`);\r\n  }\r\n\r\n  return response.json();\r\n}\r\n\r\n// ============== USERS (helper functions) ==============\r\n\r\nexport async function getUserById(id: string): Promise<User> {\r\n  const response = await apiCall<ApiResponse<User>>(`/users/${id}`);\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateUser(\r\n  id: string,\r\n  data: Partial<User>\r\n): Promise<User> {\r\n  const response = await apiCall<ApiResponse<User>>(`/users/${id}`, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\n// ============== VEHICLE TYPES ==============\r\nexport const vehicleTypes = {\r\n  getVehicleTypes: async (): Promise<ApiResponse<VehicleType[]>> => {\r\n    return await apiCall<ApiResponse<VehicleType[]>>(\"/vehicle-types\");\r\n  },\r\n  getById: async (id: string): Promise<ApiResponse<VehicleType>> => {\r\n    return await apiCall<ApiResponse<VehicleType>>(`/vehicle-types/${id}`);\r\n  },\r\n  createVehicleType: async (data: CreateVehicleTypeRequest): Promise<ApiResponse<VehicleType>> => {\r\n    return await apiCall<ApiResponse<VehicleType>>(\"/vehicle-types\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  updateVehicleType: async (id: string, data: Partial<CreateVehicleTypeRequest>): Promise<ApiResponse<VehicleType>> => {\r\n    return await apiCall<ApiResponse<VehicleType>>(`/vehicle-types/${id}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  deleteVehicleType: async (id: string): Promise<ApiResponse<void>> => {\r\n    return await apiCall<ApiResponse<void>>(`/vehicle-types/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n  },\r\n};\r\n\r\nexport const vehicleTypesApi = vehicleTypes;\r\n\r\n// Helper functions for backward compatibility\r\nexport async function getVehicleTypeById(id: string): Promise<VehicleType> {\r\n  const response = await apiCall<ApiResponse<VehicleType>>(`/vehicle-types/${id}`);\r\n  return response.data!;\r\n}\r\n\r\nexport async function createVehicleType(data: CreateVehicleTypeRequest): Promise<VehicleType> {\r\n  const response = await apiCall<ApiResponse<VehicleType>>(\"/vehicle-types\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateVehicleType(id: string, data: Partial<CreateVehicleTypeRequest>): Promise<VehicleType> {\r\n  const response = await apiCall<ApiResponse<VehicleType>>(`/vehicle-types/${id}`, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function deleteVehicleType(id: string): Promise<void> {\r\n  await apiCall(`/vehicle-types/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n\r\n// ============== VEHICLES ==============\r\nexport const vehicles = {\r\n  getAll: async (params?: { status?: string }): Promise<ApiResponse<Vehicle[]>> => {\r\n    const queryParams = params?.status ? `?status=${params.status}` : '';\r\n    return await apiCall<ApiResponse<Vehicle[]>>(`/vehicles${queryParams}`);\r\n  },\r\n  getById: async (id: string): Promise<ApiResponse<Vehicle>> => {\r\n    return await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`);\r\n  },\r\n  // Alias for getById for backward compatibility\r\n  getVehicleById: async (id: string): Promise<ApiResponse<Vehicle>> => {\r\n    return await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`);\r\n  },\r\n  createVehicle: async (data: CreateVehicleRequest): Promise<ApiResponse<Vehicle>> => {\r\n    return await apiCall<ApiResponse<Vehicle>>(\"/vehicles\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  updateVehicle: async (id: string, data: UpdateVehicleRequest): Promise<ApiResponse<Vehicle>> => {\r\n    return await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  deleteVehicle: async (id: string): Promise<ApiResponse<void>> => {\r\n    return await apiCall<ApiResponse<void>>(`/vehicles/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n  },\r\n};\r\n\r\n// Helper functions for backward compatibility\r\nexport async function getVehicleById(id: string): Promise<Vehicle> {\r\n  const response = await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`);\r\n  return response.data!;\r\n}\r\n\r\nexport async function createVehicle(data: CreateVehicleRequest): Promise<Vehicle> {\r\n  const response = await apiCall<ApiResponse<Vehicle>>(\"/vehicles\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateVehicle(id: string, data: UpdateVehicleRequest): Promise<Vehicle> {\r\n  const response = await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function deleteVehicle(id: string): Promise<void> {\r\n  await apiCall(`/vehicles/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n\r\n// ============== REPORTS ==============\r\nexport async function reports(): Promise<Report[]> {\r\n  const response = await apiCall<ApiResponse<Report[]>>(\"/reports\");\r\n  return response.data || [];\r\n}\r\n\r\nexport async function getReportById(id: string): Promise<Report> {\r\n  const response = await apiCall<ApiResponse<Report>>(`/reports/${id}`);\r\n  return response.data!;\r\n}\r\n\r\nexport async function createReport(\r\n  data: CreateReportRequest\r\n): Promise<Report> {\r\n  const response = await apiCall<ApiResponse<Report>>(\"/reports\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateReport(\r\n  id: string,\r\n  data: UpdateReportRequest\r\n): Promise<Report> {\r\n  const response = await apiCall<ApiResponse<Report>>(`/reports/${id}`, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function deleteReport(id: string): Promise<void> {\r\n  await apiCall(`/reports/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n\r\n// ============== ASSIGNMENTS ==============\r\nexport async function assignments(): Promise<Assignment[]> {\r\n  const response = await apiCall<ApiResponse<Assignment[]>>(\"/assignments\");\r\n  return response.data || [];\r\n}\r\n\r\nexport async function getAssignmentById(id: string): Promise<Assignment> {\r\n  const response = await apiCall<ApiResponse<Assignment>>(\r\n    `/assignments/${id}`\r\n  );\r\n  return response.data!;\r\n}\r\n\r\nexport async function createAssignment(\r\n  data: CreateAssignmentRequest\r\n): Promise<Assignment> {\r\n  const response = await apiCall<ApiResponse<Assignment>>(\"/assignments\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateAssignment(\r\n  id: string,\r\n  data: UpdateAssignmentRequest\r\n): Promise<Assignment> {\r\n  const response = await apiCall<ApiResponse<Assignment>>(\r\n    `/assignments/${id}`,\r\n    {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    }\r\n  );\r\n  return response.data!;\r\n}\r\n\r\nexport async function deleteAssignment(id: string): Promise<void> {\r\n  await apiCall(`/assignments/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n\r\n// ============== DRIVER LOCATIONS ==============\r\nexport async function getDriverLocationsList(): Promise<DriverLocation[]> {\r\n  const response = await apiCall<ApiResponse<DriverLocation[]>>(\r\n    \"/driver-locations\"\r\n  );\r\n  return response.data || [];\r\n}\r\n\r\nexport async function getDriverLocationById(id: string): Promise<DriverLocation> {\r\n  const response = await apiCall<ApiResponse<DriverLocation>>(\r\n    `/driver-locations/${id}`\r\n  );\r\n  return response.data!;\r\n}\r\n\r\nexport async function createDriverLocation(\r\n  data: CreateDriverLocationRequest\r\n): Promise<DriverLocation> {\r\n  const response = await apiCall<ApiResponse<DriverLocation>>(\r\n    \"/driver-locations\",\r\n    {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    }\r\n  );\r\n  return response.data!;\r\n}\r\n\r\n// ============== ORGANIZED API OBJECTS ==============\r\n\r\n// Assignments API\r\nexport const assignmentsApi = {\r\n  getAll: assignments,\r\n  getById: getAssignmentById,\r\n  create: createAssignment,\r\n  update: updateAssignment,\r\n  delete: deleteAssignment,\r\n\r\n  // Driver-specific endpoints\r\n  getAssignmentsByDriver: async (driverId: string): Promise<ApiResponse<Assignment[]>> => {\r\n    return await apiCall<ApiResponse<Assignment[]>>(`/assignments/driver/${driverId}`);\r\n  },\r\n\r\n  updateDriverAssignment: async (\r\n    assignmentId: string,\r\n    data: { vehicle_id?: string; status?: string }\r\n  ): Promise<ApiResponse<Assignment>> => {\r\n    return await apiCall<ApiResponse<Assignment>>(`/assignments/${assignmentId}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n};\r\n\r\n// Reports API\r\nexport const reportsApi = {\r\n  getAll: reports,\r\n  getById: getReportById,\r\n  create: createReport,\r\n  update: updateReport,\r\n  delete: deleteReport,\r\n\r\n  // Update report status\r\n  updateReportStatus: async (\r\n    reportId: string,\r\n    data: { status: string }\r\n  ): Promise<ApiResponse<Report>> => {\r\n    return await apiCall<ApiResponse<Report>>(`/reports/${reportId}/status`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n};\r\n\r\n// Vehicles API\r\nexport const vehiclesApi = {\r\n  getAll: vehicles.getAll,\r\n  getById: vehicles.getById,\r\n  create: vehicles.createVehicle,\r\n  update: vehicles.updateVehicle,\r\n  delete: vehicles.deleteVehicle,\r\n};\r\n\r\n// Users API\r\nexport const users = {\r\n  getAll: async (params?: { role?: string }): Promise<User[]> => {\r\n    const queryParams = params?.role ? `?role=${params.role}` : '';\r\n    const response = await apiCall<ApiResponse<User[]>>(`/users${queryParams}`);\r\n    return response.data || [];\r\n  },\r\n  getUsers: async (params?: { role?: string }): Promise<ApiResponse<User[]>> => {\r\n    const queryParams = params?.role ? `?role=${params.role}` : '';\r\n    return await apiCall<ApiResponse<User[]>>(`/users${queryParams}`);\r\n  },\r\n  getById: getUserById,\r\n  update: updateUser,\r\n  createUser: async (data: { name: string; email: string; password: string; role: string }): Promise<ApiResponse<User>> => {\r\n    return await apiCall<ApiResponse<User>>('/users', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  updateUser: async (id: string, data: Partial<User>): Promise<ApiResponse<User>> => {\r\n    return await apiCall<ApiResponse<User>>(`/users/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  deleteUser: async (id: string): Promise<ApiResponse<void>> => {\r\n    return await apiCall<ApiResponse<void>>(`/users/${id}`, {\r\n      method: 'DELETE',\r\n    });\r\n  },\r\n};\r\n\r\nexport const usersApi = users;\r\n\r\n// Driver Locations API\r\nexport const driverLocations = {\r\n  getDriverLocations: async (): Promise<ApiResponse<DriverLocation[]>> => {\r\n    return await apiCall<ApiResponse<DriverLocation[]>>(\"/driver-locations/all/active\");\r\n  },\r\n  getAll: getDriverLocationsList,\r\n  getById: getDriverLocationById,\r\n  create: createDriverLocation,\r\n};\r\n\r\nexport const driverLocationsApi = driverLocations;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LaboranD2K/Downloads/server/PMI-FE-Call/src/app/dashboard/tracking/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { driverLocations } from \"@/lib/api\";\r\nimport dynamic from \"next/dynamic\";\r\nimport { MapPin, RefreshCw, Users } from \"lucide-react\";\r\nimport type { DriverLocation } from \"@/lib/types\";\r\n\r\n// Dynamically import map components to avoid SSR issues with Leaflet\r\nconst MapView = dynamic(\r\n  () => import(\"@/components/maps/MapView\").then((mod) => mod.MapView),\r\n  { ssr: false }\r\n);\r\n\r\nconst DriverMarker = dynamic(\r\n  () =>\r\n    import(\"@/components/maps/DriverMarker\").then((mod) => mod.DriverMarker),\r\n  { ssr: false }\r\n);\r\n\r\nconst FlyToLocation = dynamic(\r\n  () =>\r\n    import(\"@/components/maps/FlyToLocation\").then((mod) => mod.FlyToLocation),\r\n  { ssr: false }\r\n);\r\n\r\nexport default function TrackingPage() {\r\n  const [autoRefresh, setAutoRefresh] = useState(true);\r\n  const [mounted, setMounted] = useState(false);\r\n  const [selectedDriverId, setSelectedDriverId] = useState<string | null>(null);\r\n  const [flyToPosition, setFlyToPosition] = useState<[number, number] | null>(null);\r\n\r\n  // Color palette for different drivers\r\n  const DRIVER_COLORS = [\r\n    \"#ef4444\", // red\r\n    \"#3b82f6\", // blue\r\n    \"#22c55e\", // green\r\n    \"#f97316\", // orange\r\n    \"#8b5cf6\", // purple\r\n    \"#ec4899\", // pink\r\n    \"#14b8a6\", // teal\r\n    \"#eab308\", // yellow\r\n  ];\r\n\r\n  const getDriverColor = (index: number) => DRIVER_COLORS[index % DRIVER_COLORS.length];\r\n\r\n  // Fix hydration mismatch by only rendering time on client\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  // Fetch driver locations\r\n  const {\r\n    data: locationsData,\r\n    isLoading,\r\n    refetch,\r\n    dataUpdatedAt,\r\n  } = useQuery({\r\n    queryKey: [\"driver-locations\"],\r\n    queryFn: () => driverLocations.getDriverLocations(),\r\n    staleTime: 0,\r\n    refetchInterval: autoRefresh ? 5 * 1000 : false, // Auto-refetch every 5 seconds for real-time tracking\r\n    refetchIntervalInBackground: true,\r\n  });\r\n\r\n  const locations: DriverLocation[] = locationsData?.data || [];\r\n  const activeDrivers = locations.filter((loc) => loc.assignment_id);\r\n  const idleDrivers = locations.filter((loc) => !loc.assignment_id);\r\n\r\n  // Default center (Jakarta, Indonesia - PMI headquarters example)\r\n  const defaultCenter: [number, number] = [-6.2088, 106.8456];\r\n\r\n  // Calculate map center based on driver locations\r\n  const mapCenter: [number, number] =\r\n    locations.length > 0\r\n      ? [\r\n        locations.reduce((sum, loc) => sum + loc.latitude, 0) /\r\n        locations.length,\r\n        locations.reduce((sum, loc) => sum + loc.longitude, 0) /\r\n        locations.length,\r\n      ]\r\n      : defaultCenter;\r\n\r\n  const handleManualRefresh = () => {\r\n    refetch();\r\n  };\r\n\r\n  const lastRefresh = new Date(dataUpdatedAt);\r\n\r\n  return (\r\n    <div className=\"space-y-4 md:space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\r\n        <div className=\"flex items-center gap-2 sm:gap-3\">\r\n          <MapPin className=\"w-6 h-6 sm:w-8 sm:h-8 text-red-600\" />\r\n          <div>\r\n            <h1 className=\"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900\">\r\n              Real-Time Tracking\r\n            </h1>\r\n            <p className=\"text-xs sm:text-sm text-gray-600 hidden sm:block\">\r\n              Monitor driver locations in real-time\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <button\r\n            onClick={handleManualRefresh}\r\n            className=\"flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-1.5 sm:py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm\"\r\n          >\r\n            <RefreshCw className=\"w-4 h-4\" />\r\n            <span className=\"hidden sm:inline\">Refresh</span>\r\n          </button>\r\n          <label className=\"flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-1.5 sm:py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={autoRefresh}\r\n              onChange={(e) => setAutoRefresh(e.target.checked)}\r\n              className=\"rounded border-gray-300 text-red-600 focus:ring-red-500 w-3.5 h-3.5 sm:w-4 sm:h-4\"\r\n            />\r\n            <span className=\"text-xs sm:text-sm font-medium text-gray-700\">\r\n              Auto<span className=\"hidden sm:inline\">-refresh</span>\r\n            </span>\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Cards */}\r\n      <div className=\"grid grid-cols-3 gap-2 sm:gap-4\">\r\n        <div className=\"bg-white rounded-lg shadow p-3 sm:p-4 md:p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-xs sm:text-sm font-medium text-gray-600\">Total</p>\r\n              <p className=\"text-lg sm:text-2xl md:text-3xl font-bold text-gray-900\">\r\n                {locations.length}\r\n              </p>\r\n            </div>\r\n            <Users className=\"w-6 h-6 sm:w-8 sm:h-8 md:w-12 md:h-12 text-gray-400 hidden xs:block\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow p-3 sm:p-4 md:p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-xs sm:text-sm font-medium text-gray-600\">On Duty</p>\r\n              <p className=\"text-lg sm:text-2xl md:text-3xl font-bold text-red-600\">\r\n                {activeDrivers.length}\r\n              </p>\r\n            </div>\r\n            <div className=\"w-6 h-6 sm:w-8 sm:h-8 md:w-12 md:h-12 bg-red-100 rounded-full hidden xs:flex items-center justify-center\">\r\n              <MapPin className=\"w-3 h-3 sm:w-4 sm:h-4 md:w-6 md:h-6 text-red-600\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow p-3 sm:p-4 md:p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-xs sm:text-sm font-medium text-gray-600\">Idle</p>\r\n              <p className=\"text-lg sm:text-2xl md:text-3xl font-bold text-gray-600\">\r\n                {idleDrivers.length}\r\n              </p>\r\n            </div>\r\n            <div className=\"w-6 h-6 sm:w-8 sm:h-8 md:w-12 md:h-12 bg-gray-100 rounded-full hidden xs:flex items-center justify-center\">\r\n              <MapPin className=\"w-3 h-3 sm:w-4 sm:h-4 md:w-6 md:h-6 text-gray-600\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Map */}\r\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n        <div className=\"p-2 sm:p-3 md:p-4 border-b border-gray-200 flex items-center justify-between\">\r\n          <h2 className=\"text-sm sm:text-base md:text-lg font-semibold text-gray-900\">\r\n            Driver Locations\r\n          </h2>\r\n          <div className=\"text-xs sm:text-sm text-gray-500\">\r\n            {mounted ? lastRefresh.toLocaleTimeString(\"id-ID\", { hour: \"2-digit\", minute: \"2-digit\", second: \"2-digit\", hour12: false }) : \"--:--:--\"}\r\n          </div>\r\n        </div>\r\n\r\n        {isLoading ? (\r\n          <div className=\"h-[600px] flex items-center justify-center bg-gray-50\">\r\n            <div className=\"text-center\">\r\n              <RefreshCw className=\"w-8 h-8 text-gray-400 animate-spin mx-auto mb-2\" />\r\n              <p className=\"text-gray-600\">Loading map...</p>\r\n            </div>\r\n          </div>\r\n        ) : locations.length === 0 ? (\r\n          <div className=\"h-[300px] sm:h-[350px] md:h-[400px] lg:h-[500px] flex items-center justify-center bg-gray-50\">\r\n            <div className=\"text-center\">\r\n              <MapPin className=\"w-12 h-12 text-gray-400 mx-auto mb-2\" />\r\n              <p className=\"text-gray-600\">No driver locations available</p>\r\n              <p className=\"text-sm text-gray-500 mt-1\">\r\n                Drivers will appear here once they start sharing their location\r\n              </p>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"h-[300px] sm:h-[350px] md:h-[400px] lg:h-[500px]\">\r\n            <MapView center={mapCenter} zoom={12}>\r\n              <FlyToLocation position={flyToPosition} zoom={16} />\r\n              {locations.map((location, index) => (\r\n                <DriverMarker key={location.id} location={location} color={getDriverColor(index)} />\r\n              ))}\r\n            </MapView>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Driver List */}\r\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n        <div className=\"p-2 sm:p-3 md:p-4 border-b border-gray-200\">\r\n          <h2 className=\"text-sm sm:text-base md:text-lg font-semibold text-gray-900\">\r\n            Active Drivers\r\n          </h2>\r\n        </div>\r\n\r\n        {locations.length === 0 ? (\r\n          <div className=\"p-4 sm:p-6 md:p-8 text-center text-gray-500 text-sm sm:text-base\">No drivers online</div>\r\n        ) : (\r\n          <div className=\"divide-y divide-gray-200\">\r\n            {locations.map((location, index) => (\r\n              <div\r\n                key={location.id}\r\n                onClick={() => {\r\n                  const isSelected = selectedDriverId === location.id;\r\n                  setSelectedDriverId(isSelected ? null : location.id);\r\n                  if (!isSelected) {\r\n                    setFlyToPosition([location.latitude, location.longitude]);\r\n                  }\r\n                }}\r\n                className={`p-2 sm:p-3 md:p-4 cursor-pointer transition-colors ${selectedDriverId === location.id\r\n                  ? \"bg-blue-50 border-l-4 border-blue-500\"\r\n                  : \"hover:bg-gray-50\"\r\n                  }`}\r\n              >\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-2 sm:gap-3\">\r\n                    <div\r\n                      className=\"w-3 h-3 sm:w-4 sm:h-4 rounded-full shadow-md border-2 border-white flex-shrink-0\"\r\n                      style={{ backgroundColor: getDriverColor(index) }}\r\n                    />\r\n                    <div className=\"min-w-0\">\r\n                      <p className=\"font-medium text-gray-900 text-sm sm:text-base truncate\">\r\n                        {location.driver_name || \"Unknown Driver\"}\r\n                      </p>\r\n                      {location.vehicle_license_plate && (\r\n                        <p className=\"text-xs sm:text-sm text-gray-600 truncate\">\r\n                          üöó {location.vehicle_license_plate}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-right flex-shrink-0\">\r\n                    <span className={`inline-flex items-center px-1.5 sm:px-2.5 py-0.5 rounded-full text-[10px] sm:text-xs font-medium ${location.assignment_id\r\n                      ? \"bg-green-100 text-green-800\"\r\n                      : \"bg-gray-100 text-gray-600\"\r\n                      }`}>\r\n                      {location.assignment_id ? \"üî¥ On Duty\" : \"‚ö™ Idle\"}\r\n                    </span>\r\n                    <p className=\"text-[10px] sm:text-xs text-gray-500 mt-0.5 sm:mt-1\">\r\n                      {mounted && location.timestamp\r\n                        ? new Date(location.timestamp).toLocaleTimeString(\"id-ID\", {\r\n                          hour: \"2-digit\", minute: \"2-digit\", second: \"2-digit\", hour12: false\r\n                        })\r\n                        : \"--:--:--\"}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Full Detail Panel - shown when selected */}\r\n                {selectedDriverId === location.id && (\r\n                  <div className=\"mt-4 pt-4 border-t border-gray-200 space-y-4\">\r\n                    {/* Driver & Vehicle Info */}\r\n                    <div className=\"bg-gray-50 rounded-lg p-3\">\r\n                      <h4 className=\"font-semibold text-gray-800 mb-2\">üìã Assignment Details</h4>\r\n                      <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                        <div>\r\n                          <p className=\"text-gray-500\">Vehicle</p>\r\n                          <p className=\"font-medium\">{location.vehicle_license_plate || \"Tidak ada\"}</p>\r\n                        </div>\r\n                        <div>\r\n                          <p className=\"text-gray-500\">Driver</p>\r\n                          <p className=\"font-medium\">{location.driver_name || \"Unknown\"}</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Report Details - if available */}\r\n                    {location.report && (\r\n                      <>\r\n                        <div className=\"bg-amber-50 rounded-lg p-3\">\r\n                          <h4 className=\"font-semibold text-gray-800 mb-2\">üë§ Requester Information</h4>\r\n                          <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                            <div>\r\n                              <p className=\"text-gray-500\">Name</p>\r\n                              <p className=\"font-medium\">{location.report.requester_name || \"-\"}</p>\r\n                            </div>\r\n                            <div>\r\n                              <p className=\"text-gray-500\">Phone</p>\r\n                              <p className=\"font-medium\">{location.report.requester_phone || \"-\"}</p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"bg-blue-50 rounded-lg p-3\">\r\n                          <h4 className=\"font-semibold text-gray-800 mb-2\">üöë Transport Information</h4>\r\n                          <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                            <div>\r\n                              <p className=\"text-gray-500\">Transport Type</p>\r\n                              <p className=\"font-medium capitalize\">\r\n                                {location.report.transport_type?.replace(/_/g, \" \") || \"-\"}\r\n                              </p>\r\n                            </div>\r\n                            <div>\r\n                              <p className=\"text-gray-500\">Coffin Required</p>\r\n                              <p className=\"font-medium\">\r\n                                {location.report.use_stretcher ? \"‚úì Yes\" : \"‚úó No\"}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"bg-green-50 rounded-lg p-3\">\r\n                          <h4 className=\"font-semibold text-gray-800 mb-2\">üìç Pickup & Destination</h4>\r\n                          <div className=\"space-y-2 text-sm\">\r\n                            <div>\r\n                              <p className=\"text-gray-500\">üìç Pickup Address</p>\r\n                              <p className=\"font-medium\">{location.report.pickup_address || \"-\"}</p>\r\n                            </div>\r\n                            <div>\r\n                              <p className=\"text-gray-500\">üè• Destination Address</p>\r\n                              <p className=\"font-medium\">{location.report.destination_address || \"-\"}</p>\r\n                            </div>\r\n                            {location.report.notes && (\r\n                              <div>\r\n                                <p className=\"text-gray-500\">üìù Notes</p>\r\n                                <p className=\"font-medium\">{location.report.notes}</p>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </>\r\n                    )}\r\n\r\n                    {/* Location Coordinates */}\r\n                    <div className=\"bg-gray-50 rounded-lg p-3\">\r\n                      <h4 className=\"font-semibold text-gray-800 mb-2\">üåç Current Location</h4>\r\n                      <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                        <div>\r\n                          <p className=\"text-gray-500\">Latitude</p>\r\n                          <p className=\"font-mono font-medium\">{location.latitude.toFixed(6)}</p>\r\n                        </div>\r\n                        <div>\r\n                          <p className=\"text-gray-500\">Longitude</p>\r\n                          <p className=\"font-mono font-medium\">{location.longitude.toFixed(6)}</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <a\r\n                      href={`https://www.google.com/maps?q=${location.latitude},${location.longitude}`}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm transition-colors\"\r\n                    >\r\n                      üó∫Ô∏è Open in Google Maps\r\n                    </a>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}