{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LaboranD2K/Downloads/server/PMI-FE-Call/src/lib/api.ts"],"sourcesContent":["import type {\r\n  User,\r\n  Vehicle,\r\n  VehicleType,\r\n  Report,\r\n  Assignment,\r\n  DriverLocation,\r\n  CreateVehicleTypeRequest,\r\n  CreateVehicleRequest,\r\n  UpdateVehicleRequest,\r\n  CreateReportRequest,\r\n  UpdateReportRequest,\r\n  CreateAssignmentRequest,\r\n  UpdateAssignmentRequest,\r\n  CreateDriverLocationRequest,\r\n  ApiResponse,\r\n  PaginatedResponse,\r\n} from \"./types\";\r\n\r\nconst API_BASE_URL =\r\n  process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000/api\";\r\n\r\n// Helper function for API calls\r\nasync function apiCall<T>(\r\n  endpoint: string,\r\n  options: RequestInit = {}\r\n): Promise<T> {\r\n  const token = typeof window !== \"undefined\" ? localStorage.getItem(\"pmi_auth_token\") : null;\r\n\r\n  const headers = new Headers(options.headers);\r\n  headers.set(\"Content-Type\", \"application/json\");\r\n\r\n  if (token) {\r\n    headers.set(\"Authorization\", `Bearer ${token}`);\r\n  }\r\n\r\n  const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n    ...options,\r\n    headers,\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const error = await response.json();\r\n    throw new Error(error.message || `API Error: ${response.status}`);\r\n  }\r\n\r\n  return response.json();\r\n}\r\n\r\n// ============== USERS (helper functions) ==============\r\n\r\nexport async function getUserById(id: string): Promise<User> {\r\n  const response = await apiCall<ApiResponse<User>>(`/users/${id}`);\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateUser(\r\n  id: string,\r\n  data: Partial<User>\r\n): Promise<User> {\r\n  const response = await apiCall<ApiResponse<User>>(`/users/${id}`, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\n// ============== VEHICLE TYPES ==============\r\nexport const vehicleTypes = {\r\n  getVehicleTypes: async (): Promise<ApiResponse<VehicleType[]>> => {\r\n    return await apiCall<ApiResponse<VehicleType[]>>(\"/vehicle-types\");\r\n  },\r\n  getById: async (id: string): Promise<ApiResponse<VehicleType>> => {\r\n    return await apiCall<ApiResponse<VehicleType>>(`/vehicle-types/${id}`);\r\n  },\r\n  createVehicleType: async (data: CreateVehicleTypeRequest): Promise<ApiResponse<VehicleType>> => {\r\n    return await apiCall<ApiResponse<VehicleType>>(\"/vehicle-types\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  updateVehicleType: async (id: string, data: Partial<CreateVehicleTypeRequest>): Promise<ApiResponse<VehicleType>> => {\r\n    return await apiCall<ApiResponse<VehicleType>>(`/vehicle-types/${id}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  deleteVehicleType: async (id: string): Promise<ApiResponse<void>> => {\r\n    return await apiCall<ApiResponse<void>>(`/vehicle-types/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n  },\r\n};\r\n\r\nexport const vehicleTypesApi = vehicleTypes;\r\n\r\n// Helper functions for backward compatibility\r\nexport async function getVehicleTypeById(id: string): Promise<VehicleType> {\r\n  const response = await apiCall<ApiResponse<VehicleType>>(`/vehicle-types/${id}`);\r\n  return response.data!;\r\n}\r\n\r\nexport async function createVehicleType(data: CreateVehicleTypeRequest): Promise<VehicleType> {\r\n  const response = await apiCall<ApiResponse<VehicleType>>(\"/vehicle-types\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateVehicleType(id: string, data: Partial<CreateVehicleTypeRequest>): Promise<VehicleType> {\r\n  const response = await apiCall<ApiResponse<VehicleType>>(`/vehicle-types/${id}`, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function deleteVehicleType(id: string): Promise<void> {\r\n  await apiCall(`/vehicle-types/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n\r\n// ============== VEHICLES ==============\r\nexport const vehicles = {\r\n  getAll: async (params?: { status?: string }): Promise<ApiResponse<Vehicle[]>> => {\r\n    const queryParams = params?.status ? `?status=${params.status}` : '';\r\n    return await apiCall<ApiResponse<Vehicle[]>>(`/vehicles${queryParams}`);\r\n  },\r\n  getById: async (id: string): Promise<ApiResponse<Vehicle>> => {\r\n    return await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`);\r\n  },\r\n  // Alias for getById for backward compatibility\r\n  getVehicleById: async (id: string): Promise<ApiResponse<Vehicle>> => {\r\n    return await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`);\r\n  },\r\n  createVehicle: async (data: CreateVehicleRequest): Promise<ApiResponse<Vehicle>> => {\r\n    return await apiCall<ApiResponse<Vehicle>>(\"/vehicles\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  updateVehicle: async (id: string, data: UpdateVehicleRequest): Promise<ApiResponse<Vehicle>> => {\r\n    return await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  deleteVehicle: async (id: string): Promise<ApiResponse<void>> => {\r\n    return await apiCall<ApiResponse<void>>(`/vehicles/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n  },\r\n};\r\n\r\n// Helper functions for backward compatibility\r\nexport async function getVehicleById(id: string): Promise<Vehicle> {\r\n  const response = await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`);\r\n  return response.data!;\r\n}\r\n\r\nexport async function createVehicle(data: CreateVehicleRequest): Promise<Vehicle> {\r\n  const response = await apiCall<ApiResponse<Vehicle>>(\"/vehicles\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateVehicle(id: string, data: UpdateVehicleRequest): Promise<Vehicle> {\r\n  const response = await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function deleteVehicle(id: string): Promise<void> {\r\n  await apiCall(`/vehicles/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n\r\n// ============== REPORTS ==============\r\nexport async function reports(): Promise<Report[]> {\r\n  const response = await apiCall<ApiResponse<Report[]>>(\"/reports\");\r\n  return response.data || [];\r\n}\r\n\r\nexport async function getReportById(id: string): Promise<Report> {\r\n  const response = await apiCall<ApiResponse<Report>>(`/reports/${id}`);\r\n  return response.data!;\r\n}\r\n\r\nexport async function createReport(\r\n  data: CreateReportRequest\r\n): Promise<Report> {\r\n  const response = await apiCall<ApiResponse<Report>>(\"/reports\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateReport(\r\n  id: string,\r\n  data: UpdateReportRequest\r\n): Promise<Report> {\r\n  const response = await apiCall<ApiResponse<Report>>(`/reports/${id}`, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function deleteReport(id: string): Promise<void> {\r\n  await apiCall(`/reports/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n\r\n// ============== ASSIGNMENTS ==============\r\nexport async function assignments(): Promise<Assignment[]> {\r\n  const response = await apiCall<ApiResponse<Assignment[]>>(\"/assignments\");\r\n  return response.data || [];\r\n}\r\n\r\nexport async function getAssignmentById(id: string): Promise<Assignment> {\r\n  const response = await apiCall<ApiResponse<Assignment>>(\r\n    `/assignments/${id}`\r\n  );\r\n  return response.data!;\r\n}\r\n\r\nexport async function createAssignment(\r\n  data: CreateAssignmentRequest\r\n): Promise<Assignment> {\r\n  const response = await apiCall<ApiResponse<Assignment>>(\"/assignments\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateAssignment(\r\n  id: string,\r\n  data: UpdateAssignmentRequest\r\n): Promise<Assignment> {\r\n  const response = await apiCall<ApiResponse<Assignment>>(\r\n    `/assignments/${id}`,\r\n    {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    }\r\n  );\r\n  return response.data!;\r\n}\r\n\r\nexport async function deleteAssignment(id: string): Promise<void> {\r\n  await apiCall(`/assignments/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n\r\n// ============== DRIVER LOCATIONS ==============\r\nexport async function getDriverLocationsList(): Promise<DriverLocation[]> {\r\n  const response = await apiCall<ApiResponse<DriverLocation[]>>(\r\n    \"/driver-locations\"\r\n  );\r\n  return response.data || [];\r\n}\r\n\r\nexport async function getDriverLocationById(id: string): Promise<DriverLocation> {\r\n  const response = await apiCall<ApiResponse<DriverLocation>>(\r\n    `/driver-locations/${id}`\r\n  );\r\n  return response.data!;\r\n}\r\n\r\nexport async function createDriverLocation(\r\n  data: CreateDriverLocationRequest\r\n): Promise<DriverLocation> {\r\n  const response = await apiCall<ApiResponse<DriverLocation>>(\r\n    \"/driver-locations\",\r\n    {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    }\r\n  );\r\n  return response.data!;\r\n}\r\n\r\n// ============== ORGANIZED API OBJECTS ==============\r\n\r\n// Assignments API\r\nexport const assignmentsApi = {\r\n  getAll: assignments,\r\n  getById: getAssignmentById,\r\n  create: createAssignment,\r\n  update: updateAssignment,\r\n  delete: deleteAssignment,\r\n\r\n  // Driver-specific endpoints\r\n  getAssignmentsByDriver: async (driverId: string): Promise<ApiResponse<Assignment[]>> => {\r\n    return await apiCall<ApiResponse<Assignment[]>>(`/assignments/driver/${driverId}`);\r\n  },\r\n\r\n  updateDriverAssignment: async (\r\n    assignmentId: string,\r\n    data: { vehicle_id?: string; status?: string }\r\n  ): Promise<ApiResponse<Assignment>> => {\r\n    return await apiCall<ApiResponse<Assignment>>(`/assignments/${assignmentId}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n};\r\n\r\n// Reports API\r\nexport const reportsApi = {\r\n  getAll: reports,\r\n  getById: getReportById,\r\n  create: createReport,\r\n  update: updateReport,\r\n  delete: deleteReport,\r\n\r\n  // Update report status\r\n  updateReportStatus: async (\r\n    reportId: string,\r\n    data: { status: string }\r\n  ): Promise<ApiResponse<Report>> => {\r\n    return await apiCall<ApiResponse<Report>>(`/reports/${reportId}/status`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n};\r\n\r\n// Vehicles API\r\nexport const vehiclesApi = {\r\n  getAll: vehicles.getAll,\r\n  getById: vehicles.getById,\r\n  create: vehicles.createVehicle,\r\n  update: vehicles.updateVehicle,\r\n  delete: vehicles.deleteVehicle,\r\n};\r\n\r\n// Users API\r\nexport const users = {\r\n  getAll: async (params?: { role?: string }): Promise<User[]> => {\r\n    const queryParams = params?.role ? `?role=${params.role}` : '';\r\n    const response = await apiCall<ApiResponse<User[]>>(`/users${queryParams}`);\r\n    return response.data || [];\r\n  },\r\n  getUsers: async (params?: { role?: string }): Promise<ApiResponse<User[]>> => {\r\n    const queryParams = params?.role ? `?role=${params.role}` : '';\r\n    return await apiCall<ApiResponse<User[]>>(`/users${queryParams}`);\r\n  },\r\n  getById: getUserById,\r\n  update: updateUser,\r\n  createUser: async (data: { name: string; email: string; password: string; role: string }): Promise<ApiResponse<User>> => {\r\n    return await apiCall<ApiResponse<User>>('/users', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  updateUser: async (id: string, data: Partial<User>): Promise<ApiResponse<User>> => {\r\n    return await apiCall<ApiResponse<User>>(`/users/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  deleteUser: async (id: string): Promise<ApiResponse<void>> => {\r\n    return await apiCall<ApiResponse<void>>(`/users/${id}`, {\r\n      method: 'DELETE',\r\n    });\r\n  },\r\n};\r\n\r\nexport const usersApi = users;\r\n\r\n// Driver Locations API\r\nexport const driverLocations = {\r\n  getDriverLocations: async (): Promise<ApiResponse<DriverLocation[]>> => {\r\n    return await apiCall<ApiResponse<DriverLocation[]>>(\"/driver-locations/all/active\");\r\n  },\r\n  getAll: getDriverLocationsList,\r\n  getById: getDriverLocationById,\r\n  create: createDriverLocation,\r\n};\r\n\r\nexport const driverLocationsApi = driverLocations;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LaboranD2K/Downloads/server/PMI-FE-Call/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\r\n\r\n// Combine classnames\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return clsx(inputs);\r\n}\r\n\r\n// Format date and time\r\nexport function formatDateTime(date: string | Date): string {\r\n  const d = typeof date === \"string\" ? new Date(date) : date;\r\n  return d.toLocaleDateString(\"id-ID\", {\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  });\r\n}\r\n\r\n// Format date only\r\nexport function formatDate(date: string | Date): string {\r\n  const d = typeof date === \"string\" ? new Date(date) : date;\r\n  return d.toLocaleDateString(\"id-ID\", {\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n  });\r\n}\r\n\r\n// Format time only\r\nexport function formatTime(date: string | Date): string {\r\n  const d = typeof date === \"string\" ? new Date(date) : date;\r\n  return d.toLocaleTimeString(\"id-ID\", {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n    second: \"2-digit\",\r\n  });\r\n}\r\n\r\n// Get status badge color\r\nexport function getStatusColor(\r\n  status: string\r\n): \"default\" | \"secondary\" | \"destructive\" | \"outline\" {\r\n  const statusMap: Record<string, \"default\" | \"secondary\" | \"destructive\" | \"outline\"> = {\r\n    // Report statuses\r\n    open: \"default\",\r\n    in_progress: \"secondary\",\r\n    assigned: \"secondary\",\r\n    completed: \"default\",\r\n    cancelled: \"destructive\",\r\n\r\n    // Assignment statuses\r\n    pending: \"default\",\r\n    accepted: \"secondary\",\r\n    rejected: \"destructive\",\r\n\r\n    // Vehicle statuses\r\n    available: \"default\",\r\n    in_use: \"secondary\",\r\n    maintenance: \"destructive\",\r\n    inactive: \"outline\",\r\n\r\n    // User roles\r\n    admin: \"default\",\r\n    driver: \"secondary\",\r\n    reporter: \"outline\",\r\n\r\n    // Priority levels\r\n    low: \"outline\",\r\n    medium: \"secondary\",\r\n    high: \"default\",\r\n    urgent: \"destructive\",\r\n  };\r\n\r\n  return statusMap[status] || \"default\";\r\n}\r\n\r\n// Get priority badge color\r\nexport function getPriorityColor(priority: string): string {\r\n  const colors: Record<string, string> = {\r\n    low: \"bg-blue-100 text-blue-800\",\r\n    medium: \"bg-yellow-100 text-yellow-800\",\r\n    high: \"bg-orange-100 text-orange-800\",\r\n    urgent: \"bg-red-100 text-red-800\",\r\n  };\r\n  return colors[priority] || \"bg-gray-100 text-gray-800\";\r\n}\r\n\r\n// Get status badge color class\r\nexport function getStatusBadgeColor(status: string): string {\r\n  const colors: Record<string, string> = {\r\n    // Report statuses\r\n    open: \"bg-blue-100 text-blue-800\",\r\n    in_progress: \"bg-purple-100 text-purple-800\",\r\n    assigned: \"bg-indigo-100 text-indigo-800\",\r\n    completed: \"bg-green-100 text-green-800\",\r\n    cancelled: \"bg-red-100 text-red-800\",\r\n\r\n    // Assignment statuses\r\n    pending: \"bg-yellow-100 text-yellow-800\",\r\n    accepted: \"bg-green-100 text-green-800\",\r\n    rejected: \"bg-red-100 text-red-800\",\r\n\r\n    // Vehicle statuses\r\n    available: \"bg-green-100 text-green-800\",\r\n    in_use: \"bg-blue-100 text-blue-800\",\r\n    maintenance: \"bg-orange-100 text-orange-800\",\r\n    inactive: \"bg-gray-100 text-gray-800\",\r\n  };\r\n  return colors[status] || \"bg-gray-100 text-gray-800\";\r\n}\r\n\r\n// Capitalize first letter\r\nexport function capitalize(str: string): string {\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n\r\n// Format role name\r\nexport function formatRole(role: string): string {\r\n  const roleMap: Record<string, string> = {\r\n    admin: \"Administrator\",\r\n    driver: \"Driver\",\r\n    reporter: \"Reporter\",\r\n  };\r\n  return roleMap[role] || capitalize(role);\r\n}\r\n\r\n// Format status name\r\nexport function formatStatus(status: string): string {\r\n  return status\r\n    .split(\"_\")\r\n    .map((word) => capitalize(word))\r\n    .join(\" \");\r\n}\r\n\r\n// Convert file size to readable format\r\nexport function formatFileSize(bytes: number): string {\r\n  if (bytes === 0) return \"0 Bytes\";\r\n\r\n  const k = 1024;\r\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n  return Math.round((bytes / Math.pow(k, i)) * 100) / 100 + \" \" + sizes[i];\r\n}\r\n\r\n// Validate email\r\nexport function isValidEmail(email: string): boolean {\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailRegex.test(email);\r\n}\r\n\r\n// Validate phone number\r\nexport function isValidPhoneNumber(phone: string): boolean {\r\n  const phoneRegex = /^(\\+62|0)[0-9]{9,12}$/;\r\n  return phoneRegex.test(phone.replace(/[-\\s]/g, \"\"));\r\n}\r\n\r\n// Distance between two coordinates (in km)\r\nexport function calculateDistance(\r\n  lat1: number,\r\n  lon1: number,\r\n  lat2: number,\r\n  lon2: number\r\n): number {\r\n  const R = 6371; // Earth's radius in km\r\n  const dLat = ((lat2 - lat1) * Math.PI) / 180;\r\n  const dLon = ((lon2 - lon1) * Math.PI) / 180;\r\n  const a =\r\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n    Math.cos((lat1 * Math.PI) / 180) *\r\n      Math.cos((lat2 * Math.PI) / 180) *\r\n      Math.sin(dLon / 2) *\r\n      Math.sin(dLon / 2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n  return R * c;\r\n}\r\n\r\n// Format coordinates\r\nexport function formatCoordinates(lat: number, lon: number): string {\r\n  return `${lat.toFixed(6)}, ${lon.toFixed(6)}`;\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 524, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LaboranD2K/Downloads/server/PMI-FE-Call/src/components/ui/Badge.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport type {\r\n  ReportStatus,\r\n  VehicleStatus,\r\n  AssignmentStatus,\r\n  UserRole,\r\n} from \"@/lib/types\";\r\n\r\n// Report priority type (not exported from types)\r\ntype ReportPriority = \"low\" | \"medium\" | \"high\" | \"urgent\" | \"critical\";\r\n\r\ninterface BadgeProps {\r\n  children: React.ReactNode;\r\n  variant?:\r\n  | \"default\"\r\n  | \"success\"\r\n  | \"warning\"\r\n  | \"danger\"\r\n  | \"info\"\r\n  | ReportStatus\r\n  | ReportPriority\r\n  | VehicleStatus\r\n  | AssignmentStatus\r\n  | UserRole;\r\n  className?: string;\r\n}\r\n\r\nexport function Badge({\r\n  children,\r\n  variant = \"default\",\r\n  className,\r\n}: BadgeProps) {\r\n  const variantStyles: Record<string, string> = {\r\n    default: \"bg-gray-100 text-gray-800\",\r\n    success: \"bg-green-100 text-green-800\",\r\n    warning: \"bg-yellow-100 text-yellow-800\",\r\n    danger: \"bg-red-100 text-red-800\",\r\n    info: \"bg-blue-100 text-blue-800\",\r\n    // Report status - using status colors from theme\r\n    pending:\r\n      \"bg-status-pending-bg text-yellow-800 border border-status-pending\",\r\n    active: \"bg-blue-100 text-blue-800 border border-blue-300\",\r\n    assigned:\r\n      \"bg-status-assigned-bg text-blue-800 border border-status-assigned\",\r\n    on_progress:\r\n      \"bg-status-on-progress-bg text-orange-800 border border-status-on-progress\",\r\n    completed:\r\n      \"bg-status-completed-bg text-green-800 border border-status-completed\",\r\n    cancelled:\r\n      \"bg-status-cancelled-bg text-gray-800 border border-status-cancelled\",\r\n    // Report priority\r\n    low: \"bg-gray-100 text-gray-700 border border-gray-300\",\r\n    medium: \"bg-yellow-100 text-yellow-800 border border-yellow-400\",\r\n    high: \"bg-orange-100 text-orange-800 border border-orange-400\",\r\n    urgent: \"bg-red-100 text-red-800 border border-red-400\",\r\n    critical: \"bg-red-100 text-red-800 border border-red-600 font-semibold\",\r\n    // Vehicle status\r\n    available: \"bg-green-100 text-green-800 border border-green-400\",\r\n    on_duty: \"bg-blue-100 text-blue-800 border border-blue-400\",\r\n    maintenance: \"bg-gray-100 text-gray-700 border border-gray-400\",\r\n    // User roles\r\n    admin: \"bg-purple-100 text-purple-800 border border-purple-400\",\r\n    driver: \"bg-blue-100 text-blue-800 border border-blue-400\",\r\n    reporter: \"bg-green-100 text-green-800 border border-green-400\",\r\n  };\r\n\r\n  return (\r\n    <span\r\n      className={cn(\r\n        \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors-smooth\",\r\n        variantStyles[variant] || variantStyles.default,\r\n        className\r\n      )}\r\n    >\r\n      {children}\r\n    </span>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AA2BO,SAAS,MAAM,EACpB,QAAQ,EACR,UAAU,SAAS,EACnB,SAAS,EACE;IACX,MAAM,gBAAwC;QAC5C,SAAS;QACT,SAAS;QACT,SAAS;QACT,QAAQ;QACR,MAAM;QACN,iDAAiD;QACjD,SACE;QACF,QAAQ;QACR,UACE;QACF,aACE;QACF,WACE;QACF,WACE;QACF,kBAAkB;QAClB,KAAK;QACL,QAAQ;QACR,MAAM;QACN,QAAQ;QACR,UAAU;QACV,iBAAiB;QACjB,WAAW;QACX,SAAS;QACT,aAAa;QACb,aAAa;QACb,OAAO;QACP,QAAQ;QACR,UAAU;IACZ;IAEA,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,oGACA,aAAa,CAAC,QAAQ,IAAI,cAAc,OAAO,EAC/C;kBAGD;;;;;;AAGP"}},
    {"offset": {"line": 574, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LaboranD2K/Downloads/server/PMI-FE-Call/src/components/ui/Modal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { X } from \"lucide-react\";\r\n\r\ninterface ModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title?: string;\r\n  children: React.ReactNode;\r\n  size?: \"sm\" | \"md\" | \"lg\" | \"xl\";\r\n}\r\n\r\nexport function Modal({\r\n  isOpen,\r\n  onClose,\r\n  title,\r\n  children,\r\n  size = \"md\",\r\n}: ModalProps) {\r\n  if (!isOpen) return null;\r\n\r\n  const sizes = {\r\n    sm: \"max-w-md\",\r\n    md: \"max-w-lg\",\r\n    lg: \"max-w-2xl\",\r\n    xl: \"max-w-4xl\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n      <div className=\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0\">\r\n        {/* Background overlay */}\r\n        <div\r\n          className=\"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75\"\r\n          onClick={onClose}\r\n        />\r\n\r\n        {/* Modal panel */}\r\n        <div\r\n          className={`inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-full ${sizes[size]}`}\r\n        >\r\n          {/* Header */}\r\n          {title && (\r\n            <div className=\"flex items-center justify-between px-6 py-4 border-b\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">{title}</h3>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"text-gray-400 hover:text-gray-500 focus:outline-none\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Content */}\r\n          <div className=\"px-6 py-4\">{children}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAaO,SAAS,MAAM,EACpB,MAAM,EACN,OAAO,EACP,KAAK,EACL,QAAQ,EACR,OAAO,IAAI,EACA;IACX,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBACC,WAAU;oBACV,SAAS;;;;;;8BAIX,8OAAC;oBACC,WAAW,CAAC,0IAA0I,EAAE,KAAK,CAAC,KAAK,EAAE;;wBAGpK,uBACC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAuC;;;;;;8CACrD,8OAAC;oCACC,SAAS;oCACT,WAAU;8CAEV,cAAA,8OAAC,iMAAC;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAMnB,8OAAC;4BAAI,WAAU;sCAAa;;;;;;;;;;;;;;;;;;;;;;;AAKtC"}},
    {"offset": {"line": 669, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LaboranD2K/Downloads/server/PMI-FE-Call/src/components/ui/VehicleSelectionModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { Modal } from \"./Modal\";\r\nimport { Truck, Search, CheckCircle } from \"lucide-react\";\r\nimport { Badge } from \"./Badge\";\r\nimport type { Vehicle } from \"@/lib/types\";\r\n\r\ninterface VehicleSelectionModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    onSelectVehicle: (vehicleId: string) => void;\r\n    transportTypeId?: string; // Filter vehicles by transport type from report\r\n}\r\n\r\nexport default function VehicleSelectionModal({\r\n    isOpen,\r\n    onClose,\r\n    onSelectVehicle,\r\n    transportTypeId,\r\n}: VehicleSelectionModalProps) {\r\n    const [searchQuery, setSearchQuery] = useState(\"\");\r\n    const [selectedVehicleId, setSelectedVehicleId] = useState<string | null>(null);\r\n\r\n    // Fetch available vehicles\r\n    const { data: vehiclesData, isLoading } = useQuery<{ status: string; message: string; data: Vehicle[] }>({\r\n        queryKey: [\"vehicles\"],\r\n        queryFn: async () => {\r\n            const token = localStorage.getItem(\"pmi_auth_token\");\r\n            const response = await fetch(\r\n                `${process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000/api\"}/vehicles`,\r\n                {\r\n                    headers: {\r\n                        Authorization: `Bearer ${token}`,\r\n                    },\r\n                }\r\n            );\r\n            if (!response.ok) throw new Error(\"Failed to fetch vehicles\");\r\n            return response.json();\r\n        },\r\n        enabled: isOpen,\r\n    });\r\n\r\n    const vehicles = vehiclesData?.data || [];\r\n\r\n    // Filter available vehicles by status and transport type\r\n    const availableVehicles = vehicles.filter(\r\n        (vehicle) => {\r\n            // Must be available\r\n            if (vehicle.status !== \"available\") return false;\r\n\r\n            // If transportTypeId is provided, filter by matching vehicle type\r\n            // Check both vehicle_type_id and type fields for API compatibility\r\n            if (transportTypeId) {\r\n                const vehicleTypeId = vehicle.vehicle_type_id || (vehicle as unknown as { type?: string }).type;\r\n                return vehicleTypeId === transportTypeId;\r\n            }\r\n\r\n            return true;\r\n        }\r\n    );\r\n\r\n    // Filter by search query\r\n    const filteredVehicles = availableVehicles.filter(\r\n        (vehicle) =>\r\n            vehicle.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n            vehicle.plate_number.toLowerCase().includes(searchQuery.toLowerCase())\r\n    );\r\n\r\n    const handleSelectVehicle = () => {\r\n        if (selectedVehicleId) {\r\n            onSelectVehicle(selectedVehicleId);\r\n            setSelectedVehicleId(null);\r\n            setSearchQuery(\"\");\r\n        }\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setSelectedVehicleId(null);\r\n        setSearchQuery(\"\");\r\n        onClose();\r\n    };\r\n\r\n    return (\r\n        <Modal isOpen={isOpen} onClose={handleClose} title=\"Select Vehicle\" size=\"lg\">\r\n            <div className=\"space-y-4\">\r\n                {/* Search */}\r\n                <div className=\"relative\">\r\n                    <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Search by name or plate number...\"\r\n                        value={searchQuery}\r\n                        onChange={(e) => setSearchQuery(e.target.value)}\r\n                        className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent\"\r\n                    />\r\n                </div>\r\n\r\n                {/* Vehicle List */}\r\n                <div className=\"max-h-96 overflow-y-auto space-y-2\">\r\n                    {isLoading ? (\r\n                        <div className=\"text-center py-8 text-gray-500\">\r\n                            Loading vehicles...\r\n                        </div>\r\n                    ) : filteredVehicles.length === 0 ? (\r\n                        <div className=\"text-center py-8 text-gray-500\">\r\n                            {searchQuery\r\n                                ? \"No vehicles found matching your search\"\r\n                                : \"No available vehicles at the moment\"}\r\n                        </div>\r\n                    ) : (\r\n                        filteredVehicles.map((vehicle) => (\r\n                            <div\r\n                                key={vehicle.id}\r\n                                onClick={() => setSelectedVehicleId(vehicle.id)}\r\n                                className={`p-4 border-2 rounded-lg cursor-pointer transition-all ${selectedVehicleId === vehicle.id\r\n                                    ? \"border-red-600 bg-red-50\"\r\n                                    : \"border-gray-200 hover:border-red-300 hover:bg-gray-50\"\r\n                                    }`}\r\n                            >\r\n                                <div className=\"flex items-start justify-between\">\r\n                                    <div className=\"flex items-start gap-3 flex-1\">\r\n                                        <div className=\"bg-red-100 p-2 rounded-lg\">\r\n                                            <Truck className=\"w-6 h-6 text-red-600\" />\r\n                                        </div>\r\n                                        <div className=\"flex-1\">\r\n                                            <h4 className=\"font-semibold text-gray-900\">\r\n                                                {vehicle.name}\r\n                                            </h4>\r\n                                            <p className=\"text-sm text-gray-600 mt-1\">\r\n                                                Plate: {vehicle.plate_number}\r\n                                            </p>\r\n                                            {vehicle.vehicle_type && (\r\n                                                <p className=\"text-sm text-gray-500 mt-1\">\r\n                                                    Type: {typeof vehicle.vehicle_type === 'object'\r\n                                                        ? vehicle.vehicle_type.name\r\n                                                        : vehicle.vehicle_type}\r\n                                                </p>\r\n                                            )}\r\n                                            <div className=\"mt-2\">\r\n                                                <Badge variant={vehicle.status}>\r\n                                                    {vehicle.status}\r\n                                                </Badge>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    {selectedVehicleId === vehicle.id && (\r\n                                        <CheckCircle className=\"w-6 h-6 text-red-600 flex-shrink-0\" />\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        ))\r\n                    )}\r\n                </div>\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex gap-3 pt-4 border-t\">\r\n                    <button\r\n                        onClick={handleClose}\r\n                        className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors\"\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button\r\n                        onClick={handleSelectVehicle}\r\n                        disabled={!selectedVehicleId}\r\n                        className=\"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                    >\r\n                        Select Vehicle\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 936, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LaboranD2K/Downloads/server/PMI-FE-Call/src/components/ui/ConfirmDialog.tsx"],"sourcesContent":["import { useState, ReactNode } from \"react\";\r\nimport { AlertTriangle, X } from \"lucide-react\";\r\n\r\ninterface ConfirmDialogProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onConfirm: () => void;\r\n  title: string;\r\n  message: string;\r\n  confirmText?: string;\r\n  cancelText?: string;\r\n  type?: \"danger\" | \"warning\" | \"info\";\r\n  isLoading?: boolean;\r\n  icon?: ReactNode;\r\n}\r\n\r\nexport function ConfirmDialog({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  title,\r\n  message,\r\n  confirmText = \"Confirm\",\r\n  cancelText = \"Cancel\",\r\n  type = \"danger\",\r\n  isLoading = false,\r\n  icon,\r\n}: ConfirmDialogProps) {\r\n  if (!isOpen) return null;\r\n\r\n  const typeStyles = {\r\n    danger: {\r\n      iconBg: \"bg-red-100\",\r\n      iconColor: \"text-red-600\",\r\n      button: \"bg-red-600 hover:bg-red-700 focus:ring-red-500\",\r\n    },\r\n    warning: {\r\n      iconBg: \"bg-yellow-100\",\r\n      iconColor: \"text-yellow-600\",\r\n      button: \"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500\",\r\n    },\r\n    info: {\r\n      iconBg: \"bg-blue-100\",\r\n      iconColor: \"text-blue-600\",\r\n      button: \"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500\",\r\n    },\r\n  };\r\n\r\n  const styles = typeStyles[type];\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n      {/* Backdrop */}\r\n      <div\r\n        className=\"fixed inset-0 bg-black bg-opacity-50 transition-opacity\"\r\n        onClick={onClose}\r\n      />\r\n\r\n      {/* Dialog */}\r\n      <div className=\"flex min-h-full items-center justify-center p-4\">\r\n        <div className=\"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6 animate-scale-in\">\r\n          {/* Close button */}\r\n          <button\r\n            onClick={onClose}\r\n            className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600\"\r\n            disabled={isLoading}\r\n          >\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n\r\n          {/* Icon */}\r\n          <div className=\"flex items-center justify-center mb-4\">\r\n            <div className={`${styles.iconBg} rounded-full p-3`}>\r\n              {icon || (\r\n                <AlertTriangle className={`w-6 h-6 ${styles.iconColor}`} />\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Title */}\r\n          <h3 className=\"text-lg font-semibold text-gray-900 text-center mb-2\">\r\n            {title}\r\n          </h3>\r\n\r\n          {/* Message */}\r\n          <p className=\"text-sm text-gray-600 text-center mb-6\">{message}</p>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex gap-3\">\r\n            <button\r\n              onClick={onClose}\r\n              className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              disabled={isLoading}\r\n            >\r\n              {cancelText}\r\n            </button>\r\n            <button\r\n              onClick={onConfirm}\r\n              className={`flex-1 px-4 py-2 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 ${styles.button}`}\r\n              disabled={isLoading}\r\n            >\r\n              {isLoading ? (\r\n                <>\r\n                  <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\r\n                  <span>Processing...</span>\r\n                </>\r\n              ) : (\r\n                confirmText\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Hook for managing confirm dialog state\r\nexport function useConfirmDialog() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [config, setConfig] = useState<Partial<ConfirmDialogProps>>({});\r\n\r\n  const show = (dialogConfig: Partial<ConfirmDialogProps>) => {\r\n    setConfig(dialogConfig);\r\n    setIsOpen(true);\r\n  };\r\n\r\n  const hide = () => {\r\n    setIsOpen(false);\r\n    setTimeout(() => setConfig({}), 300); // Clear after animation\r\n  };\r\n\r\n  return {\r\n    isOpen,\r\n    show,\r\n    hide,\r\n    config,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAAA;;;;AAeO,SAAS,cAAc,EAC5B,MAAM,EACN,OAAO,EACP,SAAS,EACT,KAAK,EACL,OAAO,EACP,cAAc,SAAS,EACvB,aAAa,QAAQ,EACrB,OAAO,QAAQ,EACf,YAAY,KAAK,EACjB,IAAI,EACe;IACnB,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,aAAa;QACjB,QAAQ;YACN,QAAQ;YACR,WAAW;YACX,QAAQ;QACV;QACA,SAAS;YACP,QAAQ;YACR,WAAW;YACX,QAAQ;QACV;QACA,MAAM;YACJ,QAAQ;YACR,WAAW;YACX,QAAQ;QACV;IACF;IAEA,MAAM,SAAS,UAAU,CAAC,KAAK;IAE/B,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAIX,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BACC,SAAS;4BACT,WAAU;4BACV,UAAU;sCAEV,cAAA,8OAAC,iMAAC;gCAAC,WAAU;;;;;;;;;;;sCAIf,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAW,GAAG,OAAO,MAAM,CAAC,iBAAiB,CAAC;0CAChD,sBACC,8OAAC,yOAAa;oCAAC,WAAW,CAAC,QAAQ,EAAE,OAAO,SAAS,EAAE;;;;;;;;;;;;;;;;sCAM7D,8OAAC;4BAAG,WAAU;sCACX;;;;;;sCAIH,8OAAC;4BAAE,WAAU;sCAA0C;;;;;;sCAGvD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,SAAS;oCACT,WAAU;oCACV,UAAU;8CAET;;;;;;8CAEH,8OAAC;oCACC,SAAS;oCACT,WAAW,CAAC,oMAAoM,EAAE,OAAO,MAAM,EAAE;oCACjO,UAAU;8CAET,0BACC;;0DACE,8OAAC;gDAAI,WAAU;;;;;;0DACf,8OAAC;0DAAK;;;;;;;uDAGR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQhB;AAGO,SAAS;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAA8B,CAAC;IAEnE,MAAM,OAAO,CAAC;QACZ,UAAU;QACV,UAAU;IACZ;IAEA,MAAM,OAAO;QACX,UAAU;QACV,WAAW,IAAM,UAAU,CAAC,IAAI,MAAM,wBAAwB;IAChE;IAEA,OAAO;QACL;QACA;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 1124, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LaboranD2K/Downloads/server/PMI-FE-Call/src/app/%28dashboard%29/driver/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { assignmentsApi, reportsApi, vehiclesApi, createDriverLocation } from \"@/lib/api\";\r\nimport { useAuth } from \"@/hooks/useAuth\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport {\r\n  AlertCircle,\r\n  AlertTriangle,\r\n  CheckCircle,\r\n  Clock,\r\n  MapPin,\r\n  Phone,\r\n  PlayCircle,\r\n  Truck,\r\n  Calendar,\r\n  Square,\r\n  CheckSquare,\r\n  Navigation,\r\n} from \"lucide-react\";\r\nimport { Badge } from \"@/components/ui/Badge\";\r\nimport VehicleSelectionModal from \"@/components/ui/VehicleSelectionModal\";\r\nimport { ConfirmDialog } from \"@/components/ui/ConfirmDialog\";\r\nimport { formatDateTime } from \"@/lib/utils\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function DriverDashboardPage() {\r\n  const { user } = useAuth();\r\n  const router = useRouter();\r\n  const queryClient = useQueryClient();\r\n  const [isVehicleModalOpen, setIsVehicleModalOpen] = useState(false);\r\n  const [coffinChecklistConfirmed, setCoffinChecklistConfirmed] = useState(false);\r\n\r\n  // Location sharing state\r\n  const [isLocationSharingActive, setIsLocationSharingActive] = useState(false);\r\n  const [currentLocation, setCurrentLocation] = useState<{ lat: number; lng: number } | null>(null);\r\n  const [lastLocationUpdate, setLastLocationUpdate] = useState<Date | null>(null);\r\n  const [locationError, setLocationError] = useState<string | null>(null);\r\n  const locationIntervalRef = useRef<NodeJS.Timeout | null>(null);\r\n  const watchIdRef = useRef<number | null>(null);\r\n  const [confirmDialog, setConfirmDialog] = useState<{\r\n    isOpen: boolean;\r\n    status: \"on_way\" | \"arrived_pickup\" | \"arrived_destination\" | \"done\" | null;\r\n    title: string;\r\n    message: string;\r\n  }>({\r\n    isOpen: false,\r\n    status: null,\r\n    title: \"\",\r\n    message: \"\",\r\n  });\r\n\r\n  // Fetch driver's assignments using driver-specific endpoint\r\n  const { data: assignmentsData, isLoading } = useQuery({\r\n    queryKey: [\"driver-assignments\", user?.id],\r\n    queryFn: () => assignmentsApi.getAssignmentsByDriver(user!.id),\r\n    enabled: !!user?.id && user?.role === \"driver\",\r\n    staleTime: 0,\r\n    refetchInterval: 5 * 1000, // Auto-refetch every 5 seconds\r\n    refetchIntervalInBackground: true,\r\n  });\r\n\r\n  // Mutation to update report status\r\n  const updateReportStatusMutation = useMutation({\r\n    mutationFn: (\r\n      status: \"on_way\" | \"arrived_pickup\" | \"arrived_destination\" | \"done\"\r\n    ) =>\r\n      reportsApi.updateReportStatus(activeAssignment!.report_id, {\r\n        status,\r\n      }),\r\n    onSuccess: (data, status) => {\r\n      const statusMessages: Record<string, string> = {\r\n        on_way: \"Departure confirmed - On the way\",\r\n        arrived_pickup: \"Arrived at pickup location\",\r\n        arrived_destination: \"Arrived at destination\",\r\n        done: \"Assignment completed\",\r\n      };\r\n      toast.success(statusMessages[status] || \"Status updated\");\r\n      // Invalidate all queries to ensure sync across all devices/tabs\r\n      queryClient.invalidateQueries({ queryKey: [\"driver-assignments\"] });\r\n      queryClient.invalidateQueries({ queryKey: [\"assignments\"] });\r\n      queryClient.invalidateQueries({\r\n        queryKey: [\"report\", activeAssignment!.report_id],\r\n      });\r\n      queryClient.invalidateQueries({ queryKey: [\"reports\"] });\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(error.message || \"Failed to update status\");\r\n    },\r\n  });\r\n\r\n  // Mutation to assign vehicle\r\n  const assignVehicleMutation = useMutation({\r\n    mutationFn: (vehicleId: string) =>\r\n      assignmentsApi.updateDriverAssignment(activeAssignment!.id, {\r\n        vehicle_id: vehicleId,\r\n      }),\r\n    onSuccess: () => {\r\n      toast.success(\"Vehicle assigned successfully\");\r\n      queryClient.invalidateQueries({ queryKey: [\"driver-assignments\"] });\r\n      setIsVehicleModalOpen(false);\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(error.message || \"Failed to assign vehicle\");\r\n    },\r\n  });\r\n\r\n  const allAssignments = assignmentsData?.data || [];\r\n\r\n  // Get most recent assignment that is not completed\r\n  // Sort by assigned_at descending (most recent first) and filter out completed\r\n  const activeAssignment = allAssignments\r\n    .filter((assignment) => assignment.status !== \"completed\")\r\n    .sort((a, b) => {\r\n      const dateA = new Date(a.assigned_at).getTime();\r\n      const dateB = new Date(b.assigned_at).getTime();\r\n      return dateB - dateA; // Most recent first\r\n    })[0];\r\n\r\n  // Fetch report for active assignment\r\n  const { data: reportData } = useQuery({\r\n    queryKey: [\"report\", activeAssignment?.report_id],\r\n    queryFn: () => reportsApi.getById(activeAssignment!.report_id),\r\n    enabled: !!activeAssignment?.report_id,\r\n  });\r\n\r\n  // Fetch vehicle for active assignment\r\n  const { data: vehicleData } = useQuery({\r\n    queryKey: [\"vehicle\", activeAssignment?.vehicle_id],\r\n    queryFn: () => vehiclesApi.getById(activeAssignment!.vehicle_id!),\r\n    enabled: !!activeAssignment?.vehicle_id,\r\n  });\r\n\r\n  const report = reportData;\r\n  const vehicle = vehicleData?.data;\r\n\r\n  // Function to send location to server\r\n  const sendLocationToServer = useCallback(async (lat: number, lng: number) => {\r\n    if (!user?.id) {\r\n      console.error(\"No user ID available\");\r\n      return;\r\n    }\r\n    try {\r\n      await createDriverLocation({\r\n        driver_id: user.id,\r\n        latitude: lat,\r\n        longitude: lng,\r\n        assignment_id: activeAssignment?.id\r\n      });\r\n      setLastLocationUpdate(new Date());\r\n      setLocationError(null);\r\n    } catch (error) {\r\n      console.error(\"Failed to send location:\", error);\r\n      setLocationError(\"Gagal mengirim lokasi ke server\");\r\n    }\r\n  }, [user?.id, activeAssignment?.id]);\r\n\r\n  // Function to start location sharing\r\n  const startLocationSharing = useCallback(() => {\r\n    if (!navigator.geolocation) {\r\n      setLocationError(\"Geolocation tidak didukung oleh browser\");\r\n      return;\r\n    }\r\n\r\n    setIsLocationSharingActive(true);\r\n    setLocationError(null);\r\n\r\n    // Watch position continuously\r\n    watchIdRef.current = navigator.geolocation.watchPosition(\r\n      (position) => {\r\n        const { latitude, longitude } = position.coords;\r\n        setCurrentLocation({ lat: latitude, lng: longitude });\r\n        setLocationError(null);\r\n      },\r\n      (error) => {\r\n        console.error(\"Geolocation watch error:\", error.code, error.message);\r\n        // Handle specific error codes with Indonesian messages\r\n        const errorMessages: Record<number, string> = {\r\n          1: \"Akses lokasi ditolak. Silakan izinkan akses lokasi di browser settings.\",\r\n          2: \"Lokasi tidak tersedia. Pastikan GPS aktif.\",\r\n          3: \"Timeout saat melacak lokasi.\"\r\n        };\r\n        // Only set error if not a timeout (timeouts are transient)\r\n        if (error.code !== 3) {\r\n          const errorMsg = errorMessages[error.code] || \"Gagal mendapatkan lokasi: \" + error.message;\r\n          setLocationError(errorMsg);\r\n          toast.error(errorMsg);\r\n        }\r\n      },\r\n      { enableHighAccuracy: true, timeout: 30000, maximumAge: 5000 }\r\n    );\r\n\r\n    // Send location to server every 30 seconds\r\n    locationIntervalRef.current = setInterval(() => {\r\n      // Try high accuracy first, fallback to low accuracy on timeout\r\n      const getLocationWithFallback = (highAccuracy: boolean) => {\r\n        navigator.geolocation.getCurrentPosition(\r\n          async (position) => {\r\n            const { latitude, longitude } = position.coords;\r\n            setCurrentLocation({ lat: latitude, lng: longitude });\r\n            await sendLocationToServer(latitude, longitude);\r\n          },\r\n          (error) => {\r\n            console.error(\"Failed to get position for update:\", error);\r\n            // If high accuracy timed out, try with low accuracy\r\n            if (highAccuracy && error.code === 3) {\r\n              console.log(\"Retrying with low accuracy...\");\r\n              getLocationWithFallback(false);\r\n            }\r\n          },\r\n          { enableHighAccuracy: highAccuracy, timeout: highAccuracy ? 15000 : 30000, maximumAge: 10000 }\r\n        );\r\n      };\r\n      getLocationWithFallback(true);\r\n    }, 30000); // Every 30 seconds\r\n\r\n    // Send initial location immediately\r\n    navigator.geolocation.getCurrentPosition(\r\n      async (position) => {\r\n        const { latitude, longitude } = position.coords;\r\n        setCurrentLocation({ lat: latitude, lng: longitude });\r\n        await sendLocationToServer(latitude, longitude);\r\n        toast.success(\"Location sharing aktif\");\r\n      },\r\n      (error) => {\r\n        console.error(\"Failed to get initial position:\", error.code, error.message);\r\n\r\n        // Handle specific error codes\r\n        const errorMessages: Record<number, string> = {\r\n          1: \"Akses lokasi ditolak. Silakan izinkan akses lokasi di browser settings.\",\r\n          2: \"Lokasi tidak tersedia. Pastikan GPS aktif.\",\r\n          3: \"Timeout saat mendapatkan lokasi.\"\r\n        };\r\n\r\n        // Retry with low accuracy if high accuracy times out\r\n        if (error.code === 3) {\r\n          navigator.geolocation.getCurrentPosition(\r\n            async (position) => {\r\n              const { latitude, longitude } = position.coords;\r\n              setCurrentLocation({ lat: latitude, lng: longitude });\r\n              await sendLocationToServer(latitude, longitude);\r\n              toast.success(\"Location sharing aktif (low accuracy)\");\r\n            },\r\n            (retryError) => {\r\n              console.error(\"Failed to get position even with low accuracy:\", retryError);\r\n              setLocationError(\"Gagal mendapatkan lokasi. Pastikan GPS aktif dan izinkan akses lokasi.\");\r\n            },\r\n            { enableHighAccuracy: false, timeout: 30000, maximumAge: 30000 }\r\n          );\r\n        } else {\r\n          const errorMsg = errorMessages[error.code] || \"Gagal mendapatkan lokasi awal: \" + error.message;\r\n          setLocationError(errorMsg);\r\n          toast.error(errorMsg);\r\n        }\r\n      },\r\n      { enableHighAccuracy: true, timeout: 15000, maximumAge: 0 }\r\n    );\r\n  }, [sendLocationToServer]);\r\n\r\n  // Function to stop location sharing\r\n  const stopLocationSharing = useCallback(() => {\r\n    if (watchIdRef.current !== null) {\r\n      navigator.geolocation.clearWatch(watchIdRef.current);\r\n      watchIdRef.current = null;\r\n    }\r\n    if (locationIntervalRef.current) {\r\n      clearInterval(locationIntervalRef.current);\r\n      locationIntervalRef.current = null;\r\n    }\r\n    setIsLocationSharingActive(false);\r\n    setCurrentLocation(null);\r\n    setLastLocationUpdate(null);\r\n    toast.info(\"Location sharing dimatikan\");\r\n  }, []);\r\n\r\n  // Auto-start location sharing when vehicle is assigned\r\n  useEffect(() => {\r\n    if (activeAssignment?.vehicle_id && report && report.status !== \"done\" && report.status !== \"canceled\" && !isLocationSharingActive) {\r\n      startLocationSharing();\r\n    }\r\n  }, [activeAssignment?.vehicle_id, report?.status, isLocationSharingActive, startLocationSharing]);\r\n\r\n  // Auto-stop location sharing when assignment is done or canceled\r\n  useEffect(() => {\r\n    if (report && (report.status === \"done\" || report.status === \"canceled\") && isLocationSharingActive) {\r\n      stopLocationSharing();\r\n    }\r\n  }, [report?.status, isLocationSharingActive, stopLocationSharing]);\r\n\r\n  // Cleanup on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (watchIdRef.current !== null) {\r\n        navigator.geolocation.clearWatch(watchIdRef.current);\r\n      }\r\n      if (locationIntervalRef.current) {\r\n        clearInterval(locationIntervalRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Handle redirect in useEffect to prevent setState during render\r\n  useEffect(() => {\r\n    if (user && user.role !== \"driver\") {\r\n      router.push(\"/dashboard\");\r\n    }\r\n  }, [user, router]);\r\n\r\n  // Return null while redirecting or if not driver\r\n  if (!user || user.role !== \"driver\") {\r\n    return null;\r\n  }\r\n\r\n  // Calculate stats based on assignment status\r\n  const today = new Date();\r\n  today.setHours(0, 0, 0, 0);\r\n\r\n  const completedToday = allAssignments.filter(\r\n    (assignment) =>\r\n      assignment.status === \"completed\" &&\r\n      new Date(assignment.completed_at || \"\") >= today\r\n  ).length;\r\n\r\n  const completedTotal = allAssignments.filter(\r\n    (assignment) => assignment.status === \"completed\"\r\n  ).length;\r\n\r\n  const handleUpdateReportStatus = (\r\n    status: \"on_way\" | \"arrived_pickup\" | \"arrived_destination\" | \"done\"\r\n  ) => {\r\n    const statusMessages: Record<string, { title: string; message: string }> = {\r\n      on_way: {\r\n        title: \"Confirm Departure\",\r\n        message:\r\n          \"Are you sure you want to confirm departure? This will mark your status as 'On the Way' to the pickup location.\",\r\n      },\r\n      arrived_pickup: {\r\n        title: \"Confirm Arrival at Pickup\",\r\n        message:\r\n          \"Have you arrived at the pickup location? This will update your status to 'Arrived at Pickup'.\",\r\n      },\r\n      arrived_destination: {\r\n        title: \"Confirm Arrival at Destination\",\r\n        message:\r\n          \"Have you arrived at the destination? This will update your status to 'Arrived at Destination'.\",\r\n      },\r\n      done: {\r\n        title: \"Mark as Completed\",\r\n        message:\r\n          \"Are you sure you want to mark this assignment as completed? This action will finalize the assignment.\",\r\n      },\r\n    };\r\n\r\n    const { title, message } = statusMessages[status];\r\n    setConfirmDialog({\r\n      isOpen: true,\r\n      status,\r\n      title,\r\n      message,\r\n    });\r\n  };\r\n\r\n  const handleConfirmStatusUpdate = () => {\r\n    if (confirmDialog.status) {\r\n      updateReportStatusMutation.mutate(confirmDialog.status);\r\n      setConfirmDialog({\r\n        isOpen: false,\r\n        status: null,\r\n        title: \"\",\r\n        message: \"\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCancelStatusUpdate = () => {\r\n    setConfirmDialog({\r\n      isOpen: false,\r\n      status: null,\r\n      title: \"\",\r\n      message: \"\",\r\n    });\r\n  };\r\n\r\n  const handleSelectVehicle = (vehicleId: string) => {\r\n    assignVehicleMutation.mutate(vehicleId);\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto p-6 space-y-6\">\r\n        {/* Header */}\r\n        <div className=\"bg-white rounded-lg shadow p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">\r\n                Driver Dashboard\r\n              </h1>\r\n              <p className=\"text-gray-600 mt-1\">Welcome back, {user?.name}!</p>\r\n            </div>\r\n            <Truck className=\"w-12 h-12 text-red-600\" />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-gray-600\">\r\n                  Completed Today\r\n                </p>\r\n                <p className=\"text-3xl font-bold text-green-600 mt-1\">\r\n                  {completedToday}\r\n                </p>\r\n              </div>\r\n              <CheckCircle className=\"w-12 h-12 text-green-400\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-gray-600\">\r\n                  Total Completed\r\n                </p>\r\n                <p className=\"text-3xl font-bold text-blue-600 mt-1\">\r\n                  {completedTotal}\r\n                </p>\r\n              </div>\r\n              <Calendar className=\"w-12 h-12 text-blue-400\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-gray-600\">\r\n                  Active Assignment\r\n                </p>\r\n                <p className=\"text-3xl font-bold text-red-600 mt-1\">\r\n                  {activeAssignment &&\r\n                    (!report ||\r\n                      (report.status !== \"done\" && report.status !== \"canceled\"))\r\n                    ? \"1\"\r\n                    : \"0\"}\r\n                </p>\r\n              </div>\r\n              <Clock className=\"w-12 h-12 text-red-400\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Location Sharing Status Indicator */}\r\n        {activeAssignment?.vehicle_id && report && report.status !== \"done\" && report.status !== \"canceled\" && (\r\n          <div className={`rounded-lg shadow p-4 ${isLocationSharingActive ? 'bg-green-50 border-2 border-green-400' : 'bg-gray-50 border border-gray-200'}`}>\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className={`p-2 rounded-full ${isLocationSharingActive ? 'bg-green-100' : 'bg-gray-200'}`}>\r\n                  <Navigation className={`w-6 h-6 ${isLocationSharingActive ? 'text-green-600 animate-pulse' : 'text-gray-400'}`} />\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"font-semibold text-gray-900 flex items-center gap-2\">\r\n                     Location Sharing\r\n                    {isLocationSharingActive && (\r\n                      <span className=\"text-xs font-normal bg-green-600 text-white px-2 py-0.5 rounded-full animate-pulse\">\r\n                        ACTIVE\r\n                      </span>\r\n                    )}\r\n                  </h3>\r\n                  {isLocationSharingActive ? (\r\n                    <div className=\"text-sm text-gray-600\">\r\n                      {currentLocation && (\r\n                        <p>Lat: {currentLocation.lat.toFixed(6)}, Lng: {currentLocation.lng.toFixed(6)}</p>\r\n                      )}\r\n                      {lastLocationUpdate && (\r\n                        <p className=\"text-xs text-green-600\">\r\n                          Last update: {lastLocationUpdate.toLocaleTimeString()}  Auto-update setiap 30 detik\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  ) : (\r\n                    <p className=\"text-sm text-gray-500\">\r\n                      {locationError || \"Menunggu aktivasi...\"}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              {isLocationSharingActive && (\r\n                <div className=\"flex items-center gap-2 text-green-600\">\r\n                  <div className=\"w-2 h-2 bg-green-500 rounded-full animate-ping\"></div>\r\n                  <span className=\"text-sm font-medium\">Tracking</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Active Assignment */}\r\n        {isLoading ? (\r\n          <div className=\"bg-white rounded-lg shadow p-8 text-center\">\r\n            <p className=\"text-gray-600\">Loading assignment...</p>\r\n          </div>\r\n        ) : activeAssignment &&\r\n          (!report ||\r\n            (report.status !== \"done\" && report.status !== \"canceled\")) ? (\r\n          <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n            <div className=\"bg-red-600 px-6 py-4\">\r\n              <h2 className=\"text-xl font-bold text-white\">\r\n                Active Assignment\r\n              </h2>\r\n            </div>\r\n\r\n            <div className=\"p-6 space-y-6\">\r\n              {/* Status Badge - Large and Prominent */}\r\n              <div className=\"flex justify-center\">\r\n                <div className=\"inline-flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-2xl\">\r\n                  <div\r\n                    className={`w-3 h-3 rounded-full animate-pulse ${report?.status === \"on_way\" ||\r\n                      report?.status === \"arrived_pickup\" ||\r\n                      report?.status === \"arrived_destination\"\r\n                      ? \"bg-green-500\"\r\n                      : \"bg-blue-500\"\r\n                      }`}\r\n                  />\r\n                  <span className=\"text-lg font-bold text-gray-900\">\r\n                    {!report\r\n                      ? \" Loading...\"\r\n                      : report.status === \"pending\"\r\n                        ? \" Pending\"\r\n                        : report.status === \"assigned\"\r\n                          ? \" Assigned\"\r\n                          : report.status === \"on_way\"\r\n                            ? \" On the Way\"\r\n                            : report.status === \"arrived_pickup\"\r\n                              ? \" At Pickup Location\"\r\n                              : report.status === \"arrived_destination\"\r\n                                ? \" At Destination\"\r\n                                : report.status === \"done\"\r\n                                  ? \" Completed\"\r\n                                  : report.status}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Action Buttons - Modern Card Style */}\r\n              {report && (\r\n                <div className=\"grid grid-cols-1 gap-3\">\r\n                  {report.status === \"assigned\" &&\r\n                    activeAssignment.vehicle_id && (\r\n                      <div className=\"space-y-2\">\r\n                        <button\r\n                          onClick={() => handleUpdateReportStatus(\"on_way\")}\r\n                          disabled={updateReportStatusMutation.isPending || (report.use_stretcher && !coffinChecklistConfirmed)}\r\n                          className=\"w-full group relative overflow-hidden bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl p-4 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 transition-all duration-200\"\r\n                        >\r\n                          <div className=\"flex items-center justify-center gap-3\">\r\n                            <div className=\"bg-white/20 rounded-full p-2\">\r\n                              <PlayCircle className=\"w-6 h-6\" />\r\n                            </div>\r\n                            <span className=\"text-lg font-bold\">\r\n                              {updateReportStatusMutation.isPending\r\n                                ? \"Updating...\"\r\n                                : \" Confirm Departure\"}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"absolute inset-0 bg-gradient-to-r from-green-600 to-emerald-700 opacity-0 group-hover:opacity-100 transition-opacity duration-200\" />\r\n                        </button>\r\n                        {report.use_stretcher && !coffinChecklistConfirmed && (\r\n                          <p className=\"text-center text-sm text-red-600 font-medium\">\r\n                             Konfirmasi checklist perlengkapan di bawah untuk dapat berangkat\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n\r\n                  {report.status === \"on_way\" && (\r\n                    <button\r\n                      onClick={() => handleUpdateReportStatus(\"arrived_pickup\")}\r\n                      disabled={updateReportStatusMutation.isPending}\r\n                      className=\"group relative overflow-hidden bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl p-4 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 transition-all duration-200\"\r\n                    >\r\n                      <div className=\"flex items-center justify-center gap-3\">\r\n                        <div className=\"bg-white/20 rounded-full p-2\">\r\n                          <MapPin className=\"w-6 h-6\" />\r\n                        </div>\r\n                        <span className=\"text-lg font-bold\">\r\n                          {updateReportStatusMutation.isPending\r\n                            ? \"Updating...\"\r\n                            : \" Arrived at Pickup\"}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-700 opacity-0 group-hover:opacity-100 transition-opacity duration-200\" />\r\n                    </button>\r\n                  )}\r\n\r\n                  {report.status === \"arrived_pickup\" && (\r\n                    <button\r\n                      onClick={() =>\r\n                        handleUpdateReportStatus(\"arrived_destination\")\r\n                      }\r\n                      disabled={updateReportStatusMutation.isPending}\r\n                      className=\"group relative overflow-hidden bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-xl p-4 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 transition-all duration-200\"\r\n                    >\r\n                      <div className=\"flex items-center justify-center gap-3\">\r\n                        <div className=\"bg-white/20 rounded-full p-2\">\r\n                          <MapPin className=\"w-6 h-6\" />\r\n                        </div>\r\n                        <span className=\"text-lg font-bold\">\r\n                          {updateReportStatusMutation.isPending\r\n                            ? \"Updating...\"\r\n                            : \" Arrived at Destination\"}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-700 opacity-0 group-hover:opacity-100 transition-opacity duration-200\" />\r\n                    </button>\r\n                  )}\r\n\r\n                  {report.status === \"arrived_destination\" && (\r\n                    <button\r\n                      onClick={() => handleUpdateReportStatus(\"done\")}\r\n                      disabled={updateReportStatusMutation.isPending}\r\n                      className=\"group relative overflow-hidden bg-gradient-to-r from-green-500 to-teal-600 text-white rounded-xl p-4 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 transition-all duration-200\"\r\n                    >\r\n                      <div className=\"flex items-center justify-center gap-3\">\r\n                        <div className=\"bg-white/20 rounded-full p-2\">\r\n                          <CheckCircle className=\"w-6 h-6\" />\r\n                        </div>\r\n                        <span className=\"text-lg font-bold\">\r\n                          {updateReportStatusMutation.isPending\r\n                            ? \"Updating...\"\r\n                            : \" Mark as Done\"}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"absolute inset-0 bg-gradient-to-r from-green-600 to-teal-700 opacity-0 group-hover:opacity-100 transition-opacity duration-200\" />\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Report Details */}\r\n              <div className=\"border border-gray-200 rounded-lg p-4\">\r\n                <h3 className=\"font-semibold text-gray-900 mb-3 flex items-center gap-2\">\r\n                  <AlertCircle className=\"w-5 h-5 text-red-600\" />\r\n                  Emergency Report\r\n                </h3>\r\n                {report ? (\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-600\">Requester Name</p>\r\n                      <p className=\"font-medium text-gray-900\">\r\n                        {report.requester_name}\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-600\">Requester Phone</p>\r\n                      <p className=\"font-medium text-gray-900 flex items-center gap-2\">\r\n                        <Phone className=\"w-4 h-4\" />\r\n                        {report.requester_phone}\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-600\">Patient Name</p>\r\n                      <p className=\"font-medium text-gray-900\">\r\n                        {report.patient_name} - {report.patient_age} years old\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-600\">Patient Gender</p>\r\n                      <p className=\"font-medium text-gray-900 capitalize\">\r\n                        {report.patient_gender}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"md:col-span-2\">\r\n                      <p className=\"text-sm text-gray-600\">Pickup Location</p>\r\n                      <p className=\"font-medium text-gray-900 flex items-center gap-2\">\r\n                        <MapPin className=\"w-4 h-4\" />\r\n                        {report.pickup_address}\r\n                      </p>\r\n                      {report.pickup_address && (\r\n                        <a\r\n                          href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(\r\n                            report.pickup_address\r\n                          )}`}\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          className=\"text-sm text-blue-600 hover:underline mt-1 inline-block\"\r\n                        >\r\n                          Open in Google Maps \r\n                        </a>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"md:col-span-2\">\r\n                      <p className=\"text-sm text-gray-600\">Destination</p>\r\n                      <p className=\"font-medium text-gray-900\">\r\n                        {report.destination_address}\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-600\">Report Status</p>\r\n                      <Badge variant={report.status || \"pending\"}>\r\n                        {report.status}\r\n                      </Badge>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <p className=\"text-gray-500\">Loading report details...</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Transport Information */}\r\n              <div className={`border rounded-lg p-4 ${report?.use_stretcher ? 'border-red-400 bg-red-50' : 'border-gray-200'}`}>\r\n                <h3 className=\"font-semibold text-gray-900 mb-3 flex items-center gap-2\">\r\n                  <Truck className=\"w-5 h-5 text-blue-600\" />\r\n                  Transport Information\r\n                </h3>\r\n                {report ? (\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-600\">Transport Type</p>\r\n                        <p className=\"font-medium text-gray-900\">\r\n                          {report.transport_type_name\r\n                            ? report.transport_type_name\r\n                              .replace(/_/g, \" \")\r\n                              .replace(/\\b\\w/g, (l) => l.toUpperCase())\r\n                            : \"N/A\"}\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-600\">Coffin Required</p>\r\n                        <p className=\"font-medium text-gray-900\">\r\n                          {report.use_stretcher ? \" Yes\" : \" No\"}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Prominent Alert for Coffin Required */}\r\n                    {report.use_stretcher && (\r\n                      <div className=\"bg-red-600 text-white rounded-lg p-4 shadow-lg animate-pulse\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <AlertTriangle className=\"w-8 h-8 flex-shrink-0\" />\r\n                          <div>\r\n                            <h4 className=\"font-bold text-lg\"> PETI JENAZAH DIPERLUKAN</h4>\r\n                            <p className=\"text-sm text-red-100 mt-1\">\r\n                              Pastikan peti jenazah dan perlengkapan sudah siap sebelum berangkat!\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Preparation Checklist for Mortuary Transport */}\r\n                    {report.use_stretcher && (\r\n                      <div className=\"bg-amber-50 border-2 border-amber-300 rounded-lg p-4\">\r\n                        <h4 className=\"font-semibold text-amber-800 mb-3 flex items-center gap-2\">\r\n                           Checklist Persiapan Perlengkapan\r\n                        </h4>\r\n                        <ul className=\"space-y-2 text-sm text-gray-700\">\r\n                          <li className=\"flex items-center gap-2\">\r\n                            <CheckSquare className=\"w-4 h-4 text-amber-600\" />\r\n                            Peti jenazah dalam kondisi baik\r\n                          </li>\r\n                          <li className=\"flex items-center gap-2\">\r\n                            <CheckSquare className=\"w-4 h-4 text-amber-600\" />\r\n                            Kain kafan dan penutup jenazah\r\n                          </li>\r\n                          <li className=\"flex items-center gap-2\">\r\n                            <CheckSquare className=\"w-4 h-4 text-amber-600\" />\r\n                            Sarung tangan dan APD lengkap\r\n                          </li>\r\n                          <li className=\"flex items-center gap-2\">\r\n                            <CheckSquare className=\"w-4 h-4 text-amber-600\" />\r\n                            Pengharum/disinfektan\r\n                          </li>\r\n                          <li className=\"flex items-center gap-2\">\r\n                            <CheckSquare className=\"w-4 h-4 text-amber-600\" />\r\n                            Tali pengikat dan pengaman\r\n                          </li>\r\n                        </ul>\r\n\r\n                        {/* Driver Confirmation Checkbox */}\r\n                        <div className=\"mt-4 pt-4 border-t border-amber-300\">\r\n                          <label\r\n                            className=\"flex items-center gap-3 cursor-pointer select-none\"\r\n                            onClick={() => setCoffinChecklistConfirmed(!coffinChecklistConfirmed)}\r\n                          >\r\n                            {coffinChecklistConfirmed ? (\r\n                              <CheckSquare className=\"w-6 h-6 text-green-600\" />\r\n                            ) : (\r\n                              <Square className=\"w-6 h-6 text-gray-400\" />\r\n                            )}\r\n                            <span className={`font-medium ${coffinChecklistConfirmed ? 'text-green-700' : 'text-gray-700'}`}>\r\n                              Saya konfirmasi semua perlengkapan sudah siap dan diperiksa\r\n                            </span>\r\n                          </label>\r\n                          {!coffinChecklistConfirmed && report.status === \"assigned\" && activeAssignment.vehicle_id && (\r\n                            <p className=\"text-red-600 text-sm mt-2 flex items-center gap-1\">\r\n                              <AlertCircle className=\"w-4 h-4\" />\r\n                              Anda harus mengkonfirmasi checklist sebelum dapat berangkat\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  <p className=\"text-gray-500\">Loading transport information...</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Vehicle Details */}\r\n              <div className=\"border border-gray-200 rounded-lg p-4\">\r\n                <h3 className=\"font-semibold text-gray-900 mb-3 flex items-center gap-2\">\r\n                  <Truck className=\"w-5 h-5 text-blue-600\" />\r\n                  Vehicle Details\r\n                </h3>\r\n                {vehicle ? (\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-600\">Vehicle Name</p>\r\n                        <p className=\"font-medium text-gray-900\">\r\n                          {vehicle.name}\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-600\">Plate Number</p>\r\n                        <p className=\"font-medium text-gray-900\">\r\n                          {vehicle.plate_number}\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-600\">Type</p>\r\n                        <p className=\"font-medium text-gray-900\">\r\n                          {(vehicle as unknown as { vehicle_type_name?: string }).vehicle_type_name\r\n                            ? ((vehicle as unknown as { vehicle_type_name: string }).vehicle_type_name)\r\n                              .replace(/_/g, \" \")\r\n                              .replace(/\\b\\w/g, (l) => l.toUpperCase())\r\n                            : vehicle.vehicle_type?.name || \"N/A\"}\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-600\">Status</p>\r\n                        <Badge variant={vehicle.status}>{vehicle.status}</Badge>\r\n                      </div>\r\n                    </div>\r\n                    {/* Allow change vehicle only if status is still \"assigned\" */}\r\n                    {report?.status === \"assigned\" && (\r\n                      <button\r\n                        onClick={() => setIsVehicleModalOpen(true)}\r\n                        disabled={assignVehicleMutation.isPending}\r\n                        className=\"w-full flex items-center justify-center gap-2 px-3 py-2 bg-blue-50 text-blue-700 border border-blue-200 rounded-lg hover:bg-blue-100 disabled:opacity-50 transition-all duration-200\"\r\n                      >\r\n                        <Truck className=\"w-4 h-4\" />\r\n                        <span className=\"text-sm font-medium\">\r\n                          {assignVehicleMutation.isPending\r\n                            ? \"Changing...\"\r\n                            : \"Change Vehicle\"}\r\n                        </span>\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                ) : activeAssignment.vehicle_id ? (\r\n                  <p className=\"text-gray-500\">Loading vehicle details...</p>\r\n                ) : (\r\n                  <button\r\n                    onClick={() => setIsVehicleModalOpen(true)}\r\n                    disabled={assignVehicleMutation.isPending}\r\n                    className=\"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 transition-all duration-200 shadow-md hover:shadow-lg\"\r\n                  >\r\n                    <Truck className=\"w-5 h-5\" />\r\n                    <span className=\"font-medium\">\r\n                      {assignVehicleMutation.isPending\r\n                        ? \"Assigning...\"\r\n                        : \" Select Vehicle\"}\r\n                    </span>\r\n                  </button>\r\n                )}\r\n              </div>\r\n\r\n              {/* Timeline */}\r\n              <div className=\"border-t border-gray-200 pt-4\">\r\n                <h3 className=\"font-semibold text-gray-900 mb-3\">Timeline</h3>\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center gap-2 text-sm\">\r\n                    <Clock className=\"w-4 h-4 text-gray-400\" />\r\n                    <span className=\"text-gray-600\">Assigned:</span>\r\n                    <span className=\"font-medium text-gray-900\">\r\n                      {formatDateTime(activeAssignment.assigned_at)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white rounded-lg shadow p-8 text-center\">\r\n            <CheckCircle className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n              No Active Assignment\r\n            </h3>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              You don&apos;t have any active assignments at the moment.\r\n            </p>\r\n            <button\r\n              onClick={() => router.push(\"/driver/assignments\")}\r\n              className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\r\n            >\r\n              View All Assignments\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Quick Actions */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <button\r\n            onClick={() => router.push(\"/driver/assignments\")}\r\n            className=\"bg-white rounded-lg shadow p-6 text-left hover:shadow-lg transition-shadow\"\r\n          >\r\n            <Clock className=\"w-8 h-8 text-blue-600 mb-3\" />\r\n            <h3 className=\"font-semibold text-gray-900 mb-1\">My Assignments</h3>\r\n            <p className=\"text-sm text-gray-600\">\r\n              View all your assignments and history\r\n            </p>\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => router.push(\"/driver/location\")}\r\n            className=\"bg-white rounded-lg shadow p-6 text-left hover:shadow-lg transition-shadow\"\r\n          >\r\n            <MapPin className=\"w-8 h-8 text-green-600 mb-3\" />\r\n            <h3 className=\"font-semibold text-gray-900 mb-1\">\r\n              Update Location\r\n            </h3>\r\n            <p className=\"text-sm text-gray-600\">\r\n              Share your current location with dispatch\r\n            </p>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <VehicleSelectionModal\r\n        isOpen={isVehicleModalOpen}\r\n        onClose={() => setIsVehicleModalOpen(false)}\r\n        onSelectVehicle={handleSelectVehicle}\r\n        transportTypeId={report?.transport_type}\r\n      />\r\n\r\n      <ConfirmDialog\r\n        isOpen={confirmDialog.isOpen}\r\n        onClose={handleCancelStatusUpdate}\r\n        onConfirm={handleConfirmStatusUpdate}\r\n        title={confirmDialog.title}\r\n        message={confirmDialog.message}\r\n        confirmText=\"Yes, Confirm\"\r\n        cancelText=\"Cancel\"\r\n        type=\"info\"\r\n        isLoading={updateReportStatusMutation.isPending}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}