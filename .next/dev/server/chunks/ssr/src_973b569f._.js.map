{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///F:/kulaih/server/PMI-FE-Call/src/lib/api.ts"],"sourcesContent":["import type {\r\n  User,\r\n  Vehicle,\r\n  VehicleType,\r\n  Report,\r\n  Assignment,\r\n  DriverLocation,\r\n  CreateVehicleTypeRequest,\r\n  CreateVehicleRequest,\r\n  UpdateVehicleRequest,\r\n  CreateReportRequest,\r\n  UpdateReportRequest,\r\n  CreateAssignmentRequest,\r\n  UpdateAssignmentRequest,\r\n  CreateDriverLocationRequest,\r\n  ApiResponse,\r\n  PaginatedResponse,\r\n} from \"./types\";\r\n\r\nconst API_BASE_URL =\r\n  process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000/api\";\r\n\r\n// Helper function for API calls\r\nasync function apiCall<T>(\r\n  endpoint: string,\r\n  options: RequestInit = {}\r\n): Promise<T> {\r\n  const token = typeof window !== \"undefined\" ? localStorage.getItem(\"pmi_auth_token\") : null;\r\n\r\n  const headers = new Headers(options.headers);\r\n  headers.set(\"Content-Type\", \"application/json\");\r\n\r\n  if (token) {\r\n    headers.set(\"Authorization\", `Bearer ${token}`);\r\n  }\r\n\r\n  const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n    ...options,\r\n    headers,\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const error = await response.json();\r\n    throw new Error(error.message || `API Error: ${response.status}`);\r\n  }\r\n\r\n  return response.json();\r\n}\r\n\r\n// ============== USERS (helper functions) ==============\r\n\r\nexport async function getUserById(id: string): Promise<User> {\r\n  const response = await apiCall<ApiResponse<User>>(`/users/${id}`);\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateUser(\r\n  id: string,\r\n  data: Partial<User>\r\n): Promise<User> {\r\n  const response = await apiCall<ApiResponse<User>>(`/users/${id}`, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\n// ============== VEHICLE TYPES ==============\r\nexport const vehicleTypes = {\r\n  getVehicleTypes: async (): Promise<ApiResponse<VehicleType[]>> => {\r\n    return await apiCall<ApiResponse<VehicleType[]>>(\"/vehicle-types\");\r\n  },\r\n  getById: async (id: string): Promise<ApiResponse<VehicleType>> => {\r\n    return await apiCall<ApiResponse<VehicleType>>(`/vehicle-types/${id}`);\r\n  },\r\n  createVehicleType: async (data: CreateVehicleTypeRequest): Promise<ApiResponse<VehicleType>> => {\r\n    return await apiCall<ApiResponse<VehicleType>>(\"/vehicle-types\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  updateVehicleType: async (id: string, data: Partial<CreateVehicleTypeRequest>): Promise<ApiResponse<VehicleType>> => {\r\n    return await apiCall<ApiResponse<VehicleType>>(`/vehicle-types/${id}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  deleteVehicleType: async (id: string): Promise<ApiResponse<void>> => {\r\n    return await apiCall<ApiResponse<void>>(`/vehicle-types/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n  },\r\n};\r\n\r\nexport const vehicleTypesApi = vehicleTypes;\r\n\r\n// Helper functions for backward compatibility\r\nexport async function getVehicleTypeById(id: string): Promise<VehicleType> {\r\n  const response = await apiCall<ApiResponse<VehicleType>>(`/vehicle-types/${id}`);\r\n  return response.data!;\r\n}\r\n\r\nexport async function createVehicleType(data: CreateVehicleTypeRequest): Promise<VehicleType> {\r\n  const response = await apiCall<ApiResponse<VehicleType>>(\"/vehicle-types\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateVehicleType(id: string, data: Partial<CreateVehicleTypeRequest>): Promise<VehicleType> {\r\n  const response = await apiCall<ApiResponse<VehicleType>>(`/vehicle-types/${id}`, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function deleteVehicleType(id: string): Promise<void> {\r\n  await apiCall(`/vehicle-types/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n\r\n// ============== VEHICLES ==============\r\nexport const vehicles = {\r\n  getAll: async (params?: { status?: string }): Promise<ApiResponse<Vehicle[]>> => {\r\n    const queryParams = params?.status ? `?status=${params.status}` : '';\r\n    return await apiCall<ApiResponse<Vehicle[]>>(`/vehicles${queryParams}`);\r\n  },\r\n  getById: async (id: string): Promise<ApiResponse<Vehicle>> => {\r\n    return await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`);\r\n  },\r\n  // Alias for getById for backward compatibility\r\n  getVehicleById: async (id: string): Promise<ApiResponse<Vehicle>> => {\r\n    return await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`);\r\n  },\r\n  createVehicle: async (data: CreateVehicleRequest): Promise<ApiResponse<Vehicle>> => {\r\n    return await apiCall<ApiResponse<Vehicle>>(\"/vehicles\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  updateVehicle: async (id: string, data: UpdateVehicleRequest): Promise<ApiResponse<Vehicle>> => {\r\n    return await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  deleteVehicle: async (id: string): Promise<ApiResponse<void>> => {\r\n    return await apiCall<ApiResponse<void>>(`/vehicles/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n  },\r\n};\r\n\r\n// Helper functions for backward compatibility\r\nexport async function getVehicleById(id: string): Promise<Vehicle> {\r\n  const response = await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`);\r\n  return response.data!;\r\n}\r\n\r\nexport async function createVehicle(data: CreateVehicleRequest): Promise<Vehicle> {\r\n  const response = await apiCall<ApiResponse<Vehicle>>(\"/vehicles\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateVehicle(id: string, data: UpdateVehicleRequest): Promise<Vehicle> {\r\n  const response = await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function deleteVehicle(id: string): Promise<void> {\r\n  await apiCall(`/vehicles/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n\r\n// ============== REPORTS ==============\r\nexport async function reports(): Promise<Report[]> {\r\n  const response = await apiCall<ApiResponse<Report[]>>(\"/reports\");\r\n  return response.data || [];\r\n}\r\n\r\nexport async function getReportById(id: string): Promise<Report> {\r\n  const response = await apiCall<ApiResponse<Report>>(`/reports/${id}`);\r\n  return response.data!;\r\n}\r\n\r\nexport async function createReport(\r\n  data: CreateReportRequest\r\n): Promise<Report> {\r\n  const response = await apiCall<ApiResponse<Report>>(\"/reports\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateReport(\r\n  id: string,\r\n  data: UpdateReportRequest\r\n): Promise<Report> {\r\n  const response = await apiCall<ApiResponse<Report>>(`/reports/${id}`, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function deleteReport(id: string): Promise<void> {\r\n  await apiCall(`/reports/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n\r\n// ============== ASSIGNMENTS ==============\r\nexport async function assignments(): Promise<Assignment[]> {\r\n  const response = await apiCall<ApiResponse<Assignment[]>>(\"/assignments\");\r\n  return response.data || [];\r\n}\r\n\r\nexport async function getAssignmentById(id: string): Promise<Assignment> {\r\n  const response = await apiCall<ApiResponse<Assignment>>(\r\n    `/assignments/${id}`\r\n  );\r\n  return response.data!;\r\n}\r\n\r\nexport async function createAssignment(\r\n  data: CreateAssignmentRequest\r\n): Promise<Assignment> {\r\n  const response = await apiCall<ApiResponse<Assignment>>(\"/assignments\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateAssignment(\r\n  id: string,\r\n  data: UpdateAssignmentRequest\r\n): Promise<Assignment> {\r\n  const response = await apiCall<ApiResponse<Assignment>>(\r\n    `/assignments/${id}`,\r\n    {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    }\r\n  );\r\n  return response.data!;\r\n}\r\n\r\nexport async function deleteAssignment(id: string): Promise<void> {\r\n  await apiCall(`/assignments/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n\r\n// ============== DRIVER LOCATIONS ==============\r\nexport async function driverLocations(): Promise<DriverLocation[]> {\r\n  const response = await apiCall<ApiResponse<DriverLocation[]>>(\r\n    \"/driver-locations\"\r\n  );\r\n  return response.data || [];\r\n}\r\n\r\nexport async function getDriverLocationById(id: string): Promise<DriverLocation> {\r\n  const response = await apiCall<ApiResponse<DriverLocation>>(\r\n    `/driver-locations/${id}`\r\n  );\r\n  return response.data!;\r\n}\r\n\r\nexport async function createDriverLocation(\r\n  data: CreateDriverLocationRequest\r\n): Promise<DriverLocation> {\r\n  const response = await apiCall<ApiResponse<DriverLocation>>(\r\n    \"/driver-locations\",\r\n    {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    }\r\n  );\r\n  return response.data!;\r\n}\r\n\r\n// ============== ORGANIZED API OBJECTS ==============\r\n\r\n// Assignments API\r\nexport const assignmentsApi = {\r\n  getAll: assignments,\r\n  getById: getAssignmentById,\r\n  create: createAssignment,\r\n  update: updateAssignment,\r\n  delete: deleteAssignment,\r\n\r\n  // Driver-specific endpoints\r\n  getAssignmentsByDriver: async (driverId: string): Promise<ApiResponse<Assignment[]>> => {\r\n    return await apiCall<ApiResponse<Assignment[]>>(`/assignments/driver/${driverId}`);\r\n  },\r\n\r\n  updateDriverAssignment: async (\r\n    assignmentId: string,\r\n    data: { vehicle_id?: string; status?: string }\r\n  ): Promise<ApiResponse<Assignment>> => {\r\n    return await apiCall<ApiResponse<Assignment>>(`/assignments/${assignmentId}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n};\r\n\r\n// Reports API\r\nexport const reportsApi = {\r\n  getAll: reports,\r\n  getById: getReportById,\r\n  create: createReport,\r\n  update: updateReport,\r\n  delete: deleteReport,\r\n\r\n  // Update report status\r\n  updateReportStatus: async (\r\n    reportId: string,\r\n    data: { status: string }\r\n  ): Promise<ApiResponse<Report>> => {\r\n    return await apiCall<ApiResponse<Report>>(`/reports/${reportId}/status`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n};\r\n\r\n// Vehicles API\r\nexport const vehiclesApi = {\r\n  getAll: vehicles.getAll,\r\n  getById: vehicles.getById,\r\n  create: vehicles.createVehicle,\r\n  update: vehicles.updateVehicle,\r\n  delete: vehicles.deleteVehicle,\r\n};\r\n\r\n// Users API\r\nexport const users = {\r\n  getUsers: async (params?: { role?: string }): Promise<ApiResponse<User[]>> => {\r\n    const queryParams = params?.role ? `?role=${params.role}` : '';\r\n    return await apiCall<ApiResponse<User[]>>(`/users${queryParams}`);\r\n  },\r\n  getById: getUserById,\r\n  update: updateUser,\r\n  createUser: async (data: { name: string; email: string; password: string; role: string }): Promise<ApiResponse<User>> => {\r\n    return await apiCall<ApiResponse<User>>('/users', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  updateUser: async (id: string, data: Partial<User>): Promise<ApiResponse<User>> => {\r\n    return await apiCall<ApiResponse<User>>(`/users/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  },\r\n  deleteUser: async (id: string): Promise<ApiResponse<void>> => {\r\n    return await apiCall<ApiResponse<void>>(`/users/${id}`, {\r\n      method: 'DELETE',\r\n    });\r\n  },\r\n};\r\n\r\nexport const usersApi = users;\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 336, "column": 0}, "map": {"version":3,"sources":["file:///F:/kulaih/server/PMI-FE-Call/src/lib/validations.ts"],"sourcesContent":["import { z } from \"zod\";\r\n\r\n// ============== AUTH VALIDATION ==============\r\nexport const loginSchema = z.object({\r\n  email: z.string().email(\"Invalid email address\"),\r\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\r\n});\r\n\r\nexport const registerSchema = z.object({\r\n  name: z.string().min(2, \"Name must be at least 2 characters\"),\r\n  email: z.string().email(\"Invalid email address\"),\r\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\r\n  confirmPassword: z.string(),\r\n  role: z.enum([\"admin\", \"driver\", \"reporter\"]),\r\n}).refine((data) => data.password === data.confirmPassword, {\r\n  message: \"Passwords don't match\",\r\n  path: [\"confirmPassword\"],\r\n});\r\n\r\n// ============== VEHICLE TYPE VALIDATION ==============\r\nexport const vehicleTypeSchema = z.object({\r\n  name: z.string().min(2, \"Name is required\"),\r\n  description: z.string().optional(),\r\n});\r\n\r\n// ============== VEHICLE VALIDATION ==============\r\nexport const vehicleSchema = z.object({\r\n  name: z.string().min(2, \"Vehicle name is required\"),\r\n  plate_number: z.string().min(4, \"Plate number must be at least 4 characters\"),\r\n  type: z.string().min(1, \"Vehicle type is required\"),\r\n  status: z.enum([\"available\", \"on_duty\", \"maintenance\", \"in_use\"]).default(\"available\"),\r\n});\r\n\r\nexport const updateVehicleSchema = z.object({\r\n  plate_number: z\r\n    .string()\r\n    .min(4, \"Plate number must be at least 4 characters\")\r\n    .optional(),\r\n  name: z.string().min(2, \"Vehicle name is required\").optional(),\r\n  vehicle_type_id: z.string().uuid(\"Invalid vehicle type\").optional(),\r\n  status: z.enum([\"available\", \"in_use\", \"maintenance\", \"inactive\"]).optional(),\r\n  driver_id: z.string().uuid().optional().nullable(),\r\n});\r\n\r\n// ============== REPORT VALIDATION ==============\r\nexport const reportSchema = z.object({\r\n  title: z.string().min(5, \"Title must be at least 5 characters\"),\r\n  description: z.string().min(10, \"Description must be at least 10 characters\"),\r\n  location: z.string().min(5, \"Location is required\"),\r\n  priority: z.enum([\"low\", \"medium\", \"high\", \"urgent\"]),\r\n});\r\n\r\nexport const updateReportSchema = z.object({\r\n  title: z.string().min(5, \"Title must be at least 5 characters\").optional(),\r\n  description: z\r\n    .string()\r\n    .min(10, \"Description must be at least 10 characters\")\r\n    .optional(),\r\n  location: z.string().min(5, \"Location is required\").optional(),\r\n  status: z\r\n    .enum([\"open\", \"in_progress\", \"assigned\", \"completed\", \"cancelled\"])\r\n    .optional(),\r\n  priority: z.enum([\"low\", \"medium\", \"high\", \"urgent\"]).optional(),\r\n});\r\n\r\n// ============== ASSIGNMENT VALIDATION ==============\r\nexport const assignmentSchema = z.object({\r\n  report_id: z.string().uuid(\"Invalid report\"),\r\n  vehicle_id: z.string().uuid(\"Invalid vehicle\"),\r\n  driver_id: z.string().uuid(\"Invalid driver\"),\r\n});\r\n\r\nexport const updateAssignmentSchema = z.object({\r\n  status: z\r\n    .enum([\"pending\", \"accepted\", \"rejected\", \"completed\"])\r\n    .optional(),\r\n});\r\n\r\n// ============== DRIVER LOCATION VALIDATION ==============\r\nexport const driverLocationSchema = z.object({\r\n  latitude: z\r\n    .number()\r\n    .min(-90, \"Invalid latitude\")\r\n    .max(90, \"Invalid latitude\"),\r\n  longitude: z\r\n    .number()\r\n    .min(-180, \"Invalid longitude\")\r\n    .max(180, \"Invalid longitude\"),\r\n});\r\n\r\n// ============== USER VALIDATION ==============\r\nexport const userSchema = z.object({\r\n  name: z.string().min(2, \"Name must be at least 2 characters\"),\r\n  email: z.string().email(\"Invalid email address\"),\r\n  role: z.enum([\"admin\", \"driver\", \"reporter\"]),\r\n});\r\n\r\nexport const updateUserSchema = z.object({\r\n  name: z.string().min(2, \"Name must be at least 2 characters\").optional(),\r\n  email: z.string().email(\"Invalid email address\").optional(),\r\n  role: z.enum([\"admin\", \"driver\", \"reporter\"]).optional(),\r\n});\r\n\r\n// ============== PASSWORD VALIDATION ==============\r\nexport const changePasswordSchema = z\r\n  .object({\r\n    currentPassword: z.string().min(1, \"Current password is required\"),\r\n    newPassword: z.string().min(6, \"New password must be at least 6 characters\"),\r\n    confirmPassword: z.string(),\r\n  })\r\n  .refine((data) => data.newPassword === data.confirmPassword, {\r\n    message: \"Passwords don't match\",\r\n    path: [\"confirmPassword\"],\r\n  });\r\n\r\n// Type exports for use in components\r\nexport type LoginFormData = z.infer<typeof loginSchema>;\r\nexport type RegisterFormData = z.infer<typeof registerSchema>;\r\nexport type VehicleTypeFormData = z.infer<typeof vehicleTypeSchema>;\r\nexport type VehicleFormData = z.infer<typeof vehicleSchema>;\r\nexport type UpdateVehicleFormData = z.infer<typeof updateVehicleSchema>;\r\nexport type ReportFormData = z.infer<typeof reportSchema>;\r\nexport type UpdateReportFormData = z.infer<typeof updateReportSchema>;\r\nexport type AssignmentFormData = z.infer<typeof assignmentSchema>;\r\nexport type UpdateAssignmentFormData = z.infer<typeof updateAssignmentSchema>;\r\nexport type DriverLocationFormData = z.infer<typeof driverLocationSchema>;\r\nexport type UserFormData = z.infer<typeof userSchema>;\r\nexport type UpdateUserFormData = z.infer<typeof updateUserSchema>;\r\nexport type ChangePasswordFormData = z.infer<typeof changePasswordSchema>;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 491, "column": 0}, "map": {"version":3,"sources":["file:///F:/kulaih/server/PMI-FE-Call/src/components/Input.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\ntype Props = React.InputHTMLAttributes<HTMLInputElement> & {\r\n  label?: string;\r\n  error?: string | null;\r\n};\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, Props>(function Input(\r\n  { label, error = null, className = \"\", id, ...rest },\r\n  ref\r\n) {\r\n  const inputId = id || `input-${label?.toLowerCase().replace(/\\s+/g, \"-\")}`;\r\n  const errorId = error ? `${inputId}-error` : undefined;\r\n\r\n  return (\r\n    <div className=\"mb-4\">\r\n      {label && (\r\n        <label\r\n          htmlFor={inputId}\r\n          className=\"block text-sm font-medium mb-1 text-gray-700\"\r\n        >\r\n          {label}\r\n        </label>\r\n      )}\r\n      <input\r\n        ref={ref}\r\n        id={inputId}\r\n        aria-invalid={error ? \"true\" : \"false\"}\r\n        aria-describedby={errorId}\r\n        className={`w-full rounded-md border px-3 py-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-pmi-red focus:border-transparent disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed ${\r\n          error\r\n            ? \"border-red-400 focus:ring-red-500\"\r\n            : \"border-gray-300 hover:border-gray-400\"\r\n        } ${className}`}\r\n        {...rest}\r\n      />\r\n      {error && (\r\n        <p id={errorId} className=\"text-sm text-red-600 mt-1\" role=\"alert\">\r\n          {error}\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Input;\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAQA,MAAM,sBAAQ,gNAAK,CAAC,UAAU,CAA0B,SAAS,MAC/D,EAAE,KAAK,EAAE,QAAQ,IAAI,EAAE,YAAY,EAAE,EAAE,EAAE,EAAE,GAAG,MAAM,EACpD,GAAG;IAEH,MAAM,UAAU,MAAM,CAAC,MAAM,EAAE,OAAO,cAAc,QAAQ,QAAQ,MAAM;IAC1E,MAAM,UAAU,QAAQ,GAAG,QAAQ,MAAM,CAAC,GAAG;IAE7C,qBACE,8OAAC;QAAI,WAAU;;YACZ,uBACC,8OAAC;gBACC,SAAS;gBACT,WAAU;0BAET;;;;;;0BAGL,8OAAC;gBACC,KAAK;gBACL,IAAI;gBACJ,gBAAc,QAAQ,SAAS;gBAC/B,oBAAkB;gBAClB,WAAW,CAAC,kNAAkN,EAC5N,QACI,sCACA,wCACL,CAAC,EAAE,WAAW;gBACd,GAAG,IAAI;;;;;;YAET,uBACC,8OAAC;gBAAE,IAAI;gBAAS,WAAU;gBAA4B,MAAK;0BACxD;;;;;;;;;;;;AAKX;uCAEe"}},
    {"offset": {"line": 549, "column": 0}, "map": {"version":3,"sources":["file:///F:/kulaih/server/PMI-FE-Call/src/components/ui/LoadingSpinner.tsx"],"sourcesContent":["export function LoadingSpinner({\r\n  size = \"md\",\r\n  text,\r\n}: {\r\n  size?: \"sm\" | \"md\" | \"lg\";\r\n  text?: string;\r\n}) {\r\n  const sizes = {\r\n    sm: \"w-4 h-4 border-2\",\r\n    md: \"w-8 h-8 border-4\",\r\n    lg: \"w-12 h-12 border-4\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center gap-2\">\r\n      <div\r\n        className={`${sizes[size]} border-gray-200 border-t-red-600 rounded-full animate-spin`}\r\n      />\r\n      {text && <p className=\"text-sm text-gray-600\">{text}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function LoadingPage({ text = \"Loading...\" }: { text?: string } = {}) {\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen\">\r\n      <LoadingSpinner size=\"lg\" text={text} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ButtonSpinner() {\r\n  return (\r\n    <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\r\n  );\r\n}\r\n\r\n// Skeleton Loaders\r\nexport function SkeletonText({ className = \"\" }: { className?: string }) {\r\n  return (\r\n    <div className={`h-4 bg-gray-200 rounded animate-pulse ${className}`} />\r\n  );\r\n}\r\n\r\nexport function SkeletonCard() {\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow p-6 space-y-4 animate-pulse\">\r\n      <div className=\"h-6 bg-gray-200 rounded w-3/4\" />\r\n      <div className=\"space-y-2\">\r\n        <div className=\"h-4 bg-gray-200 rounded\" />\r\n        <div className=\"h-4 bg-gray-200 rounded w-5/6\" />\r\n      </div>\r\n      <div className=\"flex gap-2\">\r\n        <div className=\"h-8 bg-gray-200 rounded w-20\" />\r\n        <div className=\"h-8 bg-gray-200 rounded w-24\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function SkeletonTable({ rows = 5 }: { rows?: number }) {\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n      {/* Header */}\r\n      <div className=\"bg-gray-50 px-6 py-4 border-b border-gray-200\">\r\n        <div className=\"flex gap-4\">\r\n          <div className=\"h-4 bg-gray-200 rounded w-1/4 animate-pulse\" />\r\n          <div className=\"h-4 bg-gray-200 rounded w-1/4 animate-pulse\" />\r\n          <div className=\"h-4 bg-gray-200 rounded w-1/4 animate-pulse\" />\r\n          <div className=\"h-4 bg-gray-200 rounded w-1/4 animate-pulse\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Rows */}\r\n      {Array.from({ length: rows }).map((_, i) => (\r\n        <div\r\n          key={i}\r\n          className=\"px-6 py-4 border-b border-gray-200 last:border-b-0\"\r\n        >\r\n          <div className=\"flex gap-4\">\r\n            <div className=\"h-4 bg-gray-200 rounded w-1/4 animate-pulse\" />\r\n            <div className=\"h-4 bg-gray-200 rounded w-1/4 animate-pulse\" />\r\n            <div className=\"h-4 bg-gray-200 rounded w-1/4 animate-pulse\" />\r\n            <div className=\"h-4 bg-gray-200 rounded w-1/4 animate-pulse\" />\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function SkeletonList({ items = 3 }: { items?: number }) {\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      {Array.from({ length: items }).map((_, i) => (\r\n        <SkeletonCard key={i} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function SkeletonStats() {\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n      {Array.from({ length: 4 }).map((_, i) => (\r\n        <div\r\n          key={i}\r\n          className=\"bg-white rounded-lg shadow p-6 space-y-3 animate-pulse\"\r\n        >\r\n          <div className=\"h-4 bg-gray-200 rounded w-1/2\" />\r\n          <div className=\"h-8 bg-gray-200 rounded w-2/3\" />\r\n          <div className=\"h-3 bg-gray-200 rounded w-1/3\" />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function SkeletonMap() {\r\n  return (\r\n    <div className=\"w-full h-[500px] bg-gray-200 rounded-lg animate-pulse flex items-center justify-center\">\r\n      <div className=\"text-gray-400 text-center\">\r\n        <div className=\"text-4xl mb-2\">üó∫Ô∏è</div>\r\n        <p>Loading map...</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAO,SAAS,eAAe,EAC7B,OAAO,IAAI,EACX,IAAI,EAIL;IACC,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,WAAW,GAAG,KAAK,CAAC,KAAK,CAAC,2DAA2D,CAAC;;;;;;YAEvF,sBAAQ,8OAAC;gBAAE,WAAU;0BAAyB;;;;;;;;;;;;AAGrD;AAEO,SAAS,YAAY,EAAE,OAAO,YAAY,EAAqB,GAAG,CAAC,CAAC;IACzE,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAe,MAAK;YAAK,MAAM;;;;;;;;;;;AAGtC;AAEO,SAAS;IACd,qBACE,8OAAC;QAAI,WAAU;;;;;;AAEnB;AAGO,SAAS,aAAa,EAAE,YAAY,EAAE,EAA0B;IACrE,qBACE,8OAAC;QAAI,WAAW,CAAC,sCAAsC,EAAE,WAAW;;;;;;AAExE;AAEO,SAAS;IACd,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;;;;;0BACf,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;;;;;;;0BAEjB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;AAIvB;AAEO,SAAS,cAAc,EAAE,OAAO,CAAC,EAAqB;IAC3D,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;;;;;sCACf,8OAAC;4BAAI,WAAU;;;;;;sCACf,8OAAC;4BAAI,WAAU;;;;;;sCACf,8OAAC;4BAAI,WAAU;;;;;;;;;;;;;;;;;YAKlB,MAAM,IAAI,CAAC;gBAAE,QAAQ;YAAK,GAAG,GAAG,CAAC,CAAC,GAAG,kBACpC,8OAAC;oBAEC,WAAU;8BAEV,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAI,WAAU;;;;;;;;;;;;mBAPZ;;;;;;;;;;;AAaf;AAEO,SAAS,aAAa,EAAE,QAAQ,CAAC,EAAsB;IAC5D,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAM,GAAG,GAAG,CAAC,CAAC,GAAG,kBACrC,8OAAC,kBAAkB;;;;;;;;;;AAI3B;AAEO,SAAS;IACd,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBACjC,8OAAC;gBAEC,WAAU;;kCAEV,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;;eALV;;;;;;;;;;AAUf;AAEO,SAAS;IACd,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;8BAAgB;;;;;;8BAC/B,8OAAC;8BAAE;;;;;;;;;;;;;;;;;AAIX"}},
    {"offset": {"line": 896, "column": 0}, "map": {"version":3,"sources":["file:///F:/kulaih/server/PMI-FE-Call/src/components/Button.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\nimport { ButtonSpinner } from \"./ui/LoadingSpinner\";\r\n\r\ntype Props = React.ButtonHTMLAttributes<HTMLButtonElement> & {\r\n  variant?: \"primary\" | \"secondary\" | \"danger\" | \"success\";\r\n  isLoading?: boolean;\r\n  loadingText?: string;\r\n};\r\n\r\nexport default function Button({\r\n  variant = \"primary\",\r\n  className = \"\",\r\n  isLoading = false,\r\n  loadingText,\r\n  children,\r\n  disabled,\r\n  ...props\r\n}: Props) {\r\n  const base =\r\n    \"px-4 py-2 rounded-md font-medium disabled:opacity-60 disabled:cursor-not-allowed transition-all duration-200 ease-in-out flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 active:scale-95\";\r\n\r\n  const variants = {\r\n    primary:\r\n      \"bg-pmi-red text-white hover:bg-pmi-red-dark focus:ring-pmi-red shadow-sm hover:shadow-md\",\r\n    secondary:\r\n      \"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-500 shadow-sm hover:shadow\",\r\n    danger:\r\n      \"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm hover:shadow-md\",\r\n    success:\r\n      \"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500 shadow-sm hover:shadow-md\",\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className={`${base} ${variants[variant]} ${className}`.trim()}\r\n      disabled={disabled || isLoading}\r\n      {...props}\r\n    >\r\n      {isLoading && <ButtonSpinner />}\r\n      {isLoading ? loadingText || \"Loading...\" : children}\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUe,SAAS,OAAO,EAC7B,UAAU,SAAS,EACnB,YAAY,EAAE,EACd,YAAY,KAAK,EACjB,WAAW,EACX,QAAQ,EACR,QAAQ,EACR,GAAG,OACG;IACN,MAAM,OACJ;IAEF,MAAM,WAAW;QACf,SACE;QACF,WACE;QACF,QACE;QACF,SACE;IACJ;IAEA,qBACE,8OAAC;QACC,WAAW,GAAG,KAAK,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW,CAAC,IAAI;QAC3D,UAAU,YAAY;QACrB,GAAG,KAAK;;YAER,2BAAa,8OAAC,2JAAa;;;;;YAC3B,YAAY,eAAe,eAAe;;;;;;;AAGjD"}},
    {"offset": {"line": 935, "column": 0}, "map": {"version":3,"sources":["file:///F:/kulaih/server/PMI-FE-Call/src/components/ui/FormErrors.tsx"],"sourcesContent":["/**\r\n * Form Error Display Components\r\n * Reusable components for displaying form validation errors\r\n */\r\n\r\nimport { AlertCircle } from \"lucide-react\";\r\n\r\ninterface FormErrorProps {\r\n  message?: string;\r\n}\r\n\r\n/**\r\n * Inline field error message\r\n */\r\nexport function FieldError({ message }: FormErrorProps) {\r\n  if (!message) return null;\r\n\r\n  return (\r\n    <p className=\"mt-1 text-sm text-red-600 flex items-center gap-1\">\r\n      <AlertCircle className=\"w-4 h-4\" />\r\n      {message}\r\n    </p>\r\n  );\r\n}\r\n\r\ninterface FormErrorsProps {\r\n  errors: Record<string, { message?: string }>;\r\n}\r\n\r\n/**\r\n * Display all form errors in a summary\r\n */\r\nexport function FormErrorsSummary({ errors }: FormErrorsProps) {\r\n  const errorMessages = Object.values(errors)\r\n    .map((error) => error.message)\r\n    .filter(Boolean);\r\n\r\n  if (errorMessages.length === 0) return null;\r\n\r\n  return (\r\n    <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg mb-4\">\r\n      <div className=\"flex items-start gap-3\">\r\n        <AlertCircle className=\"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5\" />\r\n        <div className=\"flex-1\">\r\n          <h3 className=\"text-sm font-semibold text-red-900 mb-2\">\r\n            Please fix the following errors:\r\n          </h3>\r\n          <ul className=\"list-disc list-inside space-y-1\">\r\n            {errorMessages.map((message, index) => (\r\n              <li key={index} className=\"text-sm text-red-800\">\r\n                {message}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface ApiErrorProps {\r\n  error: Error | null;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Display API error messages\r\n */\r\nexport function ApiError({ error, className = \"\" }: ApiErrorProps) {\r\n  if (!error) return null;\r\n\r\n  const axiosError = error as { response?: { data?: { detail?: string } } };\r\n  const message =\r\n    axiosError?.response?.data?.detail || error.message || \"An error occurred\";\r\n\r\n  return (\r\n    <div\r\n      className={`p-4 bg-red-50 border border-red-200 rounded-lg ${className}`}\r\n    >\r\n      <div className=\"flex items-start gap-3\">\r\n        <AlertCircle className=\"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5\" />\r\n        <div className=\"flex-1\">\r\n          <h3 className=\"text-sm font-semibold text-red-900 mb-1\">Error</h3>\r\n          <p className=\"text-sm text-red-800\">{message}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface ValidationErrorProps {\r\n  title?: string;\r\n  message: string;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Generic validation error display\r\n */\r\nexport function ValidationError({\r\n  title = \"Validation Error\",\r\n  message,\r\n  className = \"\",\r\n}: ValidationErrorProps) {\r\n  return (\r\n    <div\r\n      className={`p-4 bg-yellow-50 border border-yellow-200 rounded-lg ${className}`}\r\n    >\r\n      <div className=\"flex items-start gap-3\">\r\n        <AlertCircle className=\"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5\" />\r\n        <div className=\"flex-1\">\r\n          <h3 className=\"text-sm font-semibold text-yellow-900 mb-1\">\r\n            {title}\r\n          </h3>\r\n          <p className=\"text-sm text-yellow-800\">{message}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;;AAED;;;AASO,SAAS,WAAW,EAAE,OAAO,EAAkB;IACpD,IAAI,CAAC,SAAS,OAAO;IAErB,qBACE,8OAAC;QAAE,WAAU;;0BACX,8OAAC,mOAAW;gBAAC,WAAU;;;;;;YACtB;;;;;;;AAGP;AASO,SAAS,kBAAkB,EAAE,MAAM,EAAmB;IAC3D,MAAM,gBAAgB,OAAO,MAAM,CAAC,QACjC,GAAG,CAAC,CAAC,QAAU,MAAM,OAAO,EAC5B,MAAM,CAAC;IAEV,IAAI,cAAc,MAAM,KAAK,GAAG,OAAO;IAEvC,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,mOAAW;oBAAC,WAAU;;;;;;8BACvB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAA0C;;;;;;sCAGxD,8OAAC;4BAAG,WAAU;sCACX,cAAc,GAAG,CAAC,CAAC,SAAS,sBAC3B,8OAAC;oCAAe,WAAU;8CACvB;mCADM;;;;;;;;;;;;;;;;;;;;;;;;;;;AASvB;AAUO,SAAS,SAAS,EAAE,KAAK,EAAE,YAAY,EAAE,EAAiB;IAC/D,IAAI,CAAC,OAAO,OAAO;IAEnB,MAAM,aAAa;IACnB,MAAM,UACJ,YAAY,UAAU,MAAM,UAAU,MAAM,OAAO,IAAI;IAEzD,qBACE,8OAAC;QACC,WAAW,CAAC,+CAA+C,EAAE,WAAW;kBAExE,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,mOAAW;oBAAC,WAAU;;;;;;8BACvB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAA0C;;;;;;sCACxD,8OAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;;;;;;;;;;;;AAK/C;AAWO,SAAS,gBAAgB,EAC9B,QAAQ,kBAAkB,EAC1B,OAAO,EACP,YAAY,EAAE,EACO;IACrB,qBACE,8OAAC;QACC,WAAW,CAAC,qDAAqD,EAAE,WAAW;kBAE9E,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,mOAAW;oBAAC,WAAU;;;;;;8BACvB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCACX;;;;;;sCAEH,8OAAC;4BAAE,WAAU;sCAA2B;;;;;;;;;;;;;;;;;;;;;;;AAKlD"}},
    {"offset": {"line": 1138, "column": 0}, "map": {"version":3,"sources":["file:///F:/kulaih/server/PMI-FE-Call/src/components/forms/VehicleForm.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { vehicleTypes } from \"@/lib/api\";\r\nimport { vehicleSchema } from \"@/lib/validations\";\r\nimport Input from \"@/components/Input\";\r\nimport Button from \"@/components/Button\";\r\nimport { FormErrorsSummary } from \"@/components/ui/FormErrors\";\r\nimport type {\r\n  CreateVehicleRequest,\r\n  UpdateVehicleRequest,\r\n  Vehicle,\r\n} from \"@/lib/types\";\r\nimport { z } from \"zod\";\r\n\r\ntype VehicleFormData = z.infer<typeof vehicleSchema>;\r\n\r\ninterface VehicleFormProps {\r\n  initialData?: Vehicle;\r\n  onSubmit: (data: CreateVehicleRequest | UpdateVehicleRequest) => void;\r\n  isSubmitting: boolean;\r\n}\r\n\r\nexport default function VehicleForm({\r\n  initialData,\r\n  onSubmit,\r\n  isSubmitting,\r\n}: VehicleFormProps) {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<VehicleFormData>({\r\n    resolver: zodResolver(vehicleSchema),\r\n    defaultValues: initialData\r\n      ? {\r\n          name: initialData.name,\r\n          plate_number: initialData.plate_number,\r\n          type: initialData.type,\r\n          status: initialData.status,\r\n        }\r\n      : {\r\n          status: \"available\",\r\n        },\r\n  });\r\n\r\n  // Fetch vehicle types for dropdown\r\n  const { data: vehicleTypesResponse, isLoading: isLoadingTypes } = useQuery({\r\n    queryKey: [\"vehicleTypes\"],\r\n    queryFn: vehicleTypes.getVehicleTypes,\r\n  });\r\n\r\n  const types = vehicleTypesResponse?.data || [];\r\n\r\n  const handleFormSubmit = (data: VehicleFormData) => {\r\n    onSubmit(data);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(handleFormSubmit)} className=\"space-y-6\">\r\n      <div className=\"bg-white shadow-md rounded-lg p-6 space-y-6\">\r\n        {/* Vehicle Name */}\r\n        <div>\r\n          <label\r\n            htmlFor=\"name\"\r\n            className=\"block text-sm font-medium text-gray-700 mb-2\"\r\n          >\r\n            Vehicle Name <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <Input\r\n            id=\"name\"\r\n            type=\"text\"\r\n            placeholder=\"e.g., Ambulance 01\"\r\n            {...register(\"name\")}\r\n            error={errors.name?.message}\r\n            disabled={isSubmitting}\r\n          />\r\n        </div>\r\n\r\n        {/* Plate Number */}\r\n        <div>\r\n          <label\r\n            htmlFor=\"plate_number\"\r\n            className=\"block text-sm font-medium text-gray-700 mb-2\"\r\n          >\r\n            Plate Number <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <Input\r\n            id=\"plate_number\"\r\n            type=\"text\"\r\n            placeholder=\"e.g., B 1234 XYZ\"\r\n            {...register(\"plate_number\")}\r\n            error={errors.plate_number?.message}\r\n            disabled={isSubmitting}\r\n          />\r\n          <p className=\"text-xs text-gray-500 mt-1\">\r\n            Format: 1-2 letters, space, 1-4 digits, space, 1-3 letters\r\n          </p>\r\n        </div>\r\n\r\n        {/* Vehicle Type */}\r\n        <div>\r\n          <label\r\n            htmlFor=\"type\"\r\n            className=\"block text-sm font-medium text-gray-700 mb-2\"\r\n          >\r\n            Vehicle Type <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          {isLoadingTypes ? (\r\n            <div className=\"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg bg-gray-50\">\r\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600\"></div>\r\n              <span className=\"text-sm text-gray-600\">Loading types...</span>\r\n            </div>\r\n          ) : (\r\n            <select\r\n              id=\"type\"\r\n              {...register(\"type\")}\r\n              disabled={isSubmitting}\r\n              className={`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 ${\r\n                errors.type ? \"border-red-500\" : \"\"\r\n              }`}\r\n            >\r\n              <option value=\"\">Select vehicle type</option>\r\n              {types.map((type) => (\r\n                <option key={type.id} value={type.id}>\r\n                  {type.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          )}\r\n          {errors.type?.message && (\r\n            <p className=\"mt-1 text-sm text-red-600\">{errors.type.message}</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Status */}\r\n        <div>\r\n          <label\r\n            htmlFor=\"status\"\r\n            className=\"block text-sm font-medium text-gray-700 mb-2\"\r\n          >\r\n            Status <span className=\"text-red-500\">*</span>\r\n          </label>\r\n          <select\r\n            id=\"status\"\r\n            {...register(\"status\")}\r\n            disabled={isSubmitting}\r\n            className={`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 ${\r\n              errors.status ? \"border-red-500\" : \"\"\r\n            }`}\r\n          >\r\n            <option value=\"available\">Available</option>\r\n            <option value=\"on_duty\">On Duty</option>\r\n            <option value=\"maintenance\">Maintenance</option>\r\n          </select>\r\n          {errors.status?.message && (\r\n            <p className=\"mt-1 text-sm text-red-600\">{errors.status.message}</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Form Errors */}\r\n        <FormErrorsSummary errors={errors} />\r\n      </div>\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"flex gap-4\">\r\n        <Button\r\n          type=\"submit\"\r\n          variant=\"primary\"\r\n          disabled={isSubmitting}\r\n          className=\"flex-1 sm:flex-none\"\r\n        >\r\n          {isSubmitting ? (\r\n            <span className=\"flex items-center gap-2\">\r\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n              {initialData ? \"Updating...\" : \"Creating...\"}\r\n            </span>\r\n          ) : (\r\n            <span>{initialData ? \"Update Vehicle\" : \"Create Vehicle\"}</span>\r\n          )}\r\n        </Button>\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"secondary\"\r\n          onClick={() => window.history.back()}\r\n          disabled={isSubmitting}\r\n          className=\"flex-1 sm:flex-none\"\r\n        >\r\n          Cancel\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1512, "column": 0}, "map": {"version":3,"sources":["file:///F:/kulaih/server/PMI-FE-Call/src/app/dashboard/vehicles/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { use } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { vehicles } from \"@/lib/api\";\r\nimport { ArrowLeft } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport VehicleForm from \"@/components/forms/VehicleForm\";\r\nimport type { UpdateVehicleRequest } from \"@/lib/types\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function EditVehiclePage({\r\n  params,\r\n}: {\r\n  params: Promise<{ id: string }>;\r\n}) {\r\n  const { id } = use(params);\r\n  const router = useRouter();\r\n  const queryClient = useQueryClient();\r\n\r\n  // Fetch vehicle data\r\n  const {\r\n    data: vehicleResponse,\r\n    isLoading,\r\n    error,\r\n  } = useQuery({\r\n    queryKey: [\"vehicle\", id],\r\n    queryFn: () => vehicles.getVehicleById(id),\r\n  });\r\n\r\n  const vehicle = vehicleResponse?.data;\r\n\r\n  const updateMutation = useMutation({\r\n    mutationFn: (data: UpdateVehicleRequest) =>\r\n      vehicles.updateVehicle(id, data),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"vehicles\"] });\r\n      queryClient.invalidateQueries({ queryKey: [\"vehicle\", id] });\r\n      toast.success(\"Vehicle updated successfully\");\r\n      router.push(\"/dashboard/vehicles\");\r\n    },\r\n    onError: (error: Error) => {\r\n      const axiosError = error as { response?: { data?: { detail?: string } } };\r\n      toast.error(\r\n        axiosError?.response?.data?.detail || \"Failed to update vehicle\"\r\n      );\r\n    },\r\n  });\r\n\r\n  const handleSubmit = (data: UpdateVehicleRequest) => {\r\n    updateMutation.mutate(data);\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[400px]\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading vehicle...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !vehicle) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <p className=\"text-red-600 mb-4\">Failed to load vehicle</p>\r\n        <Link\r\n          href=\"/dashboard/vehicles\"\r\n          className=\"text-red-600 hover:text-red-700 font-medium\"\r\n        >\r\n          ‚Üê Back to Vehicles\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center gap-4\">\r\n        <button\r\n          onClick={() => router.back()}\r\n          className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\r\n        >\r\n          <ArrowLeft className=\"w-5 h-5 text-gray-600\" />\r\n        </button>\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Edit Vehicle</h1>\r\n          <p className=\"text-gray-600 mt-1\">Update vehicle information</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Form */}\r\n      <VehicleForm\r\n        initialData={vehicle}\r\n        onSubmit={handleSubmit}\r\n        isSubmitting={updateMutation.isPending}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAVA;;;;;;;;;;AAYe,SAAS,gBAAgB,EACtC,MAAM,EAGP;IACC,MAAM,EAAE,EAAE,EAAE,GAAG,IAAA,4MAAG,EAAC;IACnB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,cAAc,IAAA,wMAAc;IAElC,qBAAqB;IACrB,MAAM,EACJ,MAAM,eAAe,EACrB,SAAS,EACT,KAAK,EACN,GAAG,IAAA,uLAAQ,EAAC;QACX,UAAU;YAAC;YAAW;SAAG;QACzB,SAAS,IAAM,6HAAQ,CAAC,cAAc,CAAC;IACzC;IAEA,MAAM,UAAU,iBAAiB;IAEjC,MAAM,iBAAiB,IAAA,6LAAW,EAAC;QACjC,YAAY,CAAC,OACX,6HAAQ,CAAC,aAAa,CAAC,IAAI;QAC7B,WAAW;YACT,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;iBAAW;YAAC;YACvD,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;oBAAW;iBAAG;YAAC;YAC1D,iJAAK,CAAC,OAAO,CAAC;YACd,OAAO,IAAI,CAAC;QACd;QACA,SAAS,CAAC;YACR,MAAM,aAAa;YACnB,iJAAK,CAAC,KAAK,CACT,YAAY,UAAU,MAAM,UAAU;QAE1C;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,eAAe,MAAM,CAAC;IACxB;IAEA,IAAI,WAAW;QACb,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;IAIrC;IAEA,IAAI,SAAS,CAAC,SAAS;QACrB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAE,WAAU;8BAAoB;;;;;;8BACjC,8OAAC,uKAAI;oBACH,MAAK;oBACL,WAAU;8BACX;;;;;;;;;;;;IAKP;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,SAAS,IAAM,OAAO,IAAI;wBAC1B,WAAU;kCAEV,cAAA,8OAAC,6NAAS;4BAAC,WAAU;;;;;;;;;;;kCAEvB,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,8OAAC;gCAAE,WAAU;0CAAqB;;;;;;;;;;;;;;;;;;0BAKtC,8OAAC,qJAAW;gBACV,aAAa;gBACb,UAAU;gBACV,cAAc,eAAe,SAAS;;;;;;;;;;;;AAI9C"}}]
}