{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/kulaih/server/PMI-FE-Call/src/lib/api.ts"],"sourcesContent":["import type {\r\n  User,\r\n  Vehicle,\r\n  VehicleType,\r\n  Report,\r\n  Assignment,\r\n  DriverLocation,\r\n  CreateVehicleTypeRequest,\r\n  CreateVehicleRequest,\r\n  UpdateVehicleRequest,\r\n  CreateReportRequest,\r\n  UpdateReportRequest,\r\n  CreateAssignmentRequest,\r\n  UpdateAssignmentRequest,\r\n  CreateDriverLocationRequest,\r\n  ApiResponse,\r\n  PaginatedResponse,\r\n} from \"./types\";\r\n\r\nconst API_BASE_URL =\r\n  process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000/api\";\r\n\r\n// Helper function for API calls\r\nasync function apiCall<T>(\r\n  endpoint: string,\r\n  options: RequestInit = {}\r\n): Promise<T> {\r\n  const token = typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\r\n\r\n  const headers = new Headers(options.headers);\r\n  headers.set(\"Content-Type\", \"application/json\");\r\n\r\n  if (token) {\r\n    headers.set(\"Authorization\", `Bearer ${token}`);\r\n  }\r\n\r\n  const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n    ...options,\r\n    headers,\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const error = await response.json();\r\n    throw new Error(error.message || `API Error: ${response.status}`);\r\n  }\r\n\r\n  return response.json();\r\n}\r\n\r\n// ============== USERS ==============\r\nexport async function users(): Promise<User[]> {\r\n  const response = await apiCall<ApiResponse<User[]>>(\"/users\");\r\n  return response.data || [];\r\n}\r\n\r\nexport async function getUserById(id: string): Promise<User> {\r\n  const response = await apiCall<ApiResponse<User>>(`/users/${id}`);\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateUser(\r\n  id: string,\r\n  data: Partial<User>\r\n): Promise<User> {\r\n  const response = await apiCall<ApiResponse<User>>(`/users/${id}`, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\n// ============== VEHICLE TYPES ==============\r\nexport async function vehicleTypes(): Promise<VehicleType[]> {\r\n  const response = await apiCall<ApiResponse<VehicleType[]>>(\"/vehicle-types\");\r\n  return response.data || [];\r\n}\r\n\r\nexport async function getVehicleTypeById(id: string): Promise<VehicleType> {\r\n  const response = await apiCall<ApiResponse<VehicleType>>(\r\n    `/vehicle-types/${id}`\r\n  );\r\n  return response.data!;\r\n}\r\n\r\nexport async function createVehicleType(\r\n  data: CreateVehicleTypeRequest\r\n): Promise<VehicleType> {\r\n  const response = await apiCall<ApiResponse<VehicleType>>(\r\n    \"/vehicle-types\",\r\n    {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    }\r\n  );\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateVehicleType(\r\n  id: string,\r\n  data: Partial<CreateVehicleTypeRequest>\r\n): Promise<VehicleType> {\r\n  const response = await apiCall<ApiResponse<VehicleType>>(\r\n    `/vehicle-types/${id}`,\r\n    {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    }\r\n  );\r\n  return response.data!;\r\n}\r\n\r\nexport async function deleteVehicleType(id: string): Promise<void> {\r\n  await apiCall(`/vehicle-types/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n\r\n// ============== VEHICLES ==============\r\nexport async function vehicles(): Promise<Vehicle[]> {\r\n  const response = await apiCall<ApiResponse<Vehicle[]>>(\"/vehicles\");\r\n  return response.data || [];\r\n}\r\n\r\nexport async function getVehicleById(id: string): Promise<Vehicle> {\r\n  const response = await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`);\r\n  return response.data!;\r\n}\r\n\r\nexport async function createVehicle(\r\n  data: CreateVehicleRequest\r\n): Promise<Vehicle> {\r\n  const response = await apiCall<ApiResponse<Vehicle>>(\"/vehicles\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateVehicle(\r\n  id: string,\r\n  data: UpdateVehicleRequest\r\n): Promise<Vehicle> {\r\n  const response = await apiCall<ApiResponse<Vehicle>>(`/vehicles/${id}`, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function deleteVehicle(id: string): Promise<void> {\r\n  await apiCall(`/vehicles/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n\r\n// ============== REPORTS ==============\r\nexport async function reports(): Promise<Report[]> {\r\n  const response = await apiCall<ApiResponse<Report[]>>(\"/reports\");\r\n  return response.data || [];\r\n}\r\n\r\nexport async function getReportById(id: string): Promise<Report> {\r\n  const response = await apiCall<ApiResponse<Report>>(`/reports/${id}`);\r\n  return response.data!;\r\n}\r\n\r\nexport async function createReport(\r\n  data: CreateReportRequest\r\n): Promise<Report> {\r\n  const response = await apiCall<ApiResponse<Report>>(\"/reports\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateReport(\r\n  id: string,\r\n  data: UpdateReportRequest\r\n): Promise<Report> {\r\n  const response = await apiCall<ApiResponse<Report>>(`/reports/${id}`, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function deleteReport(id: string): Promise<void> {\r\n  await apiCall(`/reports/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n\r\n// ============== ASSIGNMENTS ==============\r\nexport async function assignments(): Promise<Assignment[]> {\r\n  const response = await apiCall<ApiResponse<Assignment[]>>(\"/assignments\");\r\n  return response.data || [];\r\n}\r\n\r\nexport async function getAssignmentById(id: string): Promise<Assignment> {\r\n  const response = await apiCall<ApiResponse<Assignment>>(\r\n    `/assignments/${id}`\r\n  );\r\n  return response.data!;\r\n}\r\n\r\nexport async function createAssignment(\r\n  data: CreateAssignmentRequest\r\n): Promise<Assignment> {\r\n  const response = await apiCall<ApiResponse<Assignment>>(\"/assignments\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(data),\r\n  });\r\n  return response.data!;\r\n}\r\n\r\nexport async function updateAssignment(\r\n  id: string,\r\n  data: UpdateAssignmentRequest\r\n): Promise<Assignment> {\r\n  const response = await apiCall<ApiResponse<Assignment>>(\r\n    `/assignments/${id}`,\r\n    {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n    }\r\n  );\r\n  return response.data!;\r\n}\r\n\r\nexport async function deleteAssignment(id: string): Promise<void> {\r\n  await apiCall(`/assignments/${id}`, {\r\n    method: \"DELETE\",\r\n  });\r\n}\r\n\r\n// ============== DRIVER LOCATIONS ==============\r\nexport async function driverLocations(): Promise<DriverLocation[]> {\r\n  const response = await apiCall<ApiResponse<DriverLocation[]>>(\r\n    \"/driver-locations\"\r\n  );\r\n  return response.data || [];\r\n}\r\n\r\nexport async function getDriverLocationById(id: string): Promise<DriverLocation> {\r\n  const response = await apiCall<ApiResponse<DriverLocation>>(\r\n    `/driver-locations/${id}`\r\n  );\r\n  return response.data!;\r\n}\r\n\r\nexport async function createDriverLocation(\r\n  data: CreateDriverLocationRequest\r\n): Promise<DriverLocation> {\r\n  const response = await apiCall<ApiResponse<DriverLocation>>(\r\n    \"/driver-locations\",\r\n    {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n    }\r\n  );\r\n  return response.data!;\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///D:/kulaih/server/PMI-FE-Call/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\r\n\r\n// Combine classnames\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return clsx(inputs);\r\n}\r\n\r\n// Format date and time\r\nexport function formatDateTime(date: string | Date): string {\r\n  const d = typeof date === \"string\" ? new Date(date) : date;\r\n  return d.toLocaleDateString(\"id-ID\", {\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  });\r\n}\r\n\r\n// Format date only\r\nexport function formatDate(date: string | Date): string {\r\n  const d = typeof date === \"string\" ? new Date(date) : date;\r\n  return d.toLocaleDateString(\"id-ID\", {\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n  });\r\n}\r\n\r\n// Format time only\r\nexport function formatTime(date: string | Date): string {\r\n  const d = typeof date === \"string\" ? new Date(date) : date;\r\n  return d.toLocaleTimeString(\"id-ID\", {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n    second: \"2-digit\",\r\n  });\r\n}\r\n\r\n// Get status badge color\r\nexport function getStatusColor(\r\n  status: string\r\n): \"default\" | \"secondary\" | \"destructive\" | \"outline\" {\r\n  const statusMap: Record<string, \"default\" | \"secondary\" | \"destructive\" | \"outline\"> = {\r\n    // Report statuses\r\n    open: \"default\",\r\n    in_progress: \"secondary\",\r\n    assigned: \"secondary\",\r\n    completed: \"default\",\r\n    cancelled: \"destructive\",\r\n\r\n    // Assignment statuses\r\n    pending: \"default\",\r\n    accepted: \"secondary\",\r\n    rejected: \"destructive\",\r\n\r\n    // Vehicle statuses\r\n    available: \"default\",\r\n    in_use: \"secondary\",\r\n    maintenance: \"destructive\",\r\n    inactive: \"outline\",\r\n\r\n    // User roles\r\n    admin: \"default\",\r\n    driver: \"secondary\",\r\n    reporter: \"outline\",\r\n\r\n    // Priority levels\r\n    low: \"outline\",\r\n    medium: \"secondary\",\r\n    high: \"default\",\r\n    urgent: \"destructive\",\r\n  };\r\n\r\n  return statusMap[status] || \"default\";\r\n}\r\n\r\n// Get priority badge color\r\nexport function getPriorityColor(priority: string): string {\r\n  const colors: Record<string, string> = {\r\n    low: \"bg-blue-100 text-blue-800\",\r\n    medium: \"bg-yellow-100 text-yellow-800\",\r\n    high: \"bg-orange-100 text-orange-800\",\r\n    urgent: \"bg-red-100 text-red-800\",\r\n  };\r\n  return colors[priority] || \"bg-gray-100 text-gray-800\";\r\n}\r\n\r\n// Get status badge color class\r\nexport function getStatusBadgeColor(status: string): string {\r\n  const colors: Record<string, string> = {\r\n    // Report statuses\r\n    open: \"bg-blue-100 text-blue-800\",\r\n    in_progress: \"bg-purple-100 text-purple-800\",\r\n    assigned: \"bg-indigo-100 text-indigo-800\",\r\n    completed: \"bg-green-100 text-green-800\",\r\n    cancelled: \"bg-red-100 text-red-800\",\r\n\r\n    // Assignment statuses\r\n    pending: \"bg-yellow-100 text-yellow-800\",\r\n    accepted: \"bg-green-100 text-green-800\",\r\n    rejected: \"bg-red-100 text-red-800\",\r\n\r\n    // Vehicle statuses\r\n    available: \"bg-green-100 text-green-800\",\r\n    in_use: \"bg-blue-100 text-blue-800\",\r\n    maintenance: \"bg-orange-100 text-orange-800\",\r\n    inactive: \"bg-gray-100 text-gray-800\",\r\n  };\r\n  return colors[status] || \"bg-gray-100 text-gray-800\";\r\n}\r\n\r\n// Capitalize first letter\r\nexport function capitalize(str: string): string {\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n}\r\n\r\n// Format role name\r\nexport function formatRole(role: string): string {\r\n  const roleMap: Record<string, string> = {\r\n    admin: \"Administrator\",\r\n    driver: \"Driver\",\r\n    reporter: \"Reporter\",\r\n  };\r\n  return roleMap[role] || capitalize(role);\r\n}\r\n\r\n// Format status name\r\nexport function formatStatus(status: string): string {\r\n  return status\r\n    .split(\"_\")\r\n    .map((word) => capitalize(word))\r\n    .join(\" \");\r\n}\r\n\r\n// Convert file size to readable format\r\nexport function formatFileSize(bytes: number): string {\r\n  if (bytes === 0) return \"0 Bytes\";\r\n\r\n  const k = 1024;\r\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n  return Math.round((bytes / Math.pow(k, i)) * 100) / 100 + \" \" + sizes[i];\r\n}\r\n\r\n// Validate email\r\nexport function isValidEmail(email: string): boolean {\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailRegex.test(email);\r\n}\r\n\r\n// Validate phone number\r\nexport function isValidPhoneNumber(phone: string): boolean {\r\n  const phoneRegex = /^(\\+62|0)[0-9]{9,12}$/;\r\n  return phoneRegex.test(phone.replace(/[-\\s]/g, \"\"));\r\n}\r\n\r\n// Distance between two coordinates (in km)\r\nexport function calculateDistance(\r\n  lat1: number,\r\n  lon1: number,\r\n  lat2: number,\r\n  lon2: number\r\n): number {\r\n  const R = 6371; // Earth's radius in km\r\n  const dLat = ((lat2 - lat1) * Math.PI) / 180;\r\n  const dLon = ((lon2 - lon1) * Math.PI) / 180;\r\n  const a =\r\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n    Math.cos((lat1 * Math.PI) / 180) *\r\n      Math.cos((lat2 * Math.PI) / 180) *\r\n      Math.sin(dLon / 2) *\r\n      Math.sin(dLon / 2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n  return R * c;\r\n}\r\n\r\n// Format coordinates\r\nexport function formatCoordinates(lat: number, lon: number): string {\r\n  return `${lat.toFixed(6)}, ${lon.toFixed(6)}`;\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAGO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,gJAAI,EAAC;AACd;AAGO,SAAS,eAAe,IAAmB;IAChD,MAAM,IAAI,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ;IACtD,OAAO,EAAE,kBAAkB,CAAC,SAAS;QACnC,MAAM;QACN,OAAO;QACP,KAAK;QACL,MAAM;QACN,QAAQ;IACV;AACF;AAGO,SAAS,WAAW,IAAmB;IAC5C,MAAM,IAAI,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ;IACtD,OAAO,EAAE,kBAAkB,CAAC,SAAS;QACnC,MAAM;QACN,OAAO;QACP,KAAK;IACP;AACF;AAGO,SAAS,WAAW,IAAmB;IAC5C,MAAM,IAAI,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ;IACtD,OAAO,EAAE,kBAAkB,CAAC,SAAS;QACnC,MAAM;QACN,QAAQ;QACR,QAAQ;IACV;AACF;AAGO,SAAS,eACd,MAAc;IAEd,MAAM,YAAiF;QACrF,kBAAkB;QAClB,MAAM;QACN,aAAa;QACb,UAAU;QACV,WAAW;QACX,WAAW;QAEX,sBAAsB;QACtB,SAAS;QACT,UAAU;QACV,UAAU;QAEV,mBAAmB;QACnB,WAAW;QACX,QAAQ;QACR,aAAa;QACb,UAAU;QAEV,aAAa;QACb,OAAO;QACP,QAAQ;QACR,UAAU;QAEV,kBAAkB;QAClB,KAAK;QACL,QAAQ;QACR,MAAM;QACN,QAAQ;IACV;IAEA,OAAO,SAAS,CAAC,OAAO,IAAI;AAC9B;AAGO,SAAS,iBAAiB,QAAgB;IAC/C,MAAM,SAAiC;QACrC,KAAK;QACL,QAAQ;QACR,MAAM;QACN,QAAQ;IACV;IACA,OAAO,MAAM,CAAC,SAAS,IAAI;AAC7B;AAGO,SAAS,oBAAoB,MAAc;IAChD,MAAM,SAAiC;QACrC,kBAAkB;QAClB,MAAM;QACN,aAAa;QACb,UAAU;QACV,WAAW;QACX,WAAW;QAEX,sBAAsB;QACtB,SAAS;QACT,UAAU;QACV,UAAU;QAEV,mBAAmB;QACnB,WAAW;QACX,QAAQ;QACR,aAAa;QACb,UAAU;IACZ;IACA,OAAO,MAAM,CAAC,OAAO,IAAI;AAC3B;AAGO,SAAS,WAAW,GAAW;IACpC,OAAO,IAAI,MAAM,CAAC,GAAG,WAAW,KAAK,IAAI,KAAK,CAAC;AACjD;AAGO,SAAS,WAAW,IAAY;IACrC,MAAM,UAAkC;QACtC,OAAO;QACP,QAAQ;QACR,UAAU;IACZ;IACA,OAAO,OAAO,CAAC,KAAK,IAAI,WAAW;AACrC;AAGO,SAAS,aAAa,MAAc;IACzC,OAAO,OACJ,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,OAAS,WAAW,OACzB,IAAI,CAAC;AACV;AAGO,SAAS,eAAe,KAAa;IAC1C,IAAI,UAAU,GAAG,OAAO;IAExB,MAAM,IAAI;IACV,MAAM,QAAQ;QAAC;QAAS;QAAM;QAAM;KAAK;IACzC,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC;IAEhD,OAAO,KAAK,KAAK,CAAC,AAAC,QAAQ,KAAK,GAAG,CAAC,GAAG,KAAM,OAAO,MAAM,MAAM,KAAK,CAAC,EAAE;AAC1E;AAGO,SAAS,aAAa,KAAa;IACxC,MAAM,aAAa;IACnB,OAAO,WAAW,IAAI,CAAC;AACzB;AAGO,SAAS,mBAAmB,KAAa;IAC9C,MAAM,aAAa;IACnB,OAAO,WAAW,IAAI,CAAC,MAAM,OAAO,CAAC,UAAU;AACjD;AAGO,SAAS,kBACd,IAAY,EACZ,IAAY,EACZ,IAAY,EACZ,IAAY;IAEZ,MAAM,IAAI,MAAM,uBAAuB;IACvC,MAAM,OAAO,AAAC,CAAC,OAAO,IAAI,IAAI,KAAK,EAAE,GAAI;IACzC,MAAM,OAAO,AAAC,CAAC,OAAO,IAAI,IAAI,KAAK,EAAE,GAAI;IACzC,MAAM,IACJ,KAAK,GAAG,CAAC,OAAO,KAAK,KAAK,GAAG,CAAC,OAAO,KACrC,KAAK,GAAG,CAAC,AAAC,OAAO,KAAK,EAAE,GAAI,OAC1B,KAAK,GAAG,CAAC,AAAC,OAAO,KAAK,EAAE,GAAI,OAC5B,KAAK,GAAG,CAAC,OAAO,KAChB,KAAK,GAAG,CAAC,OAAO;IACpB,MAAM,IAAI,IAAI,KAAK,KAAK,CAAC,KAAK,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI;IACrD,OAAO,IAAI;AACb;AAGO,SAAS,kBAAkB,GAAW,EAAE,GAAW;IACxD,OAAO,GAAG,IAAI,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,OAAO,CAAC,IAAI;AAC/C"}},
    {"offset": {"line": 396, "column": 0}, "map": {"version":3,"sources":["file:///D:/kulaih/server/PMI-FE-Call/src/components/ui/Badge.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport type {\r\n  ReportStatus,\r\n  ReportPriority,\r\n  VehicleStatus,\r\n  AssignmentStatus,\r\n  UserRole,\r\n} from \"@/lib/types\";\r\n\r\ninterface BadgeProps {\r\n  children: React.ReactNode;\r\n  variant?:\r\n    | \"default\"\r\n    | \"success\"\r\n    | \"warning\"\r\n    | \"danger\"\r\n    | \"info\"\r\n    | ReportStatus\r\n    | ReportPriority\r\n    | VehicleStatus\r\n    | AssignmentStatus\r\n    | UserRole;\r\n  className?: string;\r\n}\r\n\r\nexport function Badge({\r\n  children,\r\n  variant = \"default\",\r\n  className,\r\n}: BadgeProps) {\r\n  const variantStyles: Record<string, string> = {\r\n    default: \"bg-gray-100 text-gray-800\",\r\n    success: \"bg-green-100 text-green-800\",\r\n    warning: \"bg-yellow-100 text-yellow-800\",\r\n    danger: \"bg-red-100 text-red-800\",\r\n    info: \"bg-blue-100 text-blue-800\",\r\n    // Report status - using status colors from theme\r\n    pending:\r\n      \"bg-status-pending-bg text-yellow-800 border border-status-pending\",\r\n    active: \"bg-blue-100 text-blue-800 border border-blue-300\",\r\n    assigned:\r\n      \"bg-status-assigned-bg text-blue-800 border border-status-assigned\",\r\n    on_progress:\r\n      \"bg-status-on-progress-bg text-orange-800 border border-status-on-progress\",\r\n    completed:\r\n      \"bg-status-completed-bg text-green-800 border border-status-completed\",\r\n    cancelled:\r\n      \"bg-status-cancelled-bg text-gray-800 border border-status-cancelled\",\r\n    // Report priority\r\n    low: \"bg-gray-100 text-gray-700 border border-gray-300\",\r\n    medium: \"bg-yellow-100 text-yellow-800 border border-yellow-400\",\r\n    high: \"bg-orange-100 text-orange-800 border border-orange-400\",\r\n    urgent: \"bg-red-100 text-red-800 border border-red-400\",\r\n    critical: \"bg-red-100 text-red-800 border border-red-600 font-semibold\",\r\n    // Vehicle status\r\n    available: \"bg-green-100 text-green-800 border border-green-400\",\r\n    on_duty: \"bg-blue-100 text-blue-800 border border-blue-400\",\r\n    maintenance: \"bg-gray-100 text-gray-700 border border-gray-400\",\r\n    // User roles\r\n    admin: \"bg-purple-100 text-purple-800 border border-purple-400\",\r\n    driver: \"bg-blue-100 text-blue-800 border border-blue-400\",\r\n    reporter: \"bg-green-100 text-green-800 border border-green-400\",\r\n  };\r\n\r\n  return (\r\n    <span\r\n      className={cn(\r\n        \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors-smooth\",\r\n        variantStyles[variant] || variantStyles.default,\r\n        className\r\n      )}\r\n    >\r\n      {children}\r\n    </span>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AAyBO,SAAS,MAAM,EACpB,QAAQ,EACR,UAAU,SAAS,EACnB,SAAS,EACE;IACX,MAAM,gBAAwC;QAC5C,SAAS;QACT,SAAS;QACT,SAAS;QACT,QAAQ;QACR,MAAM;QACN,iDAAiD;QACjD,SACE;QACF,QAAQ;QACR,UACE;QACF,aACE;QACF,WACE;QACF,WACE;QACF,kBAAkB;QAClB,KAAK;QACL,QAAQ;QACR,MAAM;QACN,QAAQ;QACR,UAAU;QACV,iBAAiB;QACjB,WAAW;QACX,SAAS;QACT,aAAa;QACb,aAAa;QACb,OAAO;QACP,QAAQ;QACR,UAAU;IACZ;IAEA,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,oGACA,aAAa,CAAC,QAAQ,IAAI,cAAc,OAAO,EAC/C;kBAGD;;;;;;AAGP;KAlDgB"}},
    {"offset": {"line": 452, "column": 0}, "map": {"version":3,"sources":["file:///D:/kulaih/server/PMI-FE-Call/src/components/ui/ConfirmDialog.tsx"],"sourcesContent":["import { useState, ReactNode } from \"react\";\r\nimport { AlertTriangle, X } from \"lucide-react\";\r\n\r\ninterface ConfirmDialogProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onConfirm: () => void;\r\n  title: string;\r\n  message: string;\r\n  confirmText?: string;\r\n  cancelText?: string;\r\n  type?: \"danger\" | \"warning\" | \"info\";\r\n  isLoading?: boolean;\r\n  icon?: ReactNode;\r\n}\r\n\r\nexport function ConfirmDialog({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  title,\r\n  message,\r\n  confirmText = \"Confirm\",\r\n  cancelText = \"Cancel\",\r\n  type = \"danger\",\r\n  isLoading = false,\r\n  icon,\r\n}: ConfirmDialogProps) {\r\n  if (!isOpen) return null;\r\n\r\n  const typeStyles = {\r\n    danger: {\r\n      iconBg: \"bg-red-100\",\r\n      iconColor: \"text-red-600\",\r\n      button: \"bg-red-600 hover:bg-red-700 focus:ring-red-500\",\r\n    },\r\n    warning: {\r\n      iconBg: \"bg-yellow-100\",\r\n      iconColor: \"text-yellow-600\",\r\n      button: \"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500\",\r\n    },\r\n    info: {\r\n      iconBg: \"bg-blue-100\",\r\n      iconColor: \"text-blue-600\",\r\n      button: \"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500\",\r\n    },\r\n  };\r\n\r\n  const styles = typeStyles[type];\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n      {/* Backdrop */}\r\n      <div\r\n        className=\"fixed inset-0 bg-black bg-opacity-50 transition-opacity\"\r\n        onClick={onClose}\r\n      />\r\n\r\n      {/* Dialog */}\r\n      <div className=\"flex min-h-full items-center justify-center p-4\">\r\n        <div className=\"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6 animate-scale-in\">\r\n          {/* Close button */}\r\n          <button\r\n            onClick={onClose}\r\n            className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600\"\r\n            disabled={isLoading}\r\n          >\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n\r\n          {/* Icon */}\r\n          <div className=\"flex items-center justify-center mb-4\">\r\n            <div className={`${styles.iconBg} rounded-full p-3`}>\r\n              {icon || (\r\n                <AlertTriangle className={`w-6 h-6 ${styles.iconColor}`} />\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Title */}\r\n          <h3 className=\"text-lg font-semibold text-gray-900 text-center mb-2\">\r\n            {title}\r\n          </h3>\r\n\r\n          {/* Message */}\r\n          <p className=\"text-sm text-gray-600 text-center mb-6\">{message}</p>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex gap-3\">\r\n            <button\r\n              onClick={onClose}\r\n              className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              disabled={isLoading}\r\n            >\r\n              {cancelText}\r\n            </button>\r\n            <button\r\n              onClick={onConfirm}\r\n              className={`flex-1 px-4 py-2 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 ${styles.button}`}\r\n              disabled={isLoading}\r\n            >\r\n              {isLoading ? (\r\n                <>\r\n                  <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\r\n                  <span>Processing...</span>\r\n                </>\r\n              ) : (\r\n                confirmText\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Hook for managing confirm dialog state\r\nexport function useConfirmDialog() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [config, setConfig] = useState<Partial<ConfirmDialogProps>>({});\r\n\r\n  const show = (dialogConfig: Partial<ConfirmDialogProps>) => {\r\n    setConfig(dialogConfig);\r\n    setIsOpen(true);\r\n  };\r\n\r\n  const hide = () => {\r\n    setIsOpen(false);\r\n    setTimeout(() => setConfig({}), 300); // Clear after animation\r\n  };\r\n\r\n  return {\r\n    isOpen,\r\n    show,\r\n    hide,\r\n    config,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAAA;;;;;AAeO,SAAS,cAAc,EAC5B,MAAM,EACN,OAAO,EACP,SAAS,EACT,KAAK,EACL,OAAO,EACP,cAAc,SAAS,EACvB,aAAa,QAAQ,EACrB,OAAO,QAAQ,EACf,YAAY,KAAK,EACjB,IAAI,EACe;IACnB,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,aAAa;QACjB,QAAQ;YACN,QAAQ;YACR,WAAW;YACX,QAAQ;QACV;QACA,SAAS;YACP,QAAQ;YACR,WAAW;YACX,QAAQ;QACV;QACA,MAAM;YACJ,QAAQ;YACR,WAAW;YACX,QAAQ;QACV;IACF;IAEA,MAAM,SAAS,UAAU,CAAC,KAAK;IAE/B,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAIX,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BACC,SAAS;4BACT,WAAU;4BACV,UAAU;sCAEV,cAAA,6LAAC,oMAAC;gCAAC,WAAU;;;;;;;;;;;sCAIf,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAW,GAAG,OAAO,MAAM,CAAC,iBAAiB,CAAC;0CAChD,sBACC,6LAAC,4OAAa;oCAAC,WAAW,CAAC,QAAQ,EAAE,OAAO,SAAS,EAAE;;;;;;;;;;;;;;;;sCAM7D,6LAAC;4BAAG,WAAU;sCACX;;;;;;sCAIH,6LAAC;4BAAE,WAAU;sCAA0C;;;;;;sCAGvD,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,SAAS;oCACT,WAAU;oCACV,UAAU;8CAET;;;;;;8CAEH,6LAAC;oCACC,SAAS;oCACT,WAAW,CAAC,oMAAoM,EAAE,OAAO,MAAM,EAAE;oCACjO,UAAU;8CAET,0BACC;;0DACE,6LAAC;gDAAI,WAAU;;;;;;0DACf,6LAAC;0DAAK;;;;;;;uDAGR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQhB;KAnGgB;AAsGT,SAAS;;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAA8B,CAAC;IAEnE,MAAM,OAAO,CAAC;QACZ,UAAU;QACV,UAAU;IACZ;IAEA,MAAM,OAAO;QACX,UAAU;QACV,WAAW,IAAM,UAAU,CAAC,IAAI,MAAM,wBAAwB;IAChE;IAEA,OAAO;QACL;QACA;QACA;QACA;IACF;AACF;GApBgB"}},
    {"offset": {"line": 649, "column": 0}, "map": {"version":3,"sources":["file:///D:/kulaih/server/PMI-FE-Call/src/app/%28dashboard%29/driver/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { assignmentsApi, reportsApi, vehiclesApi } from \"@/lib/api\";\r\nimport { useAuth } from \"@/hooks/useAuth\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport {\r\n  AlertCircle,\r\n  CheckCircle,\r\n  Clock,\r\n  MapPin,\r\n  Phone,\r\n  PlayCircle,\r\n  Truck,\r\n  Calendar,\r\n} from \"lucide-react\";\r\nimport { Badge } from \"@/components/ui/Badge\";\r\nimport VehicleSelectionModal from \"@/components/ui/VehicleSelectionModal\";\r\nimport { ConfirmDialog } from \"@/components/ui/ConfirmDialog\";\r\nimport { formatDateTime } from \"@/lib/utils\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function DriverDashboardPage() {\r\n  const { user } = useAuth();\r\n  const router = useRouter();\r\n  const queryClient = useQueryClient();\r\n  const [isVehicleModalOpen, setIsVehicleModalOpen] = useState(false);\r\n  const [confirmDialog, setConfirmDialog] = useState<{\r\n    isOpen: boolean;\r\n    status: \"on_way\" | \"arrived_pickup\" | \"arrived_destination\" | \"done\" | null;\r\n    title: string;\r\n    message: string;\r\n  }>({\r\n    isOpen: false,\r\n    status: null,\r\n    title: \"\",\r\n    message: \"\",\r\n  });\r\n\r\n  // Fetch driver's assignments using driver-specific endpoint\r\n  const { data: assignmentsData, isLoading } = useQuery({\r\n    queryKey: [\"driver-assignments\", user?.id],\r\n    queryFn: () => assignmentsApi.getAssignmentsByDriver(user!.id),\r\n    enabled: !!user?.id && user?.role === \"driver\",\r\n    staleTime: 0,\r\n    refetchInterval: 5 * 1000, // Auto-refetch every 5 seconds\r\n    refetchIntervalInBackground: true,\r\n  });\r\n\r\n  // Mutation to update report status\r\n  const updateReportStatusMutation = useMutation({\r\n    mutationFn: (\r\n      status: \"on_way\" | \"arrived_pickup\" | \"arrived_destination\" | \"done\"\r\n    ) =>\r\n      reportsApi.updateReportStatus(activeAssignment!.report_id, {\r\n        status,\r\n      }),\r\n    onSuccess: (data, status) => {\r\n      const statusMessages: Record<string, string> = {\r\n        on_way: \"Departure confirmed - On the way\",\r\n        arrived_pickup: \"Arrived at pickup location\",\r\n        arrived_destination: \"Arrived at destination\",\r\n        done: \"Assignment completed\",\r\n      };\r\n      toast.success(statusMessages[status] || \"Status updated\");\r\n      // Invalidate all queries to ensure sync across all devices/tabs\r\n      queryClient.invalidateQueries({ queryKey: [\"driver-assignments\"] });\r\n      queryClient.invalidateQueries({ queryKey: [\"assignments\"] });\r\n      queryClient.invalidateQueries({\r\n        queryKey: [\"report\", activeAssignment!.report_id],\r\n      });\r\n      queryClient.invalidateQueries({ queryKey: [\"reports\"] });\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(error.message || \"Failed to update status\");\r\n    },\r\n  });\r\n\r\n  // Mutation to assign vehicle\r\n  const assignVehicleMutation = useMutation({\r\n    mutationFn: (vehicleId: string) =>\r\n      assignmentsApi.updateDriverAssignment(activeAssignment!.id, {\r\n        vehicle_id: vehicleId,\r\n      }),\r\n    onSuccess: () => {\r\n      toast.success(\"Vehicle assigned successfully\");\r\n      queryClient.invalidateQueries({ queryKey: [\"driver-assignments\"] });\r\n      setIsVehicleModalOpen(false);\r\n    },\r\n    onError: (error: Error) => {\r\n      toast.error(error.message || \"Failed to assign vehicle\");\r\n    },\r\n  });\r\n\r\n  const allAssignments = assignmentsData?.data || [];\r\n\r\n  // Get most recent assignment that is not completed\r\n  // Sort by assigned_at descending (most recent first) and filter out completed\r\n  const activeAssignment = allAssignments\r\n    .filter((assignment) => assignment.status !== \"completed\")\r\n    .sort((a, b) => {\r\n      const dateA = new Date(a.assigned_at).getTime();\r\n      const dateB = new Date(b.assigned_at).getTime();\r\n      return dateB - dateA; // Most recent first\r\n    })[0];\r\n\r\n  // Fetch report for active assignment\r\n  const { data: reportData } = useQuery({\r\n    queryKey: [\"report\", activeAssignment?.report_id],\r\n    queryFn: () => reportsApi.getReportById(activeAssignment!.report_id),\r\n    enabled: !!activeAssignment?.report_id,\r\n  });\r\n\r\n  // Fetch vehicle for active assignment\r\n  const { data: vehicleData } = useQuery({\r\n    queryKey: [\"vehicle\", activeAssignment?.vehicle_id],\r\n    queryFn: () => vehiclesApi.getVehicleById(activeAssignment!.vehicle_id!),\r\n    enabled: !!activeAssignment?.vehicle_id,\r\n  });\r\n\r\n  const report = reportData?.data;\r\n  const vehicle = vehicleData?.data;\r\n\r\n  // Redirect if not driver\r\n  if (user && user.role !== \"driver\") {\r\n    router.push(\"/dashboard\");\r\n    return null;\r\n  }\r\n\r\n  // Calculate stats based on assignment status\r\n  const today = new Date();\r\n  today.setHours(0, 0, 0, 0);\r\n\r\n  const completedToday = allAssignments.filter(\r\n    (assignment) =>\r\n      assignment.status === \"completed\" &&\r\n      new Date(assignment.completed_at || \"\") >= today\r\n  ).length;\r\n\r\n  const completedTotal = allAssignments.filter(\r\n    (assignment) => assignment.status === \"completed\"\r\n  ).length;\r\n\r\n  const handleUpdateReportStatus = (\r\n    status: \"on_way\" | \"arrived_pickup\" | \"arrived_destination\" | \"done\"\r\n  ) => {\r\n    const statusMessages: Record<string, { title: string; message: string }> = {\r\n      on_way: {\r\n        title: \"Confirm Departure\",\r\n        message:\r\n          \"Are you sure you want to confirm departure? This will mark your status as 'On the Way' to the pickup location.\",\r\n      },\r\n      arrived_pickup: {\r\n        title: \"Confirm Arrival at Pickup\",\r\n        message:\r\n          \"Have you arrived at the pickup location? This will update your status to 'Arrived at Pickup'.\",\r\n      },\r\n      arrived_destination: {\r\n        title: \"Confirm Arrival at Destination\",\r\n        message:\r\n          \"Have you arrived at the destination? This will update your status to 'Arrived at Destination'.\",\r\n      },\r\n      done: {\r\n        title: \"Mark as Completed\",\r\n        message:\r\n          \"Are you sure you want to mark this assignment as completed? This action will finalize the assignment.\",\r\n      },\r\n    };\r\n\r\n    const { title, message } = statusMessages[status];\r\n    setConfirmDialog({\r\n      isOpen: true,\r\n      status,\r\n      title,\r\n      message,\r\n    });\r\n  };\r\n\r\n  const handleConfirmStatusUpdate = () => {\r\n    if (confirmDialog.status) {\r\n      updateReportStatusMutation.mutate(confirmDialog.status);\r\n      setConfirmDialog({\r\n        isOpen: false,\r\n        status: null,\r\n        title: \"\",\r\n        message: \"\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCancelStatusUpdate = () => {\r\n    setConfirmDialog({\r\n      isOpen: false,\r\n      status: null,\r\n      title: \"\",\r\n      message: \"\",\r\n    });\r\n  };\r\n\r\n  const handleSelectVehicle = (vehicleId: string) => {\r\n    assignVehicleMutation.mutate(vehicleId);\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto p-6 space-y-6\">\r\n        {/* Header */}\r\n        <div className=\"bg-white rounded-lg shadow p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">\r\n                Driver Dashboard\r\n              </h1>\r\n              <p className=\"text-gray-600 mt-1\">Welcome back, {user?.name}!</p>\r\n            </div>\r\n            <Truck className=\"w-12 h-12 text-red-600\" />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-gray-600\">\r\n                  Completed Today\r\n                </p>\r\n                <p className=\"text-3xl font-bold text-green-600 mt-1\">\r\n                  {completedToday}\r\n                </p>\r\n              </div>\r\n              <CheckCircle className=\"w-12 h-12 text-green-400\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-gray-600\">\r\n                  Total Completed\r\n                </p>\r\n                <p className=\"text-3xl font-bold text-blue-600 mt-1\">\r\n                  {completedTotal}\r\n                </p>\r\n              </div>\r\n              <Calendar className=\"w-12 h-12 text-blue-400\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-lg shadow p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-gray-600\">\r\n                  Active Assignment\r\n                </p>\r\n                <p className=\"text-3xl font-bold text-red-600 mt-1\">\r\n                  {activeAssignment &&\r\n                  (!report ||\r\n                    (report.status !== \"done\" && report.status !== \"canceled\"))\r\n                    ? \"1\"\r\n                    : \"0\"}\r\n                </p>\r\n              </div>\r\n              <Clock className=\"w-12 h-12 text-red-400\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Active Assignment */}\r\n        {isLoading ? (\r\n          <div className=\"bg-white rounded-lg shadow p-8 text-center\">\r\n            <p className=\"text-gray-600\">Loading assignment...</p>\r\n          </div>\r\n        ) : activeAssignment &&\r\n          (!report ||\r\n            (report.status !== \"done\" && report.status !== \"canceled\")) ? (\r\n          <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n            <div className=\"bg-red-600 px-6 py-4\">\r\n              <h2 className=\"text-xl font-bold text-white\">\r\n                Active Assignment\r\n              </h2>\r\n            </div>\r\n\r\n            <div className=\"p-6 space-y-6\">\r\n              {/* Status Badge - Large and Prominent */}\r\n              <div className=\"flex justify-center\">\r\n                <div className=\"inline-flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-2xl\">\r\n                  <div\r\n                    className={`w-3 h-3 rounded-full animate-pulse ${\r\n                      report?.status === \"on_way\" ||\r\n                      report?.status === \"arrived_pickup\" ||\r\n                      report?.status === \"arrived_destination\"\r\n                        ? \"bg-green-500\"\r\n                        : \"bg-blue-500\"\r\n                    }`}\r\n                  />\r\n                  <span className=\"text-lg font-bold text-gray-900\">\r\n                    {!report\r\n                      ? \"üìã Loading...\"\r\n                      : report.status === \"pending\"\r\n                      ? \"üìã Pending\"\r\n                      : report.status === \"assigned\"\r\n                      ? \"üìå Assigned\"\r\n                      : report.status === \"on_way\"\r\n                      ? \"üöÄ On the Way\"\r\n                      : report.status === \"arrived_pickup\"\r\n                      ? \"üìç At Pickup Location\"\r\n                      : report.status === \"arrived_destination\"\r\n                      ? \"üè• At Destination\"\r\n                      : report.status === \"done\"\r\n                      ? \"‚úÖ Completed\"\r\n                      : report.status}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Action Buttons - Modern Card Style */}\r\n              {report && (\r\n                <div className=\"grid grid-cols-1 gap-3\">\r\n                  {report.status === \"assigned\" &&\r\n                    activeAssignment.vehicle_id && (\r\n                      <button\r\n                        onClick={() => handleUpdateReportStatus(\"on_way\")}\r\n                        disabled={updateReportStatusMutation.isPending}\r\n                        className=\"group relative overflow-hidden bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl p-4 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 transition-all duration-200\"\r\n                      >\r\n                        <div className=\"flex items-center justify-center gap-3\">\r\n                          <div className=\"bg-white/20 rounded-full p-2\">\r\n                            <PlayCircle className=\"w-6 h-6\" />\r\n                          </div>\r\n                          <span className=\"text-lg font-bold\">\r\n                            {updateReportStatusMutation.isPending\r\n                              ? \"Updating...\"\r\n                              : \"üöÄ Confirm Departure\"}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"absolute inset-0 bg-gradient-to-r from-green-600 to-emerald-700 opacity-0 group-hover:opacity-100 transition-opacity duration-200\" />\r\n                      </button>\r\n                    )}\r\n\r\n                  {report.status === \"on_way\" && (\r\n                    <button\r\n                      onClick={() => handleUpdateReportStatus(\"arrived_pickup\")}\r\n                      disabled={updateReportStatusMutation.isPending}\r\n                      className=\"group relative overflow-hidden bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl p-4 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 transition-all duration-200\"\r\n                    >\r\n                      <div className=\"flex items-center justify-center gap-3\">\r\n                        <div className=\"bg-white/20 rounded-full p-2\">\r\n                          <MapPin className=\"w-6 h-6\" />\r\n                        </div>\r\n                        <span className=\"text-lg font-bold\">\r\n                          {updateReportStatusMutation.isPending\r\n                            ? \"Updating...\"\r\n                            : \"üìç Arrived at Pickup\"}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-700 opacity-0 group-hover:opacity-100 transition-opacity duration-200\" />\r\n                    </button>\r\n                  )}\r\n\r\n                  {report.status === \"arrived_pickup\" && (\r\n                    <button\r\n                      onClick={() =>\r\n                        handleUpdateReportStatus(\"arrived_destination\")\r\n                      }\r\n                      disabled={updateReportStatusMutation.isPending}\r\n                      className=\"group relative overflow-hidden bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-xl p-4 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 transition-all duration-200\"\r\n                    >\r\n                      <div className=\"flex items-center justify-center gap-3\">\r\n                        <div className=\"bg-white/20 rounded-full p-2\">\r\n                          <MapPin className=\"w-6 h-6\" />\r\n                        </div>\r\n                        <span className=\"text-lg font-bold\">\r\n                          {updateReportStatusMutation.isPending\r\n                            ? \"Updating...\"\r\n                            : \"üè• Arrived at Destination\"}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-700 opacity-0 group-hover:opacity-100 transition-opacity duration-200\" />\r\n                    </button>\r\n                  )}\r\n\r\n                  {report.status === \"arrived_destination\" && (\r\n                    <button\r\n                      onClick={() => handleUpdateReportStatus(\"done\")}\r\n                      disabled={updateReportStatusMutation.isPending}\r\n                      className=\"group relative overflow-hidden bg-gradient-to-r from-green-500 to-teal-600 text-white rounded-xl p-4 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:hover:scale-100 transition-all duration-200\"\r\n                    >\r\n                      <div className=\"flex items-center justify-center gap-3\">\r\n                        <div className=\"bg-white/20 rounded-full p-2\">\r\n                          <CheckCircle className=\"w-6 h-6\" />\r\n                        </div>\r\n                        <span className=\"text-lg font-bold\">\r\n                          {updateReportStatusMutation.isPending\r\n                            ? \"Updating...\"\r\n                            : \"‚úÖ Mark as Done\"}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"absolute inset-0 bg-gradient-to-r from-green-600 to-teal-700 opacity-0 group-hover:opacity-100 transition-opacity duration-200\" />\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Report Details */}\r\n              <div className=\"border border-gray-200 rounded-lg p-4\">\r\n                <h3 className=\"font-semibold text-gray-900 mb-3 flex items-center gap-2\">\r\n                  <AlertCircle className=\"w-5 h-5 text-red-600\" />\r\n                  Emergency Report\r\n                </h3>\r\n                {report ? (\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-600\">Requester Name</p>\r\n                      <p className=\"font-medium text-gray-900\">\r\n                        {report.requester_name}\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-600\">Requester Phone</p>\r\n                      <p className=\"font-medium text-gray-900 flex items-center gap-2\">\r\n                        <Phone className=\"w-4 h-4\" />\r\n                        {report.requester_phone}\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-600\">Patient Name</p>\r\n                      <p className=\"font-medium text-gray-900\">\r\n                        {report.patient_name} - {report.patient_age} years old\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-600\">Patient Gender</p>\r\n                      <p className=\"font-medium text-gray-900 capitalize\">\r\n                        {report.patient_gender}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"md:col-span-2\">\r\n                      <p className=\"text-sm text-gray-600\">Pickup Location</p>\r\n                      <p className=\"font-medium text-gray-900 flex items-center gap-2\">\r\n                        <MapPin className=\"w-4 h-4\" />\r\n                        {report.pickup_address}\r\n                      </p>\r\n                      {report.pickup_address && (\r\n                        <a\r\n                          href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(\r\n                            report.pickup_address\r\n                          )}`}\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          className=\"text-sm text-blue-600 hover:underline mt-1 inline-block\"\r\n                        >\r\n                          Open in Google Maps ‚Üí\r\n                        </a>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"md:col-span-2\">\r\n                      <p className=\"text-sm text-gray-600\">Destination</p>\r\n                      <p className=\"font-medium text-gray-900\">\r\n                        {report.destination_address}\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-600\">Report Status</p>\r\n                      <Badge variant={report.status || \"pending\"}>\r\n                        {report.status}\r\n                      </Badge>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <p className=\"text-gray-500\">Loading report details...</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Vehicle Details */}\r\n              <div className=\"border border-gray-200 rounded-lg p-4\">\r\n                <h3 className=\"font-semibold text-gray-900 mb-3 flex items-center gap-2\">\r\n                  <Truck className=\"w-5 h-5 text-blue-600\" />\r\n                  Vehicle Details\r\n                </h3>\r\n                {vehicle ? (\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-600\">Vehicle Name</p>\r\n                        <p className=\"font-medium text-gray-900\">\r\n                          {vehicle.name}\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-600\">Plate Number</p>\r\n                        <p className=\"font-medium text-gray-900\">\r\n                          {vehicle.plate_number}\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-600\">Type</p>\r\n                        <p className=\"font-medium text-gray-900\">\r\n                          {vehicle.type || \"N/A\"}\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-600\">Status</p>\r\n                        <Badge variant={vehicle.status}>{vehicle.status}</Badge>\r\n                      </div>\r\n                    </div>\r\n                    {/* Allow change vehicle only if status is still \"assigned\" */}\r\n                    {report?.status === \"assigned\" && (\r\n                      <button\r\n                        onClick={() => setIsVehicleModalOpen(true)}\r\n                        disabled={assignVehicleMutation.isPending}\r\n                        className=\"w-full flex items-center justify-center gap-2 px-3 py-2 bg-blue-50 text-blue-700 border border-blue-200 rounded-lg hover:bg-blue-100 disabled:opacity-50 transition-all duration-200\"\r\n                      >\r\n                        <Truck className=\"w-4 h-4\" />\r\n                        <span className=\"text-sm font-medium\">\r\n                          {assignVehicleMutation.isPending\r\n                            ? \"Changing...\"\r\n                            : \"Change Vehicle\"}\r\n                        </span>\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                ) : activeAssignment.vehicle_id ? (\r\n                  <p className=\"text-gray-500\">Loading vehicle details...</p>\r\n                ) : (\r\n                  <button\r\n                    onClick={() => setIsVehicleModalOpen(true)}\r\n                    disabled={assignVehicleMutation.isPending}\r\n                    className=\"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 transition-all duration-200 shadow-md hover:shadow-lg\"\r\n                  >\r\n                    <Truck className=\"w-5 h-5\" />\r\n                    <span className=\"font-medium\">\r\n                      {assignVehicleMutation.isPending\r\n                        ? \"Assigning...\"\r\n                        : \"üöó Select Vehicle\"}\r\n                    </span>\r\n                  </button>\r\n                )}\r\n              </div>\r\n\r\n              {/* Timeline */}\r\n              <div className=\"border-t border-gray-200 pt-4\">\r\n                <h3 className=\"font-semibold text-gray-900 mb-3\">Timeline</h3>\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center gap-2 text-sm\">\r\n                    <Clock className=\"w-4 h-4 text-gray-400\" />\r\n                    <span className=\"text-gray-600\">Assigned:</span>\r\n                    <span className=\"font-medium text-gray-900\">\r\n                      {formatDateTime(activeAssignment.assigned_at)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white rounded-lg shadow p-8 text-center\">\r\n            <CheckCircle className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n              No Active Assignment\r\n            </h3>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              You don&apos;t have any active assignments at the moment.\r\n            </p>\r\n            <button\r\n              onClick={() => router.push(\"/driver/assignments\")}\r\n              className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\r\n            >\r\n              View All Assignments\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Quick Actions */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <button\r\n            onClick={() => router.push(\"/driver/assignments\")}\r\n            className=\"bg-white rounded-lg shadow p-6 text-left hover:shadow-lg transition-shadow\"\r\n          >\r\n            <Clock className=\"w-8 h-8 text-blue-600 mb-3\" />\r\n            <h3 className=\"font-semibold text-gray-900 mb-1\">My Assignments</h3>\r\n            <p className=\"text-sm text-gray-600\">\r\n              View all your assignments and history\r\n            </p>\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => router.push(\"/driver/location\")}\r\n            className=\"bg-white rounded-lg shadow p-6 text-left hover:shadow-lg transition-shadow\"\r\n          >\r\n            <MapPin className=\"w-8 h-8 text-green-600 mb-3\" />\r\n            <h3 className=\"font-semibold text-gray-900 mb-1\">\r\n              Update Location\r\n            </h3>\r\n            <p className=\"text-sm text-gray-600\">\r\n              Share your current location with dispatch\r\n            </p>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <VehicleSelectionModal\r\n        isOpen={isVehicleModalOpen}\r\n        onClose={() => setIsVehicleModalOpen(false)}\r\n        onSelectVehicle={handleSelectVehicle}\r\n      />\r\n\r\n      <ConfirmDialog\r\n        isOpen={confirmDialog.isOpen}\r\n        onClose={handleCancelStatusUpdate}\r\n        onConfirm={handleConfirmStatusUpdate}\r\n        title={confirmDialog.title}\r\n        message={confirmDialog.message}\r\n        confirmText=\"Yes, Confirm\"\r\n        cancelText=\"Cancel\"\r\n        type=\"info\"\r\n        isLoading={updateReportStatusMutation.isPending}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}